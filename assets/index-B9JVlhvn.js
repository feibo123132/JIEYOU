(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))i(o);new MutationObserver(o=>{for(const a of o)if(a.type==="childList")for(const u of a.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&i(u)}).observe(document,{childList:!0,subtree:!0});function n(o){const a={};return o.integrity&&(a.integrity=o.integrity),o.referrerPolicy&&(a.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?a.credentials="include":o.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function i(o){if(o.ep)return;o.ep=!0;const a=n(o);fetch(o.href,a)}})();function A_(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var Df={exports:{}},tl={},Nf={exports:{}},Ne={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var By;function wS(){if(By)return Ne;By=1;var t=Symbol.for("react.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),a=Symbol.for("react.provider"),u=Symbol.for("react.context"),f=Symbol.for("react.forward_ref"),d=Symbol.for("react.suspense"),m=Symbol.for("react.memo"),g=Symbol.for("react.lazy"),y=Symbol.iterator;function E(F){return F===null||typeof F!="object"?null:(F=y&&F[y]||F["@@iterator"],typeof F=="function"?F:null)}var A={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},M=Object.assign,b={};function k(F,Y,ue){this.props=F,this.context=Y,this.refs=b,this.updater=ue||A}k.prototype.isReactComponent={},k.prototype.setState=function(F,Y){if(typeof F!="object"&&typeof F!="function"&&F!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,F,Y,"setState")},k.prototype.forceUpdate=function(F){this.updater.enqueueForceUpdate(this,F,"forceUpdate")};function O(){}O.prototype=k.prototype;function K(F,Y,ue){this.props=F,this.context=Y,this.refs=b,this.updater=ue||A}var B=K.prototype=new O;B.constructor=K,M(B,k.prototype),B.isPureReactComponent=!0;var Z=Array.isArray,ne=Object.prototype.hasOwnProperty,le={current:null},R={key:!0,ref:!0,__self:!0,__source:!0};function x(F,Y,ue){var me,we={},Ie=null,Me=null;if(Y!=null)for(me in Y.ref!==void 0&&(Me=Y.ref),Y.key!==void 0&&(Ie=""+Y.key),Y)ne.call(Y,me)&&!R.hasOwnProperty(me)&&(we[me]=Y[me]);var Ee=arguments.length-2;if(Ee===1)we.children=ue;else if(1<Ee){for(var Be=Array(Ee),Et=0;Et<Ee;Et++)Be[Et]=arguments[Et+2];we.children=Be}if(F&&F.defaultProps)for(me in Ee=F.defaultProps,Ee)we[me]===void 0&&(we[me]=Ee[me]);return{$$typeof:t,type:F,key:Ie,ref:Me,props:we,_owner:le.current}}function I(F,Y){return{$$typeof:t,type:F.type,key:Y,ref:F.ref,props:F.props,_owner:F._owner}}function V(F){return typeof F=="object"&&F!==null&&F.$$typeof===t}function D(F){var Y={"=":"=0",":":"=2"};return"$"+F.replace(/[=:]/g,function(ue){return Y[ue]})}var j=/\/+/g;function P(F,Y){return typeof F=="object"&&F!==null&&F.key!=null?D(""+F.key):Y.toString(36)}function je(F,Y,ue,me,we){var Ie=typeof F;(Ie==="undefined"||Ie==="boolean")&&(F=null);var Me=!1;if(F===null)Me=!0;else switch(Ie){case"string":case"number":Me=!0;break;case"object":switch(F.$$typeof){case t:case e:Me=!0}}if(Me)return Me=F,we=we(Me),F=me===""?"."+P(Me,0):me,Z(we)?(ue="",F!=null&&(ue=F.replace(j,"$&/")+"/"),je(we,Y,ue,"",function(Et){return Et})):we!=null&&(V(we)&&(we=I(we,ue+(!we.key||Me&&Me.key===we.key?"":(""+we.key).replace(j,"$&/")+"/")+F)),Y.push(we)),1;if(Me=0,me=me===""?".":me+":",Z(F))for(var Ee=0;Ee<F.length;Ee++){Ie=F[Ee];var Be=me+P(Ie,Ee);Me+=je(Ie,Y,ue,Be,we)}else if(Be=E(F),typeof Be=="function")for(F=Be.call(F),Ee=0;!(Ie=F.next()).done;)Ie=Ie.value,Be=me+P(Ie,Ee++),Me+=je(Ie,Y,ue,Be,we);else if(Ie==="object")throw Y=String(F),Error("Objects are not valid as a React child (found: "+(Y==="[object Object]"?"object with keys {"+Object.keys(F).join(", ")+"}":Y)+"). If you meant to render a collection of children, use an array instead.");return Me}function Qe(F,Y,ue){if(F==null)return F;var me=[],we=0;return je(F,me,"","",function(Ie){return Y.call(ue,Ie,we++)}),me}function Ve(F){if(F._status===-1){var Y=F._result;Y=Y(),Y.then(function(ue){(F._status===0||F._status===-1)&&(F._status=1,F._result=ue)},function(ue){(F._status===0||F._status===-1)&&(F._status=2,F._result=ue)}),F._status===-1&&(F._status=0,F._result=Y)}if(F._status===1)return F._result.default;throw F._result}var ve={current:null},te={transition:null},ce={ReactCurrentDispatcher:ve,ReactCurrentBatchConfig:te,ReactCurrentOwner:le};function se(){throw Error("act(...) is not supported in production builds of React.")}return Ne.Children={map:Qe,forEach:function(F,Y,ue){Qe(F,function(){Y.apply(this,arguments)},ue)},count:function(F){var Y=0;return Qe(F,function(){Y++}),Y},toArray:function(F){return Qe(F,function(Y){return Y})||[]},only:function(F){if(!V(F))throw Error("React.Children.only expected to receive a single React element child.");return F}},Ne.Component=k,Ne.Fragment=n,Ne.Profiler=o,Ne.PureComponent=K,Ne.StrictMode=i,Ne.Suspense=d,Ne.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=ce,Ne.act=se,Ne.cloneElement=function(F,Y,ue){if(F==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+F+".");var me=M({},F.props),we=F.key,Ie=F.ref,Me=F._owner;if(Y!=null){if(Y.ref!==void 0&&(Ie=Y.ref,Me=le.current),Y.key!==void 0&&(we=""+Y.key),F.type&&F.type.defaultProps)var Ee=F.type.defaultProps;for(Be in Y)ne.call(Y,Be)&&!R.hasOwnProperty(Be)&&(me[Be]=Y[Be]===void 0&&Ee!==void 0?Ee[Be]:Y[Be])}var Be=arguments.length-2;if(Be===1)me.children=ue;else if(1<Be){Ee=Array(Be);for(var Et=0;Et<Be;Et++)Ee[Et]=arguments[Et+2];me.children=Ee}return{$$typeof:t,type:F.type,key:we,ref:Ie,props:me,_owner:Me}},Ne.createContext=function(F){return F={$$typeof:u,_currentValue:F,_currentValue2:F,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},F.Provider={$$typeof:a,_context:F},F.Consumer=F},Ne.createElement=x,Ne.createFactory=function(F){var Y=x.bind(null,F);return Y.type=F,Y},Ne.createRef=function(){return{current:null}},Ne.forwardRef=function(F){return{$$typeof:f,render:F}},Ne.isValidElement=V,Ne.lazy=function(F){return{$$typeof:g,_payload:{_status:-1,_result:F},_init:Ve}},Ne.memo=function(F,Y){return{$$typeof:m,type:F,compare:Y===void 0?null:Y}},Ne.startTransition=function(F){var Y=te.transition;te.transition={};try{F()}finally{te.transition=Y}},Ne.unstable_act=se,Ne.useCallback=function(F,Y){return ve.current.useCallback(F,Y)},Ne.useContext=function(F){return ve.current.useContext(F)},Ne.useDebugValue=function(){},Ne.useDeferredValue=function(F){return ve.current.useDeferredValue(F)},Ne.useEffect=function(F,Y){return ve.current.useEffect(F,Y)},Ne.useId=function(){return ve.current.useId()},Ne.useImperativeHandle=function(F,Y,ue){return ve.current.useImperativeHandle(F,Y,ue)},Ne.useInsertionEffect=function(F,Y){return ve.current.useInsertionEffect(F,Y)},Ne.useLayoutEffect=function(F,Y){return ve.current.useLayoutEffect(F,Y)},Ne.useMemo=function(F,Y){return ve.current.useMemo(F,Y)},Ne.useReducer=function(F,Y,ue){return ve.current.useReducer(F,Y,ue)},Ne.useRef=function(F){return ve.current.useRef(F)},Ne.useState=function(F){return ve.current.useState(F)},Ne.useSyncExternalStore=function(F,Y,ue){return ve.current.useSyncExternalStore(F,Y,ue)},Ne.useTransition=function(){return ve.current.useTransition()},Ne.version="18.3.1",Ne}var Uy;function lp(){return Uy||(Uy=1,Nf.exports=wS()),Nf.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var zy;function ES(){if(zy)return tl;zy=1;var t=lp(),e=Symbol.for("react.element"),n=Symbol.for("react.fragment"),i=Object.prototype.hasOwnProperty,o=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,a={key:!0,ref:!0,__self:!0,__source:!0};function u(f,d,m){var g,y={},E=null,A=null;m!==void 0&&(E=""+m),d.key!==void 0&&(E=""+d.key),d.ref!==void 0&&(A=d.ref);for(g in d)i.call(d,g)&&!a.hasOwnProperty(g)&&(y[g]=d[g]);if(f&&f.defaultProps)for(g in d=f.defaultProps,d)y[g]===void 0&&(y[g]=d[g]);return{$$typeof:e,type:f,key:E,ref:A,props:y,_owner:o.current}}return tl.Fragment=n,tl.jsx=u,tl.jsxs=u,tl}var $y;function TS(){return $y||($y=1,Df.exports=ES()),Df.exports}var X=TS(),U=lp();const ae=A_(U);var tc={},Mf={exports:{}},_n={},Lf={exports:{}},Of={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Hy;function SS(){return Hy||(Hy=1,(function(t){function e(te,ce){var se=te.length;te.push(ce);e:for(;0<se;){var F=se-1>>>1,Y=te[F];if(0<o(Y,ce))te[F]=ce,te[se]=Y,se=F;else break e}}function n(te){return te.length===0?null:te[0]}function i(te){if(te.length===0)return null;var ce=te[0],se=te.pop();if(se!==ce){te[0]=se;e:for(var F=0,Y=te.length,ue=Y>>>1;F<ue;){var me=2*(F+1)-1,we=te[me],Ie=me+1,Me=te[Ie];if(0>o(we,se))Ie<Y&&0>o(Me,we)?(te[F]=Me,te[Ie]=se,F=Ie):(te[F]=we,te[me]=se,F=me);else if(Ie<Y&&0>o(Me,se))te[F]=Me,te[Ie]=se,F=Ie;else break e}}return ce}function o(te,ce){var se=te.sortIndex-ce.sortIndex;return se!==0?se:te.id-ce.id}if(typeof performance=="object"&&typeof performance.now=="function"){var a=performance;t.unstable_now=function(){return a.now()}}else{var u=Date,f=u.now();t.unstable_now=function(){return u.now()-f}}var d=[],m=[],g=1,y=null,E=3,A=!1,M=!1,b=!1,k=typeof setTimeout=="function"?setTimeout:null,O=typeof clearTimeout=="function"?clearTimeout:null,K=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function B(te){for(var ce=n(m);ce!==null;){if(ce.callback===null)i(m);else if(ce.startTime<=te)i(m),ce.sortIndex=ce.expirationTime,e(d,ce);else break;ce=n(m)}}function Z(te){if(b=!1,B(te),!M)if(n(d)!==null)M=!0,Ve(ne);else{var ce=n(m);ce!==null&&ve(Z,ce.startTime-te)}}function ne(te,ce){M=!1,b&&(b=!1,O(x),x=-1),A=!0;var se=E;try{for(B(ce),y=n(d);y!==null&&(!(y.expirationTime>ce)||te&&!D());){var F=y.callback;if(typeof F=="function"){y.callback=null,E=y.priorityLevel;var Y=F(y.expirationTime<=ce);ce=t.unstable_now(),typeof Y=="function"?y.callback=Y:y===n(d)&&i(d),B(ce)}else i(d);y=n(d)}if(y!==null)var ue=!0;else{var me=n(m);me!==null&&ve(Z,me.startTime-ce),ue=!1}return ue}finally{y=null,E=se,A=!1}}var le=!1,R=null,x=-1,I=5,V=-1;function D(){return!(t.unstable_now()-V<I)}function j(){if(R!==null){var te=t.unstable_now();V=te;var ce=!0;try{ce=R(!0,te)}finally{ce?P():(le=!1,R=null)}}else le=!1}var P;if(typeof K=="function")P=function(){K(j)};else if(typeof MessageChannel<"u"){var je=new MessageChannel,Qe=je.port2;je.port1.onmessage=j,P=function(){Qe.postMessage(null)}}else P=function(){k(j,0)};function Ve(te){R=te,le||(le=!0,P())}function ve(te,ce){x=k(function(){te(t.unstable_now())},ce)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(te){te.callback=null},t.unstable_continueExecution=function(){M||A||(M=!0,Ve(ne))},t.unstable_forceFrameRate=function(te){0>te||125<te?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):I=0<te?Math.floor(1e3/te):5},t.unstable_getCurrentPriorityLevel=function(){return E},t.unstable_getFirstCallbackNode=function(){return n(d)},t.unstable_next=function(te){switch(E){case 1:case 2:case 3:var ce=3;break;default:ce=E}var se=E;E=ce;try{return te()}finally{E=se}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(te,ce){switch(te){case 1:case 2:case 3:case 4:case 5:break;default:te=3}var se=E;E=te;try{return ce()}finally{E=se}},t.unstable_scheduleCallback=function(te,ce,se){var F=t.unstable_now();switch(typeof se=="object"&&se!==null?(se=se.delay,se=typeof se=="number"&&0<se?F+se:F):se=F,te){case 1:var Y=-1;break;case 2:Y=250;break;case 5:Y=1073741823;break;case 4:Y=1e4;break;default:Y=5e3}return Y=se+Y,te={id:g++,callback:ce,priorityLevel:te,startTime:se,expirationTime:Y,sortIndex:-1},se>F?(te.sortIndex=se,e(m,te),n(d)===null&&te===n(m)&&(b?(O(x),x=-1):b=!0,ve(Z,se-F))):(te.sortIndex=Y,e(d,te),M||A||(M=!0,Ve(ne))),te},t.unstable_shouldYield=D,t.unstable_wrapCallback=function(te){var ce=E;return function(){var se=E;E=ce;try{return te.apply(this,arguments)}finally{E=se}}}})(Of)),Of}var Wy;function xS(){return Wy||(Wy=1,Lf.exports=SS()),Lf.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var qy;function AS(){if(qy)return _n;qy=1;var t=lp(),e=xS();function n(r){for(var s="https://reactjs.org/docs/error-decoder.html?invariant="+r,l=1;l<arguments.length;l++)s+="&args[]="+encodeURIComponent(arguments[l]);return"Minified React error #"+r+"; visit "+s+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var i=new Set,o={};function a(r,s){u(r,s),u(r+"Capture",s)}function u(r,s){for(o[r]=s,r=0;r<s.length;r++)i.add(s[r])}var f=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),d=Object.prototype.hasOwnProperty,m=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,g={},y={};function E(r){return d.call(y,r)?!0:d.call(g,r)?!1:m.test(r)?y[r]=!0:(g[r]=!0,!1)}function A(r,s,l,h){if(l!==null&&l.type===0)return!1;switch(typeof s){case"function":case"symbol":return!0;case"boolean":return h?!1:l!==null?!l.acceptsBooleans:(r=r.toLowerCase().slice(0,5),r!=="data-"&&r!=="aria-");default:return!1}}function M(r,s,l,h){if(s===null||typeof s>"u"||A(r,s,l,h))return!0;if(h)return!1;if(l!==null)switch(l.type){case 3:return!s;case 4:return s===!1;case 5:return isNaN(s);case 6:return isNaN(s)||1>s}return!1}function b(r,s,l,h,p,v,T){this.acceptsBooleans=s===2||s===3||s===4,this.attributeName=h,this.attributeNamespace=p,this.mustUseProperty=l,this.propertyName=r,this.type=s,this.sanitizeURL=v,this.removeEmptyString=T}var k={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(r){k[r]=new b(r,0,!1,r,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(r){var s=r[0];k[s]=new b(s,1,!1,r[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(r){k[r]=new b(r,2,!1,r.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(r){k[r]=new b(r,2,!1,r,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(r){k[r]=new b(r,3,!1,r.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(r){k[r]=new b(r,3,!0,r,null,!1,!1)}),["capture","download"].forEach(function(r){k[r]=new b(r,4,!1,r,null,!1,!1)}),["cols","rows","size","span"].forEach(function(r){k[r]=new b(r,6,!1,r,null,!1,!1)}),["rowSpan","start"].forEach(function(r){k[r]=new b(r,5,!1,r.toLowerCase(),null,!1,!1)});var O=/[\-:]([a-z])/g;function K(r){return r[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(r){var s=r.replace(O,K);k[s]=new b(s,1,!1,r,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(r){var s=r.replace(O,K);k[s]=new b(s,1,!1,r,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(r){var s=r.replace(O,K);k[s]=new b(s,1,!1,r,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(r){k[r]=new b(r,1,!1,r.toLowerCase(),null,!1,!1)}),k.xlinkHref=new b("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(r){k[r]=new b(r,1,!1,r.toLowerCase(),null,!0,!0)});function B(r,s,l,h){var p=k.hasOwnProperty(s)?k[s]:null;(p!==null?p.type!==0:h||!(2<s.length)||s[0]!=="o"&&s[0]!=="O"||s[1]!=="n"&&s[1]!=="N")&&(M(s,l,p,h)&&(l=null),h||p===null?E(s)&&(l===null?r.removeAttribute(s):r.setAttribute(s,""+l)):p.mustUseProperty?r[p.propertyName]=l===null?p.type===3?!1:"":l:(s=p.attributeName,h=p.attributeNamespace,l===null?r.removeAttribute(s):(p=p.type,l=p===3||p===4&&l===!0?"":""+l,h?r.setAttributeNS(h,s,l):r.setAttribute(s,l))))}var Z=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,ne=Symbol.for("react.element"),le=Symbol.for("react.portal"),R=Symbol.for("react.fragment"),x=Symbol.for("react.strict_mode"),I=Symbol.for("react.profiler"),V=Symbol.for("react.provider"),D=Symbol.for("react.context"),j=Symbol.for("react.forward_ref"),P=Symbol.for("react.suspense"),je=Symbol.for("react.suspense_list"),Qe=Symbol.for("react.memo"),Ve=Symbol.for("react.lazy"),ve=Symbol.for("react.offscreen"),te=Symbol.iterator;function ce(r){return r===null||typeof r!="object"?null:(r=te&&r[te]||r["@@iterator"],typeof r=="function"?r:null)}var se=Object.assign,F;function Y(r){if(F===void 0)try{throw Error()}catch(l){var s=l.stack.trim().match(/\n( *(at )?)/);F=s&&s[1]||""}return`
`+F+r}var ue=!1;function me(r,s){if(!r||ue)return"";ue=!0;var l=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(s)if(s=function(){throw Error()},Object.defineProperty(s.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(s,[])}catch(W){var h=W}Reflect.construct(r,[],s)}else{try{s.call()}catch(W){h=W}r.call(s.prototype)}else{try{throw Error()}catch(W){h=W}r()}}catch(W){if(W&&h&&typeof W.stack=="string"){for(var p=W.stack.split(`
`),v=h.stack.split(`
`),T=p.length-1,C=v.length-1;1<=T&&0<=C&&p[T]!==v[C];)C--;for(;1<=T&&0<=C;T--,C--)if(p[T]!==v[C]){if(T!==1||C!==1)do if(T--,C--,0>C||p[T]!==v[C]){var N=`
`+p[T].replace(" at new "," at ");return r.displayName&&N.includes("<anonymous>")&&(N=N.replace("<anonymous>",r.displayName)),N}while(1<=T&&0<=C);break}}}finally{ue=!1,Error.prepareStackTrace=l}return(r=r?r.displayName||r.name:"")?Y(r):""}function we(r){switch(r.tag){case 5:return Y(r.type);case 16:return Y("Lazy");case 13:return Y("Suspense");case 19:return Y("SuspenseList");case 0:case 2:case 15:return r=me(r.type,!1),r;case 11:return r=me(r.type.render,!1),r;case 1:return r=me(r.type,!0),r;default:return""}}function Ie(r){if(r==null)return null;if(typeof r=="function")return r.displayName||r.name||null;if(typeof r=="string")return r;switch(r){case R:return"Fragment";case le:return"Portal";case I:return"Profiler";case x:return"StrictMode";case P:return"Suspense";case je:return"SuspenseList"}if(typeof r=="object")switch(r.$$typeof){case D:return(r.displayName||"Context")+".Consumer";case V:return(r._context.displayName||"Context")+".Provider";case j:var s=r.render;return r=r.displayName,r||(r=s.displayName||s.name||"",r=r!==""?"ForwardRef("+r+")":"ForwardRef"),r;case Qe:return s=r.displayName||null,s!==null?s:Ie(r.type)||"Memo";case Ve:s=r._payload,r=r._init;try{return Ie(r(s))}catch{}}return null}function Me(r){var s=r.type;switch(r.tag){case 24:return"Cache";case 9:return(s.displayName||"Context")+".Consumer";case 10:return(s._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return r=s.render,r=r.displayName||r.name||"",s.displayName||(r!==""?"ForwardRef("+r+")":"ForwardRef");case 7:return"Fragment";case 5:return s;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Ie(s);case 8:return s===x?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof s=="function")return s.displayName||s.name||null;if(typeof s=="string")return s}return null}function Ee(r){switch(typeof r){case"boolean":case"number":case"string":case"undefined":return r;case"object":return r;default:return""}}function Be(r){var s=r.type;return(r=r.nodeName)&&r.toLowerCase()==="input"&&(s==="checkbox"||s==="radio")}function Et(r){var s=Be(r)?"checked":"value",l=Object.getOwnPropertyDescriptor(r.constructor.prototype,s),h=""+r[s];if(!r.hasOwnProperty(s)&&typeof l<"u"&&typeof l.get=="function"&&typeof l.set=="function"){var p=l.get,v=l.set;return Object.defineProperty(r,s,{configurable:!0,get:function(){return p.call(this)},set:function(T){h=""+T,v.call(this,T)}}),Object.defineProperty(r,s,{enumerable:l.enumerable}),{getValue:function(){return h},setValue:function(T){h=""+T},stopTracking:function(){r._valueTracker=null,delete r[s]}}}}function Zn(r){r._valueTracker||(r._valueTracker=Et(r))}function Mn(r){if(!r)return!1;var s=r._valueTracker;if(!s)return!0;var l=s.getValue(),h="";return r&&(h=Be(r)?r.checked?"true":"false":r.value),r=h,r!==l?(s.setValue(r),!0):!1}function gr(r){if(r=r||(typeof document<"u"?document:void 0),typeof r>"u")return null;try{return r.activeElement||r.body}catch{return r.body}}function yr(r,s){var l=s.checked;return se({},s,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:l??r._wrapperState.initialChecked})}function Zs(r,s){var l=s.defaultValue==null?"":s.defaultValue,h=s.checked!=null?s.checked:s.defaultChecked;l=Ee(s.value!=null?s.value:l),r._wrapperState={initialChecked:h,initialValue:l,controlled:s.type==="checkbox"||s.type==="radio"?s.checked!=null:s.value!=null}}function Qr(r,s){s=s.checked,s!=null&&B(r,"checked",s,!1)}function Sn(r,s){Qr(r,s);var l=Ee(s.value),h=s.type;if(l!=null)h==="number"?(l===0&&r.value===""||r.value!=l)&&(r.value=""+l):r.value!==""+l&&(r.value=""+l);else if(h==="submit"||h==="reset"){r.removeAttribute("value");return}s.hasOwnProperty("value")?qe(r,s.type,l):s.hasOwnProperty("defaultValue")&&qe(r,s.type,Ee(s.defaultValue)),s.checked==null&&s.defaultChecked!=null&&(r.defaultChecked=!!s.defaultChecked)}function _i(r,s,l){if(s.hasOwnProperty("value")||s.hasOwnProperty("defaultValue")){var h=s.type;if(!(h!=="submit"&&h!=="reset"||s.value!==void 0&&s.value!==null))return;s=""+r._wrapperState.initialValue,l||s===r.value||(r.value=s),r.defaultValue=s}l=r.name,l!==""&&(r.name=""),r.defaultChecked=!!r._wrapperState.initialChecked,l!==""&&(r.name=l)}function qe(r,s,l){(s!=="number"||gr(r.ownerDocument)!==r)&&(l==null?r.defaultValue=""+r._wrapperState.initialValue:r.defaultValue!==""+l&&(r.defaultValue=""+l))}var at=Array.isArray;function xn(r,s,l,h){if(r=r.options,s){s={};for(var p=0;p<l.length;p++)s["$"+l[p]]=!0;for(l=0;l<r.length;l++)p=s.hasOwnProperty("$"+r[l].value),r[l].selected!==p&&(r[l].selected=p),p&&h&&(r[l].defaultSelected=!0)}else{for(l=""+Ee(l),s=null,p=0;p<r.length;p++){if(r[p].value===l){r[p].selected=!0,h&&(r[p].defaultSelected=!0);return}s!==null||r[p].disabled||(s=r[p])}s!==null&&(s.selected=!0)}}function kt(r,s){if(s.dangerouslySetInnerHTML!=null)throw Error(n(91));return se({},s,{value:void 0,defaultValue:void 0,children:""+r._wrapperState.initialValue})}function Ln(r,s){var l=s.value;if(l==null){if(l=s.children,s=s.defaultValue,l!=null){if(s!=null)throw Error(n(92));if(at(l)){if(1<l.length)throw Error(n(93));l=l[0]}s=l}s==null&&(s=""),l=s}r._wrapperState={initialValue:Ee(l)}}function eo(r,s){var l=Ee(s.value),h=Ee(s.defaultValue);l!=null&&(l=""+l,l!==r.value&&(r.value=l),s.defaultValue==null&&r.defaultValue!==l&&(r.defaultValue=l)),h!=null&&(r.defaultValue=""+h)}function vr(r){var s=r.textContent;s===r._wrapperState.initialValue&&s!==""&&s!==null&&(r.value=s)}function _r(r){switch(r){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function wi(r,s){return r==null||r==="http://www.w3.org/1999/xhtml"?_r(s):r==="http://www.w3.org/2000/svg"&&s==="foreignObject"?"http://www.w3.org/1999/xhtml":r}var er,Ei=(function(r){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(s,l,h,p){MSApp.execUnsafeLocalFunction(function(){return r(s,l,h,p)})}:r})(function(r,s){if(r.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in r)r.innerHTML=s;else{for(er=er||document.createElement("div"),er.innerHTML="<svg>"+s.valueOf().toString()+"</svg>",s=er.firstChild;r.firstChild;)r.removeChild(r.firstChild);for(;s.firstChild;)r.appendChild(s.firstChild)}});function fn(r,s){if(s){var l=r.firstChild;if(l&&l===r.lastChild&&l.nodeType===3){l.nodeValue=s;return}}r.textContent=s}var tr={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},nr=["Webkit","ms","Moz","O"];Object.keys(tr).forEach(function(r){nr.forEach(function(s){s=s+r.charAt(0).toUpperCase()+r.substring(1),tr[s]=tr[r]})});function wr(r,s,l){return s==null||typeof s=="boolean"||s===""?"":l||typeof s!="number"||s===0||tr.hasOwnProperty(r)&&tr[r]?(""+s).trim():s+"px"}function Ti(r,s){r=r.style;for(var l in s)if(s.hasOwnProperty(l)){var h=l.indexOf("--")===0,p=wr(l,s[l],h);l==="float"&&(l="cssFloat"),h?r.setProperty(l,p):r[l]=p}}var Si=se({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function dn(r,s){if(s){if(Si[r]&&(s.children!=null||s.dangerouslySetInnerHTML!=null))throw Error(n(137,r));if(s.dangerouslySetInnerHTML!=null){if(s.children!=null)throw Error(n(60));if(typeof s.dangerouslySetInnerHTML!="object"||!("__html"in s.dangerouslySetInnerHTML))throw Error(n(61))}if(s.style!=null&&typeof s.style!="object")throw Error(n(62))}}function xi(r,s){if(r.indexOf("-")===-1)return typeof s.is=="string";switch(r){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var On=null;function an(r){return r=r.target||r.srcElement||window,r.correspondingUseElement&&(r=r.correspondingUseElement),r.nodeType===3?r.parentNode:r}var rr=null,ir=null,et=null;function Ai(r){if(r=Ba(r)){if(typeof rr!="function")throw Error(n(280));var s=r.stateNode;s&&(s=gu(s),rr(r.stateNode,r.type,s))}}function Ae(r){ir?et?et.push(r):et=[r]:ir=r}function Ye(){if(ir){var r=ir,s=et;if(et=ir=null,Ai(r),s)for(r=0;r<s.length;r++)Ai(s[r])}}function gt(r,s){return r(s)}function Mt(){}var ln=!1;function dt(r,s,l){if(ln)return r(s,l);ln=!0;try{return gt(r,s,l)}finally{ln=!1,(ir!==null||et!==null)&&(Mt(),Ye())}}function Tt(r,s){var l=r.stateNode;if(l===null)return null;var h=gu(l);if(h===null)return null;l=h[s];e:switch(s){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(h=!h.disabled)||(r=r.type,h=!(r==="button"||r==="input"||r==="select"||r==="textarea")),r=!h;break e;default:r=!1}if(r)return null;if(l&&typeof l!="function")throw Error(n(231,s,typeof l));return l}var An=!1;if(f)try{var St={};Object.defineProperty(St,"passive",{get:function(){An=!0}}),window.addEventListener("test",St,St),window.removeEventListener("test",St,St)}catch{An=!1}function Yt(r,s,l,h,p,v,T,C,N){var W=Array.prototype.slice.call(arguments,3);try{s.apply(l,W)}catch(ee){this.onError(ee)}}var Fn=!1,Lt=null,cs=!1,jn=null,Gl={onError:function(r){Fn=!0,Lt=r}};function Ql(r,s,l,h,p,v,T,C,N){Fn=!1,Lt=null,Yt.apply(Gl,arguments)}function pa(r,s,l,h,p,v,T,C,N){if(Ql.apply(this,arguments),Fn){if(Fn){var W=Lt;Fn=!1,Lt=null}else throw Error(n(198));cs||(cs=!0,jn=W)}}function sr(r){var s=r,l=r;if(r.alternate)for(;s.return;)s=s.return;else{r=s;do s=r,(s.flags&4098)!==0&&(l=s.return),r=s.return;while(r)}return s.tag===3?l:null}function ma(r){if(r.tag===13){var s=r.memoizedState;if(s===null&&(r=r.alternate,r!==null&&(s=r.memoizedState)),s!==null)return s.dehydrated}return null}function Yl(r){if(sr(r)!==r)throw Error(n(188))}function Xl(r){var s=r.alternate;if(!s){if(s=sr(r),s===null)throw Error(n(188));return s!==r?null:r}for(var l=r,h=s;;){var p=l.return;if(p===null)break;var v=p.alternate;if(v===null){if(h=p.return,h!==null){l=h;continue}break}if(p.child===v.child){for(v=p.child;v;){if(v===l)return Yl(p),r;if(v===h)return Yl(p),s;v=v.sibling}throw Error(n(188))}if(l.return!==h.return)l=p,h=v;else{for(var T=!1,C=p.child;C;){if(C===l){T=!0,l=p,h=v;break}if(C===h){T=!0,h=p,l=v;break}C=C.sibling}if(!T){for(C=v.child;C;){if(C===l){T=!0,l=v,h=p;break}if(C===h){T=!0,h=v,l=p;break}C=C.sibling}if(!T)throw Error(n(189))}}if(l.alternate!==h)throw Error(n(190))}if(l.tag!==3)throw Error(n(188));return l.stateNode.current===l?r:s}function Jl(r){return r=Xl(r),r!==null?hs(r):null}function hs(r){if(r.tag===5||r.tag===6)return r;for(r=r.child;r!==null;){var s=hs(r);if(s!==null)return s;r=r.sibling}return null}var ga=e.unstable_scheduleCallback,to=e.unstable_cancelCallback,fs=e.unstable_shouldYield,Yr=e.unstable_requestPaint,tt=e.unstable_now,uh=e.unstable_getCurrentPriorityLevel,no=e.unstable_ImmediatePriority,ya=e.unstable_UserBlockingPriority,ds=e.unstable_NormalPriority,va=e.unstable_LowPriority,ro=e.unstable_IdlePriority,ps=null,In=null;function Zl(r){if(In&&typeof In.onCommitFiberRoot=="function")try{In.onCommitFiberRoot(ps,r,void 0,(r.current.flags&128)===128)}catch{}}var Cn=Math.clz32?Math.clz32:ms,Er=Math.log,Bn=Math.LN2;function ms(r){return r>>>=0,r===0?32:31-(Er(r)/Bn|0)|0}var Tr=64,Ii=4194304;function We(r){switch(r&-r){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return r&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return r&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return r}}function Xr(r,s){var l=r.pendingLanes;if(l===0)return 0;var h=0,p=r.suspendedLanes,v=r.pingedLanes,T=l&268435455;if(T!==0){var C=T&~p;C!==0?h=We(C):(v&=T,v!==0&&(h=We(v)))}else T=l&~p,T!==0?h=We(T):v!==0&&(h=We(v));if(h===0)return 0;if(s!==0&&s!==h&&(s&p)===0&&(p=h&-h,v=s&-s,p>=v||p===16&&(v&4194240)!==0))return s;if((h&4)!==0&&(h|=l&16),s=r.entangledLanes,s!==0)for(r=r.entanglements,s&=h;0<s;)l=31-Cn(s),p=1<<l,h|=r[l],s&=~p;return h}function gs(r,s){switch(r){case 1:case 2:case 4:return s+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function ys(r,s){for(var l=r.suspendedLanes,h=r.pingedLanes,p=r.expirationTimes,v=r.pendingLanes;0<v;){var T=31-Cn(v),C=1<<T,N=p[T];N===-1?((C&l)===0||(C&h)!==0)&&(p[T]=gs(C,s)):N<=s&&(r.expiredLanes|=C),v&=~C}}function _a(r){return r=r.pendingLanes&-1073741825,r!==0?r:r&1073741824?1073741824:0}function wa(){var r=Tr;return Tr<<=1,(Tr&4194240)===0&&(Tr=64),r}function Ea(r){for(var s=[],l=0;31>l;l++)s.push(r);return s}function vs(r,s,l){r.pendingLanes|=s,s!==536870912&&(r.suspendedLanes=0,r.pingedLanes=0),r=r.eventTimes,s=31-Cn(s),r[s]=l}function ch(r,s){var l=r.pendingLanes&~s;r.pendingLanes=s,r.suspendedLanes=0,r.pingedLanes=0,r.expiredLanes&=s,r.mutableReadLanes&=s,r.entangledLanes&=s,s=r.entanglements;var h=r.eventTimes;for(r=r.expirationTimes;0<l;){var p=31-Cn(l),v=1<<p;s[p]=0,h[p]=-1,r[p]=-1,l&=~v}}function Ta(r,s){var l=r.entangledLanes|=s;for(r=r.entanglements;l;){var h=31-Cn(l),p=1<<h;p&s|r[h]&s&&(r[h]|=s),l&=~p}}var Fe=0;function Sr(r){return r&=-r,1<r?4<r?(r&268435455)!==0?16:536870912:4:1}var Sa,io,xa,Aa,Ia,xr=!1,so=[],Ar=null,Ir=null,zt=null,_s=new Map,Jr=new Map,Pn=[],eu="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Ci(r,s){switch(r){case"focusin":case"focusout":Ar=null;break;case"dragenter":case"dragleave":Ir=null;break;case"mouseover":case"mouseout":zt=null;break;case"pointerover":case"pointerout":_s.delete(s.pointerId);break;case"gotpointercapture":case"lostpointercapture":Jr.delete(s.pointerId)}}function or(r,s,l,h,p,v){return r===null||r.nativeEvent!==v?(r={blockedOn:s,domEventName:l,eventSystemFlags:h,nativeEvent:v,targetContainers:[p]},s!==null&&(s=Ba(s),s!==null&&io(s)),r):(r.eventSystemFlags|=h,s=r.targetContainers,p!==null&&s.indexOf(p)===-1&&s.push(p),r)}function tu(r,s,l,h,p){switch(s){case"focusin":return Ar=or(Ar,r,s,l,h,p),!0;case"dragenter":return Ir=or(Ir,r,s,l,h,p),!0;case"mouseover":return zt=or(zt,r,s,l,h,p),!0;case"pointerover":var v=p.pointerId;return _s.set(v,or(_s.get(v)||null,r,s,l,h,p)),!0;case"gotpointercapture":return v=p.pointerId,Jr.set(v,or(Jr.get(v)||null,r,s,l,h,p)),!0}return!1}function oo(r){var s=Ss(r.target);if(s!==null){var l=sr(s);if(l!==null){if(s=l.tag,s===13){if(s=ma(l),s!==null){r.blockedOn=s,Ia(r.priority,function(){xa(l)});return}}else if(s===3&&l.stateNode.current.memoizedState.isDehydrated){r.blockedOn=l.tag===3?l.stateNode.containerInfo:null;return}}}r.blockedOn=null}function Xe(r){if(r.blockedOn!==null)return!1;for(var s=r.targetContainers;0<s.length;){var l=ao(r.domEventName,r.eventSystemFlags,s[0],r.nativeEvent);if(l===null){l=r.nativeEvent;var h=new l.constructor(l.type,l);On=h,l.target.dispatchEvent(h),On=null}else return s=Ba(l),s!==null&&io(s),r.blockedOn=l,!1;s.shift()}return!0}function nu(r,s,l){Xe(r)&&l.delete(s)}function hh(){xr=!1,Ar!==null&&Xe(Ar)&&(Ar=null),Ir!==null&&Xe(Ir)&&(Ir=null),zt!==null&&Xe(zt)&&(zt=null),_s.forEach(nu),Jr.forEach(nu)}function Pi(r,s){r.blockedOn===s&&(r.blockedOn=null,xr||(xr=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,hh)))}function Ri(r){function s(p){return Pi(p,r)}if(0<so.length){Pi(so[0],r);for(var l=1;l<so.length;l++){var h=so[l];h.blockedOn===r&&(h.blockedOn=null)}}for(Ar!==null&&Pi(Ar,r),Ir!==null&&Pi(Ir,r),zt!==null&&Pi(zt,r),_s.forEach(s),Jr.forEach(s),l=0;l<Pn.length;l++)h=Pn[l],h.blockedOn===r&&(h.blockedOn=null);for(;0<Pn.length&&(l=Pn[0],l.blockedOn===null);)oo(l),l.blockedOn===null&&Pn.shift()}var Zr=Z.ReactCurrentBatchConfig,ei=!0;function Cr(r,s,l,h){var p=Fe,v=Zr.transition;Zr.transition=null;try{Fe=1,Ca(r,s,l,h)}finally{Fe=p,Zr.transition=v}}function ru(r,s,l,h){var p=Fe,v=Zr.transition;Zr.transition=null;try{Fe=4,Ca(r,s,l,h)}finally{Fe=p,Zr.transition=v}}function Ca(r,s,l,h){if(ei){var p=ao(r,s,l,h);if(p===null)Th(r,s,h,Pr,l),Ci(r,h);else if(tu(p,r,s,l,h))h.stopPropagation();else if(Ci(r,h),s&4&&-1<eu.indexOf(r)){for(;p!==null;){var v=Ba(p);if(v!==null&&Sa(v),v=ao(r,s,l,h),v===null&&Th(r,s,h,Pr,l),v===p)break;p=v}p!==null&&h.stopPropagation()}else Th(r,s,h,null,l)}}var Pr=null;function ao(r,s,l,h){if(Pr=null,r=an(h),r=Ss(r),r!==null)if(s=sr(r),s===null)r=null;else if(l=s.tag,l===13){if(r=ma(s),r!==null)return r;r=null}else if(l===3){if(s.stateNode.current.memoizedState.isDehydrated)return s.tag===3?s.stateNode.containerInfo:null;r=null}else s!==r&&(r=null);return Pr=r,null}function lo(r){switch(r){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(uh()){case no:return 1;case ya:return 4;case ds:case va:return 16;case ro:return 536870912;default:return 16}default:return 16}}var Rn=null,uo=null,ti=null;function iu(){if(ti)return ti;var r,s=uo,l=s.length,h,p="value"in Rn?Rn.value:Rn.textContent,v=p.length;for(r=0;r<l&&s[r]===p[r];r++);var T=l-r;for(h=1;h<=T&&s[l-h]===p[v-h];h++);return ti=p.slice(r,1<h?1-h:void 0)}function ws(r){var s=r.keyCode;return"charCode"in r?(r=r.charCode,r===0&&s===13&&(r=13)):r=s,r===10&&(r=13),32<=r||r===13?r:0}function Rr(){return!0}function Pa(){return!1}function Xt(r){function s(l,h,p,v,T){this._reactName=l,this._targetInst=p,this.type=h,this.nativeEvent=v,this.target=T,this.currentTarget=null;for(var C in r)r.hasOwnProperty(C)&&(l=r[C],this[C]=l?l(v):v[C]);return this.isDefaultPrevented=(v.defaultPrevented!=null?v.defaultPrevented:v.returnValue===!1)?Rr:Pa,this.isPropagationStopped=Pa,this}return se(s.prototype,{preventDefault:function(){this.defaultPrevented=!0;var l=this.nativeEvent;l&&(l.preventDefault?l.preventDefault():typeof l.returnValue!="unknown"&&(l.returnValue=!1),this.isDefaultPrevented=Rr)},stopPropagation:function(){var l=this.nativeEvent;l&&(l.stopPropagation?l.stopPropagation():typeof l.cancelBubble!="unknown"&&(l.cancelBubble=!0),this.isPropagationStopped=Rr)},persist:function(){},isPersistent:Rr}),s}var kr={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(r){return r.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Es=Xt(kr),ki=se({},kr,{view:0,detail:0}),co=Xt(ki),ho,fo,kn,Ts=se({},ki,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:be,button:0,buttons:0,relatedTarget:function(r){return r.relatedTarget===void 0?r.fromElement===r.srcElement?r.toElement:r.fromElement:r.relatedTarget},movementX:function(r){return"movementX"in r?r.movementX:(r!==kn&&(kn&&r.type==="mousemove"?(ho=r.screenX-kn.screenX,fo=r.screenY-kn.screenY):fo=ho=0,kn=r),ho)},movementY:function(r){return"movementY"in r?r.movementY:fo}}),Ra=Xt(Ts),su=se({},Ts,{dataTransfer:0}),ou=Xt(su),po=se({},ki,{relatedTarget:0}),$t=Xt(po),au=se({},kr,{animationName:0,elapsedTime:0,pseudoElement:0}),lu=Xt(au),Vi=se({},kr,{clipboardData:function(r){return"clipboardData"in r?r.clipboardData:window.clipboardData}}),c=Xt(Vi),_=se({},kr,{data:0}),w=Xt(_),S={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},$={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},q={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function oe(r){var s=this.nativeEvent;return s.getModifierState?s.getModifierState(r):(r=q[r])?!!s[r]:!1}function be(){return oe}var yt=se({},ki,{key:function(r){if(r.key){var s=S[r.key]||r.key;if(s!=="Unidentified")return s}return r.type==="keypress"?(r=ws(r),r===13?"Enter":String.fromCharCode(r)):r.type==="keydown"||r.type==="keyup"?$[r.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:be,charCode:function(r){return r.type==="keypress"?ws(r):0},keyCode:function(r){return r.type==="keydown"||r.type==="keyup"?r.keyCode:0},which:function(r){return r.type==="keypress"?ws(r):r.type==="keydown"||r.type==="keyup"?r.keyCode:0}}),Ge=Xt(yt),xt=se({},Ts,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Vn=Xt(xt),ni=se({},ki,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:be}),Vr=Xt(ni),br=se({},kr,{propertyName:0,elapsedTime:0,pseudoElement:0}),mo=Xt(br),ka=se({},Ts,{deltaX:function(r){return"deltaX"in r?r.deltaX:"wheelDeltaX"in r?-r.wheelDeltaX:0},deltaY:function(r){return"deltaY"in r?r.deltaY:"wheelDeltaY"in r?-r.wheelDeltaY:"wheelDelta"in r?-r.wheelDelta:0},deltaZ:0,deltaMode:0}),p1=Xt(ka),m1=[9,13,27,32],fh=f&&"CompositionEvent"in window,Va=null;f&&"documentMode"in document&&(Va=document.documentMode);var g1=f&&"TextEvent"in window&&!Va,bm=f&&(!fh||Va&&8<Va&&11>=Va),Dm=" ",Nm=!1;function Mm(r,s){switch(r){case"keyup":return m1.indexOf(s.keyCode)!==-1;case"keydown":return s.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Lm(r){return r=r.detail,typeof r=="object"&&"data"in r?r.data:null}var go=!1;function y1(r,s){switch(r){case"compositionend":return Lm(s);case"keypress":return s.which!==32?null:(Nm=!0,Dm);case"textInput":return r=s.data,r===Dm&&Nm?null:r;default:return null}}function v1(r,s){if(go)return r==="compositionend"||!fh&&Mm(r,s)?(r=iu(),ti=uo=Rn=null,go=!1,r):null;switch(r){case"paste":return null;case"keypress":if(!(s.ctrlKey||s.altKey||s.metaKey)||s.ctrlKey&&s.altKey){if(s.char&&1<s.char.length)return s.char;if(s.which)return String.fromCharCode(s.which)}return null;case"compositionend":return bm&&s.locale!=="ko"?null:s.data;default:return null}}var _1={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Om(r){var s=r&&r.nodeName&&r.nodeName.toLowerCase();return s==="input"?!!_1[r.type]:s==="textarea"}function Fm(r,s,l,h){Ae(h),s=du(s,"onChange"),0<s.length&&(l=new Es("onChange","change",null,l,h),r.push({event:l,listeners:s}))}var ba=null,Da=null;function w1(r){ng(r,0)}function uu(r){var s=Eo(r);if(Mn(s))return r}function E1(r,s){if(r==="change")return s}var jm=!1;if(f){var dh;if(f){var ph="oninput"in document;if(!ph){var Bm=document.createElement("div");Bm.setAttribute("oninput","return;"),ph=typeof Bm.oninput=="function"}dh=ph}else dh=!1;jm=dh&&(!document.documentMode||9<document.documentMode)}function Um(){ba&&(ba.detachEvent("onpropertychange",zm),Da=ba=null)}function zm(r){if(r.propertyName==="value"&&uu(Da)){var s=[];Fm(s,Da,r,an(r)),dt(w1,s)}}function T1(r,s,l){r==="focusin"?(Um(),ba=s,Da=l,ba.attachEvent("onpropertychange",zm)):r==="focusout"&&Um()}function S1(r){if(r==="selectionchange"||r==="keyup"||r==="keydown")return uu(Da)}function x1(r,s){if(r==="click")return uu(s)}function A1(r,s){if(r==="input"||r==="change")return uu(s)}function I1(r,s){return r===s&&(r!==0||1/r===1/s)||r!==r&&s!==s}var ar=typeof Object.is=="function"?Object.is:I1;function Na(r,s){if(ar(r,s))return!0;if(typeof r!="object"||r===null||typeof s!="object"||s===null)return!1;var l=Object.keys(r),h=Object.keys(s);if(l.length!==h.length)return!1;for(h=0;h<l.length;h++){var p=l[h];if(!d.call(s,p)||!ar(r[p],s[p]))return!1}return!0}function $m(r){for(;r&&r.firstChild;)r=r.firstChild;return r}function Hm(r,s){var l=$m(r);r=0;for(var h;l;){if(l.nodeType===3){if(h=r+l.textContent.length,r<=s&&h>=s)return{node:l,offset:s-r};r=h}e:{for(;l;){if(l.nextSibling){l=l.nextSibling;break e}l=l.parentNode}l=void 0}l=$m(l)}}function Wm(r,s){return r&&s?r===s?!0:r&&r.nodeType===3?!1:s&&s.nodeType===3?Wm(r,s.parentNode):"contains"in r?r.contains(s):r.compareDocumentPosition?!!(r.compareDocumentPosition(s)&16):!1:!1}function qm(){for(var r=window,s=gr();s instanceof r.HTMLIFrameElement;){try{var l=typeof s.contentWindow.location.href=="string"}catch{l=!1}if(l)r=s.contentWindow;else break;s=gr(r.document)}return s}function mh(r){var s=r&&r.nodeName&&r.nodeName.toLowerCase();return s&&(s==="input"&&(r.type==="text"||r.type==="search"||r.type==="tel"||r.type==="url"||r.type==="password")||s==="textarea"||r.contentEditable==="true")}function C1(r){var s=qm(),l=r.focusedElem,h=r.selectionRange;if(s!==l&&l&&l.ownerDocument&&Wm(l.ownerDocument.documentElement,l)){if(h!==null&&mh(l)){if(s=h.start,r=h.end,r===void 0&&(r=s),"selectionStart"in l)l.selectionStart=s,l.selectionEnd=Math.min(r,l.value.length);else if(r=(s=l.ownerDocument||document)&&s.defaultView||window,r.getSelection){r=r.getSelection();var p=l.textContent.length,v=Math.min(h.start,p);h=h.end===void 0?v:Math.min(h.end,p),!r.extend&&v>h&&(p=h,h=v,v=p),p=Hm(l,v);var T=Hm(l,h);p&&T&&(r.rangeCount!==1||r.anchorNode!==p.node||r.anchorOffset!==p.offset||r.focusNode!==T.node||r.focusOffset!==T.offset)&&(s=s.createRange(),s.setStart(p.node,p.offset),r.removeAllRanges(),v>h?(r.addRange(s),r.extend(T.node,T.offset)):(s.setEnd(T.node,T.offset),r.addRange(s)))}}for(s=[],r=l;r=r.parentNode;)r.nodeType===1&&s.push({element:r,left:r.scrollLeft,top:r.scrollTop});for(typeof l.focus=="function"&&l.focus(),l=0;l<s.length;l++)r=s[l],r.element.scrollLeft=r.left,r.element.scrollTop=r.top}}var P1=f&&"documentMode"in document&&11>=document.documentMode,yo=null,gh=null,Ma=null,yh=!1;function Km(r,s,l){var h=l.window===l?l.document:l.nodeType===9?l:l.ownerDocument;yh||yo==null||yo!==gr(h)||(h=yo,"selectionStart"in h&&mh(h)?h={start:h.selectionStart,end:h.selectionEnd}:(h=(h.ownerDocument&&h.ownerDocument.defaultView||window).getSelection(),h={anchorNode:h.anchorNode,anchorOffset:h.anchorOffset,focusNode:h.focusNode,focusOffset:h.focusOffset}),Ma&&Na(Ma,h)||(Ma=h,h=du(gh,"onSelect"),0<h.length&&(s=new Es("onSelect","select",null,s,l),r.push({event:s,listeners:h}),s.target=yo)))}function cu(r,s){var l={};return l[r.toLowerCase()]=s.toLowerCase(),l["Webkit"+r]="webkit"+s,l["Moz"+r]="moz"+s,l}var vo={animationend:cu("Animation","AnimationEnd"),animationiteration:cu("Animation","AnimationIteration"),animationstart:cu("Animation","AnimationStart"),transitionend:cu("Transition","TransitionEnd")},vh={},Gm={};f&&(Gm=document.createElement("div").style,"AnimationEvent"in window||(delete vo.animationend.animation,delete vo.animationiteration.animation,delete vo.animationstart.animation),"TransitionEvent"in window||delete vo.transitionend.transition);function hu(r){if(vh[r])return vh[r];if(!vo[r])return r;var s=vo[r],l;for(l in s)if(s.hasOwnProperty(l)&&l in Gm)return vh[r]=s[l];return r}var Qm=hu("animationend"),Ym=hu("animationiteration"),Xm=hu("animationstart"),Jm=hu("transitionend"),Zm=new Map,eg="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function bi(r,s){Zm.set(r,s),a(s,[r])}for(var _h=0;_h<eg.length;_h++){var wh=eg[_h],R1=wh.toLowerCase(),k1=wh[0].toUpperCase()+wh.slice(1);bi(R1,"on"+k1)}bi(Qm,"onAnimationEnd"),bi(Ym,"onAnimationIteration"),bi(Xm,"onAnimationStart"),bi("dblclick","onDoubleClick"),bi("focusin","onFocus"),bi("focusout","onBlur"),bi(Jm,"onTransitionEnd"),u("onMouseEnter",["mouseout","mouseover"]),u("onMouseLeave",["mouseout","mouseover"]),u("onPointerEnter",["pointerout","pointerover"]),u("onPointerLeave",["pointerout","pointerover"]),a("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),a("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),a("onBeforeInput",["compositionend","keypress","textInput","paste"]),a("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),a("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),a("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var La="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),V1=new Set("cancel close invalid load scroll toggle".split(" ").concat(La));function tg(r,s,l){var h=r.type||"unknown-event";r.currentTarget=l,pa(h,s,void 0,r),r.currentTarget=null}function ng(r,s){s=(s&4)!==0;for(var l=0;l<r.length;l++){var h=r[l],p=h.event;h=h.listeners;e:{var v=void 0;if(s)for(var T=h.length-1;0<=T;T--){var C=h[T],N=C.instance,W=C.currentTarget;if(C=C.listener,N!==v&&p.isPropagationStopped())break e;tg(p,C,W),v=N}else for(T=0;T<h.length;T++){if(C=h[T],N=C.instance,W=C.currentTarget,C=C.listener,N!==v&&p.isPropagationStopped())break e;tg(p,C,W),v=N}}}if(cs)throw r=jn,cs=!1,jn=null,r}function nt(r,s){var l=s[Ph];l===void 0&&(l=s[Ph]=new Set);var h=r+"__bubble";l.has(h)||(rg(s,r,2,!1),l.add(h))}function Eh(r,s,l){var h=0;s&&(h|=4),rg(l,r,h,s)}var fu="_reactListening"+Math.random().toString(36).slice(2);function Oa(r){if(!r[fu]){r[fu]=!0,i.forEach(function(l){l!=="selectionchange"&&(V1.has(l)||Eh(l,!1,r),Eh(l,!0,r))});var s=r.nodeType===9?r:r.ownerDocument;s===null||s[fu]||(s[fu]=!0,Eh("selectionchange",!1,s))}}function rg(r,s,l,h){switch(lo(s)){case 1:var p=Cr;break;case 4:p=ru;break;default:p=Ca}l=p.bind(null,s,l,r),p=void 0,!An||s!=="touchstart"&&s!=="touchmove"&&s!=="wheel"||(p=!0),h?p!==void 0?r.addEventListener(s,l,{capture:!0,passive:p}):r.addEventListener(s,l,!0):p!==void 0?r.addEventListener(s,l,{passive:p}):r.addEventListener(s,l,!1)}function Th(r,s,l,h,p){var v=h;if((s&1)===0&&(s&2)===0&&h!==null)e:for(;;){if(h===null)return;var T=h.tag;if(T===3||T===4){var C=h.stateNode.containerInfo;if(C===p||C.nodeType===8&&C.parentNode===p)break;if(T===4)for(T=h.return;T!==null;){var N=T.tag;if((N===3||N===4)&&(N=T.stateNode.containerInfo,N===p||N.nodeType===8&&N.parentNode===p))return;T=T.return}for(;C!==null;){if(T=Ss(C),T===null)return;if(N=T.tag,N===5||N===6){h=v=T;continue e}C=C.parentNode}}h=h.return}dt(function(){var W=v,ee=an(l),re=[];e:{var J=Zm.get(r);if(J!==void 0){var he=Es,ge=r;switch(r){case"keypress":if(ws(l)===0)break e;case"keydown":case"keyup":he=Ge;break;case"focusin":ge="focus",he=$t;break;case"focusout":ge="blur",he=$t;break;case"beforeblur":case"afterblur":he=$t;break;case"click":if(l.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":he=Ra;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":he=ou;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":he=Vr;break;case Qm:case Ym:case Xm:he=lu;break;case Jm:he=mo;break;case"scroll":he=co;break;case"wheel":he=p1;break;case"copy":case"cut":case"paste":he=c;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":he=Vn}var ye=(s&4)!==0,vt=!ye&&r==="scroll",z=ye?J!==null?J+"Capture":null:J;ye=[];for(var L=W,H;L!==null;){H=L;var ie=H.stateNode;if(H.tag===5&&ie!==null&&(H=ie,z!==null&&(ie=Tt(L,z),ie!=null&&ye.push(Fa(L,ie,H)))),vt)break;L=L.return}0<ye.length&&(J=new he(J,ge,null,l,ee),re.push({event:J,listeners:ye}))}}if((s&7)===0){e:{if(J=r==="mouseover"||r==="pointerover",he=r==="mouseout"||r==="pointerout",J&&l!==On&&(ge=l.relatedTarget||l.fromElement)&&(Ss(ge)||ge[ri]))break e;if((he||J)&&(J=ee.window===ee?ee:(J=ee.ownerDocument)?J.defaultView||J.parentWindow:window,he?(ge=l.relatedTarget||l.toElement,he=W,ge=ge?Ss(ge):null,ge!==null&&(vt=sr(ge),ge!==vt||ge.tag!==5&&ge.tag!==6)&&(ge=null)):(he=null,ge=W),he!==ge)){if(ye=Ra,ie="onMouseLeave",z="onMouseEnter",L="mouse",(r==="pointerout"||r==="pointerover")&&(ye=Vn,ie="onPointerLeave",z="onPointerEnter",L="pointer"),vt=he==null?J:Eo(he),H=ge==null?J:Eo(ge),J=new ye(ie,L+"leave",he,l,ee),J.target=vt,J.relatedTarget=H,ie=null,Ss(ee)===W&&(ye=new ye(z,L+"enter",ge,l,ee),ye.target=H,ye.relatedTarget=vt,ie=ye),vt=ie,he&&ge)t:{for(ye=he,z=ge,L=0,H=ye;H;H=_o(H))L++;for(H=0,ie=z;ie;ie=_o(ie))H++;for(;0<L-H;)ye=_o(ye),L--;for(;0<H-L;)z=_o(z),H--;for(;L--;){if(ye===z||z!==null&&ye===z.alternate)break t;ye=_o(ye),z=_o(z)}ye=null}else ye=null;he!==null&&ig(re,J,he,ye,!1),ge!==null&&vt!==null&&ig(re,vt,ge,ye,!0)}}e:{if(J=W?Eo(W):window,he=J.nodeName&&J.nodeName.toLowerCase(),he==="select"||he==="input"&&J.type==="file")var _e=E1;else if(Om(J))if(jm)_e=A1;else{_e=S1;var Se=T1}else(he=J.nodeName)&&he.toLowerCase()==="input"&&(J.type==="checkbox"||J.type==="radio")&&(_e=x1);if(_e&&(_e=_e(r,W))){Fm(re,_e,l,ee);break e}Se&&Se(r,J,W),r==="focusout"&&(Se=J._wrapperState)&&Se.controlled&&J.type==="number"&&qe(J,"number",J.value)}switch(Se=W?Eo(W):window,r){case"focusin":(Om(Se)||Se.contentEditable==="true")&&(yo=Se,gh=W,Ma=null);break;case"focusout":Ma=gh=yo=null;break;case"mousedown":yh=!0;break;case"contextmenu":case"mouseup":case"dragend":yh=!1,Km(re,l,ee);break;case"selectionchange":if(P1)break;case"keydown":case"keyup":Km(re,l,ee)}var xe;if(fh)e:{switch(r){case"compositionstart":var Re="onCompositionStart";break e;case"compositionend":Re="onCompositionEnd";break e;case"compositionupdate":Re="onCompositionUpdate";break e}Re=void 0}else go?Mm(r,l)&&(Re="onCompositionEnd"):r==="keydown"&&l.keyCode===229&&(Re="onCompositionStart");Re&&(bm&&l.locale!=="ko"&&(go||Re!=="onCompositionStart"?Re==="onCompositionEnd"&&go&&(xe=iu()):(Rn=ee,uo="value"in Rn?Rn.value:Rn.textContent,go=!0)),Se=du(W,Re),0<Se.length&&(Re=new w(Re,r,null,l,ee),re.push({event:Re,listeners:Se}),xe?Re.data=xe:(xe=Lm(l),xe!==null&&(Re.data=xe)))),(xe=g1?y1(r,l):v1(r,l))&&(W=du(W,"onBeforeInput"),0<W.length&&(ee=new w("onBeforeInput","beforeinput",null,l,ee),re.push({event:ee,listeners:W}),ee.data=xe))}ng(re,s)})}function Fa(r,s,l){return{instance:r,listener:s,currentTarget:l}}function du(r,s){for(var l=s+"Capture",h=[];r!==null;){var p=r,v=p.stateNode;p.tag===5&&v!==null&&(p=v,v=Tt(r,l),v!=null&&h.unshift(Fa(r,v,p)),v=Tt(r,s),v!=null&&h.push(Fa(r,v,p))),r=r.return}return h}function _o(r){if(r===null)return null;do r=r.return;while(r&&r.tag!==5);return r||null}function ig(r,s,l,h,p){for(var v=s._reactName,T=[];l!==null&&l!==h;){var C=l,N=C.alternate,W=C.stateNode;if(N!==null&&N===h)break;C.tag===5&&W!==null&&(C=W,p?(N=Tt(l,v),N!=null&&T.unshift(Fa(l,N,C))):p||(N=Tt(l,v),N!=null&&T.push(Fa(l,N,C)))),l=l.return}T.length!==0&&r.push({event:s,listeners:T})}var b1=/\r\n?/g,D1=/\u0000|\uFFFD/g;function sg(r){return(typeof r=="string"?r:""+r).replace(b1,`
`).replace(D1,"")}function pu(r,s,l){if(s=sg(s),sg(r)!==s&&l)throw Error(n(425))}function mu(){}var Sh=null,xh=null;function Ah(r,s){return r==="textarea"||r==="noscript"||typeof s.children=="string"||typeof s.children=="number"||typeof s.dangerouslySetInnerHTML=="object"&&s.dangerouslySetInnerHTML!==null&&s.dangerouslySetInnerHTML.__html!=null}var Ih=typeof setTimeout=="function"?setTimeout:void 0,N1=typeof clearTimeout=="function"?clearTimeout:void 0,og=typeof Promise=="function"?Promise:void 0,M1=typeof queueMicrotask=="function"?queueMicrotask:typeof og<"u"?function(r){return og.resolve(null).then(r).catch(L1)}:Ih;function L1(r){setTimeout(function(){throw r})}function Ch(r,s){var l=s,h=0;do{var p=l.nextSibling;if(r.removeChild(l),p&&p.nodeType===8)if(l=p.data,l==="/$"){if(h===0){r.removeChild(p),Ri(s);return}h--}else l!=="$"&&l!=="$?"&&l!=="$!"||h++;l=p}while(l);Ri(s)}function Di(r){for(;r!=null;r=r.nextSibling){var s=r.nodeType;if(s===1||s===3)break;if(s===8){if(s=r.data,s==="$"||s==="$!"||s==="$?")break;if(s==="/$")return null}}return r}function ag(r){r=r.previousSibling;for(var s=0;r;){if(r.nodeType===8){var l=r.data;if(l==="$"||l==="$!"||l==="$?"){if(s===0)return r;s--}else l==="/$"&&s++}r=r.previousSibling}return null}var wo=Math.random().toString(36).slice(2),Dr="__reactFiber$"+wo,ja="__reactProps$"+wo,ri="__reactContainer$"+wo,Ph="__reactEvents$"+wo,O1="__reactListeners$"+wo,F1="__reactHandles$"+wo;function Ss(r){var s=r[Dr];if(s)return s;for(var l=r.parentNode;l;){if(s=l[ri]||l[Dr]){if(l=s.alternate,s.child!==null||l!==null&&l.child!==null)for(r=ag(r);r!==null;){if(l=r[Dr])return l;r=ag(r)}return s}r=l,l=r.parentNode}return null}function Ba(r){return r=r[Dr]||r[ri],!r||r.tag!==5&&r.tag!==6&&r.tag!==13&&r.tag!==3?null:r}function Eo(r){if(r.tag===5||r.tag===6)return r.stateNode;throw Error(n(33))}function gu(r){return r[ja]||null}var Rh=[],To=-1;function Ni(r){return{current:r}}function rt(r){0>To||(r.current=Rh[To],Rh[To]=null,To--)}function Je(r,s){To++,Rh[To]=r.current,r.current=s}var Mi={},Jt=Ni(Mi),pn=Ni(!1),xs=Mi;function So(r,s){var l=r.type.contextTypes;if(!l)return Mi;var h=r.stateNode;if(h&&h.__reactInternalMemoizedUnmaskedChildContext===s)return h.__reactInternalMemoizedMaskedChildContext;var p={},v;for(v in l)p[v]=s[v];return h&&(r=r.stateNode,r.__reactInternalMemoizedUnmaskedChildContext=s,r.__reactInternalMemoizedMaskedChildContext=p),p}function mn(r){return r=r.childContextTypes,r!=null}function yu(){rt(pn),rt(Jt)}function lg(r,s,l){if(Jt.current!==Mi)throw Error(n(168));Je(Jt,s),Je(pn,l)}function ug(r,s,l){var h=r.stateNode;if(s=s.childContextTypes,typeof h.getChildContext!="function")return l;h=h.getChildContext();for(var p in h)if(!(p in s))throw Error(n(108,Me(r)||"Unknown",p));return se({},l,h)}function vu(r){return r=(r=r.stateNode)&&r.__reactInternalMemoizedMergedChildContext||Mi,xs=Jt.current,Je(Jt,r),Je(pn,pn.current),!0}function cg(r,s,l){var h=r.stateNode;if(!h)throw Error(n(169));l?(r=ug(r,s,xs),h.__reactInternalMemoizedMergedChildContext=r,rt(pn),rt(Jt),Je(Jt,r)):rt(pn),Je(pn,l)}var ii=null,_u=!1,kh=!1;function hg(r){ii===null?ii=[r]:ii.push(r)}function j1(r){_u=!0,hg(r)}function Li(){if(!kh&&ii!==null){kh=!0;var r=0,s=Fe;try{var l=ii;for(Fe=1;r<l.length;r++){var h=l[r];do h=h(!0);while(h!==null)}ii=null,_u=!1}catch(p){throw ii!==null&&(ii=ii.slice(r+1)),ga(no,Li),p}finally{Fe=s,kh=!1}}return null}var xo=[],Ao=0,wu=null,Eu=0,Un=[],zn=0,As=null,si=1,oi="";function Is(r,s){xo[Ao++]=Eu,xo[Ao++]=wu,wu=r,Eu=s}function fg(r,s,l){Un[zn++]=si,Un[zn++]=oi,Un[zn++]=As,As=r;var h=si;r=oi;var p=32-Cn(h)-1;h&=~(1<<p),l+=1;var v=32-Cn(s)+p;if(30<v){var T=p-p%5;v=(h&(1<<T)-1).toString(32),h>>=T,p-=T,si=1<<32-Cn(s)+p|l<<p|h,oi=v+r}else si=1<<v|l<<p|h,oi=r}function Vh(r){r.return!==null&&(Is(r,1),fg(r,1,0))}function bh(r){for(;r===wu;)wu=xo[--Ao],xo[Ao]=null,Eu=xo[--Ao],xo[Ao]=null;for(;r===As;)As=Un[--zn],Un[zn]=null,oi=Un[--zn],Un[zn]=null,si=Un[--zn],Un[zn]=null}var bn=null,Dn=null,st=!1,lr=null;function dg(r,s){var l=qn(5,null,null,0);l.elementType="DELETED",l.stateNode=s,l.return=r,s=r.deletions,s===null?(r.deletions=[l],r.flags|=16):s.push(l)}function pg(r,s){switch(r.tag){case 5:var l=r.type;return s=s.nodeType!==1||l.toLowerCase()!==s.nodeName.toLowerCase()?null:s,s!==null?(r.stateNode=s,bn=r,Dn=Di(s.firstChild),!0):!1;case 6:return s=r.pendingProps===""||s.nodeType!==3?null:s,s!==null?(r.stateNode=s,bn=r,Dn=null,!0):!1;case 13:return s=s.nodeType!==8?null:s,s!==null?(l=As!==null?{id:si,overflow:oi}:null,r.memoizedState={dehydrated:s,treeContext:l,retryLane:1073741824},l=qn(18,null,null,0),l.stateNode=s,l.return=r,r.child=l,bn=r,Dn=null,!0):!1;default:return!1}}function Dh(r){return(r.mode&1)!==0&&(r.flags&128)===0}function Nh(r){if(st){var s=Dn;if(s){var l=s;if(!pg(r,s)){if(Dh(r))throw Error(n(418));s=Di(l.nextSibling);var h=bn;s&&pg(r,s)?dg(h,l):(r.flags=r.flags&-4097|2,st=!1,bn=r)}}else{if(Dh(r))throw Error(n(418));r.flags=r.flags&-4097|2,st=!1,bn=r}}}function mg(r){for(r=r.return;r!==null&&r.tag!==5&&r.tag!==3&&r.tag!==13;)r=r.return;bn=r}function Tu(r){if(r!==bn)return!1;if(!st)return mg(r),st=!0,!1;var s;if((s=r.tag!==3)&&!(s=r.tag!==5)&&(s=r.type,s=s!=="head"&&s!=="body"&&!Ah(r.type,r.memoizedProps)),s&&(s=Dn)){if(Dh(r))throw gg(),Error(n(418));for(;s;)dg(r,s),s=Di(s.nextSibling)}if(mg(r),r.tag===13){if(r=r.memoizedState,r=r!==null?r.dehydrated:null,!r)throw Error(n(317));e:{for(r=r.nextSibling,s=0;r;){if(r.nodeType===8){var l=r.data;if(l==="/$"){if(s===0){Dn=Di(r.nextSibling);break e}s--}else l!=="$"&&l!=="$!"&&l!=="$?"||s++}r=r.nextSibling}Dn=null}}else Dn=bn?Di(r.stateNode.nextSibling):null;return!0}function gg(){for(var r=Dn;r;)r=Di(r.nextSibling)}function Io(){Dn=bn=null,st=!1}function Mh(r){lr===null?lr=[r]:lr.push(r)}var B1=Z.ReactCurrentBatchConfig;function Ua(r,s,l){if(r=l.ref,r!==null&&typeof r!="function"&&typeof r!="object"){if(l._owner){if(l=l._owner,l){if(l.tag!==1)throw Error(n(309));var h=l.stateNode}if(!h)throw Error(n(147,r));var p=h,v=""+r;return s!==null&&s.ref!==null&&typeof s.ref=="function"&&s.ref._stringRef===v?s.ref:(s=function(T){var C=p.refs;T===null?delete C[v]:C[v]=T},s._stringRef=v,s)}if(typeof r!="string")throw Error(n(284));if(!l._owner)throw Error(n(290,r))}return r}function Su(r,s){throw r=Object.prototype.toString.call(s),Error(n(31,r==="[object Object]"?"object with keys {"+Object.keys(s).join(", ")+"}":r))}function yg(r){var s=r._init;return s(r._payload)}function vg(r){function s(z,L){if(r){var H=z.deletions;H===null?(z.deletions=[L],z.flags|=16):H.push(L)}}function l(z,L){if(!r)return null;for(;L!==null;)s(z,L),L=L.sibling;return null}function h(z,L){for(z=new Map;L!==null;)L.key!==null?z.set(L.key,L):z.set(L.index,L),L=L.sibling;return z}function p(z,L){return z=Hi(z,L),z.index=0,z.sibling=null,z}function v(z,L,H){return z.index=H,r?(H=z.alternate,H!==null?(H=H.index,H<L?(z.flags|=2,L):H):(z.flags|=2,L)):(z.flags|=1048576,L)}function T(z){return r&&z.alternate===null&&(z.flags|=2),z}function C(z,L,H,ie){return L===null||L.tag!==6?(L=Cf(H,z.mode,ie),L.return=z,L):(L=p(L,H),L.return=z,L)}function N(z,L,H,ie){var _e=H.type;return _e===R?ee(z,L,H.props.children,ie,H.key):L!==null&&(L.elementType===_e||typeof _e=="object"&&_e!==null&&_e.$$typeof===Ve&&yg(_e)===L.type)?(ie=p(L,H.props),ie.ref=Ua(z,L,H),ie.return=z,ie):(ie=Ku(H.type,H.key,H.props,null,z.mode,ie),ie.ref=Ua(z,L,H),ie.return=z,ie)}function W(z,L,H,ie){return L===null||L.tag!==4||L.stateNode.containerInfo!==H.containerInfo||L.stateNode.implementation!==H.implementation?(L=Pf(H,z.mode,ie),L.return=z,L):(L=p(L,H.children||[]),L.return=z,L)}function ee(z,L,H,ie,_e){return L===null||L.tag!==7?(L=Ns(H,z.mode,ie,_e),L.return=z,L):(L=p(L,H),L.return=z,L)}function re(z,L,H){if(typeof L=="string"&&L!==""||typeof L=="number")return L=Cf(""+L,z.mode,H),L.return=z,L;if(typeof L=="object"&&L!==null){switch(L.$$typeof){case ne:return H=Ku(L.type,L.key,L.props,null,z.mode,H),H.ref=Ua(z,null,L),H.return=z,H;case le:return L=Pf(L,z.mode,H),L.return=z,L;case Ve:var ie=L._init;return re(z,ie(L._payload),H)}if(at(L)||ce(L))return L=Ns(L,z.mode,H,null),L.return=z,L;Su(z,L)}return null}function J(z,L,H,ie){var _e=L!==null?L.key:null;if(typeof H=="string"&&H!==""||typeof H=="number")return _e!==null?null:C(z,L,""+H,ie);if(typeof H=="object"&&H!==null){switch(H.$$typeof){case ne:return H.key===_e?N(z,L,H,ie):null;case le:return H.key===_e?W(z,L,H,ie):null;case Ve:return _e=H._init,J(z,L,_e(H._payload),ie)}if(at(H)||ce(H))return _e!==null?null:ee(z,L,H,ie,null);Su(z,H)}return null}function he(z,L,H,ie,_e){if(typeof ie=="string"&&ie!==""||typeof ie=="number")return z=z.get(H)||null,C(L,z,""+ie,_e);if(typeof ie=="object"&&ie!==null){switch(ie.$$typeof){case ne:return z=z.get(ie.key===null?H:ie.key)||null,N(L,z,ie,_e);case le:return z=z.get(ie.key===null?H:ie.key)||null,W(L,z,ie,_e);case Ve:var Se=ie._init;return he(z,L,H,Se(ie._payload),_e)}if(at(ie)||ce(ie))return z=z.get(H)||null,ee(L,z,ie,_e,null);Su(L,ie)}return null}function ge(z,L,H,ie){for(var _e=null,Se=null,xe=L,Re=L=0,jt=null;xe!==null&&Re<H.length;Re++){xe.index>Re?(jt=xe,xe=null):jt=xe.sibling;var He=J(z,xe,H[Re],ie);if(He===null){xe===null&&(xe=jt);break}r&&xe&&He.alternate===null&&s(z,xe),L=v(He,L,Re),Se===null?_e=He:Se.sibling=He,Se=He,xe=jt}if(Re===H.length)return l(z,xe),st&&Is(z,Re),_e;if(xe===null){for(;Re<H.length;Re++)xe=re(z,H[Re],ie),xe!==null&&(L=v(xe,L,Re),Se===null?_e=xe:Se.sibling=xe,Se=xe);return st&&Is(z,Re),_e}for(xe=h(z,xe);Re<H.length;Re++)jt=he(xe,z,Re,H[Re],ie),jt!==null&&(r&&jt.alternate!==null&&xe.delete(jt.key===null?Re:jt.key),L=v(jt,L,Re),Se===null?_e=jt:Se.sibling=jt,Se=jt);return r&&xe.forEach(function(Wi){return s(z,Wi)}),st&&Is(z,Re),_e}function ye(z,L,H,ie){var _e=ce(H);if(typeof _e!="function")throw Error(n(150));if(H=_e.call(H),H==null)throw Error(n(151));for(var Se=_e=null,xe=L,Re=L=0,jt=null,He=H.next();xe!==null&&!He.done;Re++,He=H.next()){xe.index>Re?(jt=xe,xe=null):jt=xe.sibling;var Wi=J(z,xe,He.value,ie);if(Wi===null){xe===null&&(xe=jt);break}r&&xe&&Wi.alternate===null&&s(z,xe),L=v(Wi,L,Re),Se===null?_e=Wi:Se.sibling=Wi,Se=Wi,xe=jt}if(He.done)return l(z,xe),st&&Is(z,Re),_e;if(xe===null){for(;!He.done;Re++,He=H.next())He=re(z,He.value,ie),He!==null&&(L=v(He,L,Re),Se===null?_e=He:Se.sibling=He,Se=He);return st&&Is(z,Re),_e}for(xe=h(z,xe);!He.done;Re++,He=H.next())He=he(xe,z,Re,He.value,ie),He!==null&&(r&&He.alternate!==null&&xe.delete(He.key===null?Re:He.key),L=v(He,L,Re),Se===null?_e=He:Se.sibling=He,Se=He);return r&&xe.forEach(function(_S){return s(z,_S)}),st&&Is(z,Re),_e}function vt(z,L,H,ie){if(typeof H=="object"&&H!==null&&H.type===R&&H.key===null&&(H=H.props.children),typeof H=="object"&&H!==null){switch(H.$$typeof){case ne:e:{for(var _e=H.key,Se=L;Se!==null;){if(Se.key===_e){if(_e=H.type,_e===R){if(Se.tag===7){l(z,Se.sibling),L=p(Se,H.props.children),L.return=z,z=L;break e}}else if(Se.elementType===_e||typeof _e=="object"&&_e!==null&&_e.$$typeof===Ve&&yg(_e)===Se.type){l(z,Se.sibling),L=p(Se,H.props),L.ref=Ua(z,Se,H),L.return=z,z=L;break e}l(z,Se);break}else s(z,Se);Se=Se.sibling}H.type===R?(L=Ns(H.props.children,z.mode,ie,H.key),L.return=z,z=L):(ie=Ku(H.type,H.key,H.props,null,z.mode,ie),ie.ref=Ua(z,L,H),ie.return=z,z=ie)}return T(z);case le:e:{for(Se=H.key;L!==null;){if(L.key===Se)if(L.tag===4&&L.stateNode.containerInfo===H.containerInfo&&L.stateNode.implementation===H.implementation){l(z,L.sibling),L=p(L,H.children||[]),L.return=z,z=L;break e}else{l(z,L);break}else s(z,L);L=L.sibling}L=Pf(H,z.mode,ie),L.return=z,z=L}return T(z);case Ve:return Se=H._init,vt(z,L,Se(H._payload),ie)}if(at(H))return ge(z,L,H,ie);if(ce(H))return ye(z,L,H,ie);Su(z,H)}return typeof H=="string"&&H!==""||typeof H=="number"?(H=""+H,L!==null&&L.tag===6?(l(z,L.sibling),L=p(L,H),L.return=z,z=L):(l(z,L),L=Cf(H,z.mode,ie),L.return=z,z=L),T(z)):l(z,L)}return vt}var Co=vg(!0),_g=vg(!1),xu=Ni(null),Au=null,Po=null,Lh=null;function Oh(){Lh=Po=Au=null}function Fh(r){var s=xu.current;rt(xu),r._currentValue=s}function jh(r,s,l){for(;r!==null;){var h=r.alternate;if((r.childLanes&s)!==s?(r.childLanes|=s,h!==null&&(h.childLanes|=s)):h!==null&&(h.childLanes&s)!==s&&(h.childLanes|=s),r===l)break;r=r.return}}function Ro(r,s){Au=r,Lh=Po=null,r=r.dependencies,r!==null&&r.firstContext!==null&&((r.lanes&s)!==0&&(gn=!0),r.firstContext=null)}function $n(r){var s=r._currentValue;if(Lh!==r)if(r={context:r,memoizedValue:s,next:null},Po===null){if(Au===null)throw Error(n(308));Po=r,Au.dependencies={lanes:0,firstContext:r}}else Po=Po.next=r;return s}var Cs=null;function Bh(r){Cs===null?Cs=[r]:Cs.push(r)}function wg(r,s,l,h){var p=s.interleaved;return p===null?(l.next=l,Bh(s)):(l.next=p.next,p.next=l),s.interleaved=l,ai(r,h)}function ai(r,s){r.lanes|=s;var l=r.alternate;for(l!==null&&(l.lanes|=s),l=r,r=r.return;r!==null;)r.childLanes|=s,l=r.alternate,l!==null&&(l.childLanes|=s),l=r,r=r.return;return l.tag===3?l.stateNode:null}var Oi=!1;function Uh(r){r.updateQueue={baseState:r.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Eg(r,s){r=r.updateQueue,s.updateQueue===r&&(s.updateQueue={baseState:r.baseState,firstBaseUpdate:r.firstBaseUpdate,lastBaseUpdate:r.lastBaseUpdate,shared:r.shared,effects:r.effects})}function li(r,s){return{eventTime:r,lane:s,tag:0,payload:null,callback:null,next:null}}function Fi(r,s,l){var h=r.updateQueue;if(h===null)return null;if(h=h.shared,($e&2)!==0){var p=h.pending;return p===null?s.next=s:(s.next=p.next,p.next=s),h.pending=s,ai(r,l)}return p=h.interleaved,p===null?(s.next=s,Bh(h)):(s.next=p.next,p.next=s),h.interleaved=s,ai(r,l)}function Iu(r,s,l){if(s=s.updateQueue,s!==null&&(s=s.shared,(l&4194240)!==0)){var h=s.lanes;h&=r.pendingLanes,l|=h,s.lanes=l,Ta(r,l)}}function Tg(r,s){var l=r.updateQueue,h=r.alternate;if(h!==null&&(h=h.updateQueue,l===h)){var p=null,v=null;if(l=l.firstBaseUpdate,l!==null){do{var T={eventTime:l.eventTime,lane:l.lane,tag:l.tag,payload:l.payload,callback:l.callback,next:null};v===null?p=v=T:v=v.next=T,l=l.next}while(l!==null);v===null?p=v=s:v=v.next=s}else p=v=s;l={baseState:h.baseState,firstBaseUpdate:p,lastBaseUpdate:v,shared:h.shared,effects:h.effects},r.updateQueue=l;return}r=l.lastBaseUpdate,r===null?l.firstBaseUpdate=s:r.next=s,l.lastBaseUpdate=s}function Cu(r,s,l,h){var p=r.updateQueue;Oi=!1;var v=p.firstBaseUpdate,T=p.lastBaseUpdate,C=p.shared.pending;if(C!==null){p.shared.pending=null;var N=C,W=N.next;N.next=null,T===null?v=W:T.next=W,T=N;var ee=r.alternate;ee!==null&&(ee=ee.updateQueue,C=ee.lastBaseUpdate,C!==T&&(C===null?ee.firstBaseUpdate=W:C.next=W,ee.lastBaseUpdate=N))}if(v!==null){var re=p.baseState;T=0,ee=W=N=null,C=v;do{var J=C.lane,he=C.eventTime;if((h&J)===J){ee!==null&&(ee=ee.next={eventTime:he,lane:0,tag:C.tag,payload:C.payload,callback:C.callback,next:null});e:{var ge=r,ye=C;switch(J=s,he=l,ye.tag){case 1:if(ge=ye.payload,typeof ge=="function"){re=ge.call(he,re,J);break e}re=ge;break e;case 3:ge.flags=ge.flags&-65537|128;case 0:if(ge=ye.payload,J=typeof ge=="function"?ge.call(he,re,J):ge,J==null)break e;re=se({},re,J);break e;case 2:Oi=!0}}C.callback!==null&&C.lane!==0&&(r.flags|=64,J=p.effects,J===null?p.effects=[C]:J.push(C))}else he={eventTime:he,lane:J,tag:C.tag,payload:C.payload,callback:C.callback,next:null},ee===null?(W=ee=he,N=re):ee=ee.next=he,T|=J;if(C=C.next,C===null){if(C=p.shared.pending,C===null)break;J=C,C=J.next,J.next=null,p.lastBaseUpdate=J,p.shared.pending=null}}while(!0);if(ee===null&&(N=re),p.baseState=N,p.firstBaseUpdate=W,p.lastBaseUpdate=ee,s=p.shared.interleaved,s!==null){p=s;do T|=p.lane,p=p.next;while(p!==s)}else v===null&&(p.shared.lanes=0);ks|=T,r.lanes=T,r.memoizedState=re}}function Sg(r,s,l){if(r=s.effects,s.effects=null,r!==null)for(s=0;s<r.length;s++){var h=r[s],p=h.callback;if(p!==null){if(h.callback=null,h=l,typeof p!="function")throw Error(n(191,p));p.call(h)}}}var za={},Nr=Ni(za),$a=Ni(za),Ha=Ni(za);function Ps(r){if(r===za)throw Error(n(174));return r}function zh(r,s){switch(Je(Ha,s),Je($a,r),Je(Nr,za),r=s.nodeType,r){case 9:case 11:s=(s=s.documentElement)?s.namespaceURI:wi(null,"");break;default:r=r===8?s.parentNode:s,s=r.namespaceURI||null,r=r.tagName,s=wi(s,r)}rt(Nr),Je(Nr,s)}function ko(){rt(Nr),rt($a),rt(Ha)}function xg(r){Ps(Ha.current);var s=Ps(Nr.current),l=wi(s,r.type);s!==l&&(Je($a,r),Je(Nr,l))}function $h(r){$a.current===r&&(rt(Nr),rt($a))}var lt=Ni(0);function Pu(r){for(var s=r;s!==null;){if(s.tag===13){var l=s.memoizedState;if(l!==null&&(l=l.dehydrated,l===null||l.data==="$?"||l.data==="$!"))return s}else if(s.tag===19&&s.memoizedProps.revealOrder!==void 0){if((s.flags&128)!==0)return s}else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===r)break;for(;s.sibling===null;){if(s.return===null||s.return===r)return null;s=s.return}s.sibling.return=s.return,s=s.sibling}return null}var Hh=[];function Wh(){for(var r=0;r<Hh.length;r++)Hh[r]._workInProgressVersionPrimary=null;Hh.length=0}var Ru=Z.ReactCurrentDispatcher,qh=Z.ReactCurrentBatchConfig,Rs=0,ut=null,Vt=null,Ot=null,ku=!1,Wa=!1,qa=0,U1=0;function Zt(){throw Error(n(321))}function Kh(r,s){if(s===null)return!1;for(var l=0;l<s.length&&l<r.length;l++)if(!ar(r[l],s[l]))return!1;return!0}function Gh(r,s,l,h,p,v){if(Rs=v,ut=s,s.memoizedState=null,s.updateQueue=null,s.lanes=0,Ru.current=r===null||r.memoizedState===null?W1:q1,r=l(h,p),Wa){v=0;do{if(Wa=!1,qa=0,25<=v)throw Error(n(301));v+=1,Ot=Vt=null,s.updateQueue=null,Ru.current=K1,r=l(h,p)}while(Wa)}if(Ru.current=Du,s=Vt!==null&&Vt.next!==null,Rs=0,Ot=Vt=ut=null,ku=!1,s)throw Error(n(300));return r}function Qh(){var r=qa!==0;return qa=0,r}function Mr(){var r={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ot===null?ut.memoizedState=Ot=r:Ot=Ot.next=r,Ot}function Hn(){if(Vt===null){var r=ut.alternate;r=r!==null?r.memoizedState:null}else r=Vt.next;var s=Ot===null?ut.memoizedState:Ot.next;if(s!==null)Ot=s,Vt=r;else{if(r===null)throw Error(n(310));Vt=r,r={memoizedState:Vt.memoizedState,baseState:Vt.baseState,baseQueue:Vt.baseQueue,queue:Vt.queue,next:null},Ot===null?ut.memoizedState=Ot=r:Ot=Ot.next=r}return Ot}function Ka(r,s){return typeof s=="function"?s(r):s}function Yh(r){var s=Hn(),l=s.queue;if(l===null)throw Error(n(311));l.lastRenderedReducer=r;var h=Vt,p=h.baseQueue,v=l.pending;if(v!==null){if(p!==null){var T=p.next;p.next=v.next,v.next=T}h.baseQueue=p=v,l.pending=null}if(p!==null){v=p.next,h=h.baseState;var C=T=null,N=null,W=v;do{var ee=W.lane;if((Rs&ee)===ee)N!==null&&(N=N.next={lane:0,action:W.action,hasEagerState:W.hasEagerState,eagerState:W.eagerState,next:null}),h=W.hasEagerState?W.eagerState:r(h,W.action);else{var re={lane:ee,action:W.action,hasEagerState:W.hasEagerState,eagerState:W.eagerState,next:null};N===null?(C=N=re,T=h):N=N.next=re,ut.lanes|=ee,ks|=ee}W=W.next}while(W!==null&&W!==v);N===null?T=h:N.next=C,ar(h,s.memoizedState)||(gn=!0),s.memoizedState=h,s.baseState=T,s.baseQueue=N,l.lastRenderedState=h}if(r=l.interleaved,r!==null){p=r;do v=p.lane,ut.lanes|=v,ks|=v,p=p.next;while(p!==r)}else p===null&&(l.lanes=0);return[s.memoizedState,l.dispatch]}function Xh(r){var s=Hn(),l=s.queue;if(l===null)throw Error(n(311));l.lastRenderedReducer=r;var h=l.dispatch,p=l.pending,v=s.memoizedState;if(p!==null){l.pending=null;var T=p=p.next;do v=r(v,T.action),T=T.next;while(T!==p);ar(v,s.memoizedState)||(gn=!0),s.memoizedState=v,s.baseQueue===null&&(s.baseState=v),l.lastRenderedState=v}return[v,h]}function Ag(){}function Ig(r,s){var l=ut,h=Hn(),p=s(),v=!ar(h.memoizedState,p);if(v&&(h.memoizedState=p,gn=!0),h=h.queue,Jh(Rg.bind(null,l,h,r),[r]),h.getSnapshot!==s||v||Ot!==null&&Ot.memoizedState.tag&1){if(l.flags|=2048,Ga(9,Pg.bind(null,l,h,p,s),void 0,null),Ft===null)throw Error(n(349));(Rs&30)!==0||Cg(l,s,p)}return p}function Cg(r,s,l){r.flags|=16384,r={getSnapshot:s,value:l},s=ut.updateQueue,s===null?(s={lastEffect:null,stores:null},ut.updateQueue=s,s.stores=[r]):(l=s.stores,l===null?s.stores=[r]:l.push(r))}function Pg(r,s,l,h){s.value=l,s.getSnapshot=h,kg(s)&&Vg(r)}function Rg(r,s,l){return l(function(){kg(s)&&Vg(r)})}function kg(r){var s=r.getSnapshot;r=r.value;try{var l=s();return!ar(r,l)}catch{return!0}}function Vg(r){var s=ai(r,1);s!==null&&fr(s,r,1,-1)}function bg(r){var s=Mr();return typeof r=="function"&&(r=r()),s.memoizedState=s.baseState=r,r={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Ka,lastRenderedState:r},s.queue=r,r=r.dispatch=H1.bind(null,ut,r),[s.memoizedState,r]}function Ga(r,s,l,h){return r={tag:r,create:s,destroy:l,deps:h,next:null},s=ut.updateQueue,s===null?(s={lastEffect:null,stores:null},ut.updateQueue=s,s.lastEffect=r.next=r):(l=s.lastEffect,l===null?s.lastEffect=r.next=r:(h=l.next,l.next=r,r.next=h,s.lastEffect=r)),r}function Dg(){return Hn().memoizedState}function Vu(r,s,l,h){var p=Mr();ut.flags|=r,p.memoizedState=Ga(1|s,l,void 0,h===void 0?null:h)}function bu(r,s,l,h){var p=Hn();h=h===void 0?null:h;var v=void 0;if(Vt!==null){var T=Vt.memoizedState;if(v=T.destroy,h!==null&&Kh(h,T.deps)){p.memoizedState=Ga(s,l,v,h);return}}ut.flags|=r,p.memoizedState=Ga(1|s,l,v,h)}function Ng(r,s){return Vu(8390656,8,r,s)}function Jh(r,s){return bu(2048,8,r,s)}function Mg(r,s){return bu(4,2,r,s)}function Lg(r,s){return bu(4,4,r,s)}function Og(r,s){if(typeof s=="function")return r=r(),s(r),function(){s(null)};if(s!=null)return r=r(),s.current=r,function(){s.current=null}}function Fg(r,s,l){return l=l!=null?l.concat([r]):null,bu(4,4,Og.bind(null,s,r),l)}function Zh(){}function jg(r,s){var l=Hn();s=s===void 0?null:s;var h=l.memoizedState;return h!==null&&s!==null&&Kh(s,h[1])?h[0]:(l.memoizedState=[r,s],r)}function Bg(r,s){var l=Hn();s=s===void 0?null:s;var h=l.memoizedState;return h!==null&&s!==null&&Kh(s,h[1])?h[0]:(r=r(),l.memoizedState=[r,s],r)}function Ug(r,s,l){return(Rs&21)===0?(r.baseState&&(r.baseState=!1,gn=!0),r.memoizedState=l):(ar(l,s)||(l=wa(),ut.lanes|=l,ks|=l,r.baseState=!0),s)}function z1(r,s){var l=Fe;Fe=l!==0&&4>l?l:4,r(!0);var h=qh.transition;qh.transition={};try{r(!1),s()}finally{Fe=l,qh.transition=h}}function zg(){return Hn().memoizedState}function $1(r,s,l){var h=zi(r);if(l={lane:h,action:l,hasEagerState:!1,eagerState:null,next:null},$g(r))Hg(s,l);else if(l=wg(r,s,l,h),l!==null){var p=cn();fr(l,r,h,p),Wg(l,s,h)}}function H1(r,s,l){var h=zi(r),p={lane:h,action:l,hasEagerState:!1,eagerState:null,next:null};if($g(r))Hg(s,p);else{var v=r.alternate;if(r.lanes===0&&(v===null||v.lanes===0)&&(v=s.lastRenderedReducer,v!==null))try{var T=s.lastRenderedState,C=v(T,l);if(p.hasEagerState=!0,p.eagerState=C,ar(C,T)){var N=s.interleaved;N===null?(p.next=p,Bh(s)):(p.next=N.next,N.next=p),s.interleaved=p;return}}catch{}finally{}l=wg(r,s,p,h),l!==null&&(p=cn(),fr(l,r,h,p),Wg(l,s,h))}}function $g(r){var s=r.alternate;return r===ut||s!==null&&s===ut}function Hg(r,s){Wa=ku=!0;var l=r.pending;l===null?s.next=s:(s.next=l.next,l.next=s),r.pending=s}function Wg(r,s,l){if((l&4194240)!==0){var h=s.lanes;h&=r.pendingLanes,l|=h,s.lanes=l,Ta(r,l)}}var Du={readContext:$n,useCallback:Zt,useContext:Zt,useEffect:Zt,useImperativeHandle:Zt,useInsertionEffect:Zt,useLayoutEffect:Zt,useMemo:Zt,useReducer:Zt,useRef:Zt,useState:Zt,useDebugValue:Zt,useDeferredValue:Zt,useTransition:Zt,useMutableSource:Zt,useSyncExternalStore:Zt,useId:Zt,unstable_isNewReconciler:!1},W1={readContext:$n,useCallback:function(r,s){return Mr().memoizedState=[r,s===void 0?null:s],r},useContext:$n,useEffect:Ng,useImperativeHandle:function(r,s,l){return l=l!=null?l.concat([r]):null,Vu(4194308,4,Og.bind(null,s,r),l)},useLayoutEffect:function(r,s){return Vu(4194308,4,r,s)},useInsertionEffect:function(r,s){return Vu(4,2,r,s)},useMemo:function(r,s){var l=Mr();return s=s===void 0?null:s,r=r(),l.memoizedState=[r,s],r},useReducer:function(r,s,l){var h=Mr();return s=l!==void 0?l(s):s,h.memoizedState=h.baseState=s,r={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:r,lastRenderedState:s},h.queue=r,r=r.dispatch=$1.bind(null,ut,r),[h.memoizedState,r]},useRef:function(r){var s=Mr();return r={current:r},s.memoizedState=r},useState:bg,useDebugValue:Zh,useDeferredValue:function(r){return Mr().memoizedState=r},useTransition:function(){var r=bg(!1),s=r[0];return r=z1.bind(null,r[1]),Mr().memoizedState=r,[s,r]},useMutableSource:function(){},useSyncExternalStore:function(r,s,l){var h=ut,p=Mr();if(st){if(l===void 0)throw Error(n(407));l=l()}else{if(l=s(),Ft===null)throw Error(n(349));(Rs&30)!==0||Cg(h,s,l)}p.memoizedState=l;var v={value:l,getSnapshot:s};return p.queue=v,Ng(Rg.bind(null,h,v,r),[r]),h.flags|=2048,Ga(9,Pg.bind(null,h,v,l,s),void 0,null),l},useId:function(){var r=Mr(),s=Ft.identifierPrefix;if(st){var l=oi,h=si;l=(h&~(1<<32-Cn(h)-1)).toString(32)+l,s=":"+s+"R"+l,l=qa++,0<l&&(s+="H"+l.toString(32)),s+=":"}else l=U1++,s=":"+s+"r"+l.toString(32)+":";return r.memoizedState=s},unstable_isNewReconciler:!1},q1={readContext:$n,useCallback:jg,useContext:$n,useEffect:Jh,useImperativeHandle:Fg,useInsertionEffect:Mg,useLayoutEffect:Lg,useMemo:Bg,useReducer:Yh,useRef:Dg,useState:function(){return Yh(Ka)},useDebugValue:Zh,useDeferredValue:function(r){var s=Hn();return Ug(s,Vt.memoizedState,r)},useTransition:function(){var r=Yh(Ka)[0],s=Hn().memoizedState;return[r,s]},useMutableSource:Ag,useSyncExternalStore:Ig,useId:zg,unstable_isNewReconciler:!1},K1={readContext:$n,useCallback:jg,useContext:$n,useEffect:Jh,useImperativeHandle:Fg,useInsertionEffect:Mg,useLayoutEffect:Lg,useMemo:Bg,useReducer:Xh,useRef:Dg,useState:function(){return Xh(Ka)},useDebugValue:Zh,useDeferredValue:function(r){var s=Hn();return Vt===null?s.memoizedState=r:Ug(s,Vt.memoizedState,r)},useTransition:function(){var r=Xh(Ka)[0],s=Hn().memoizedState;return[r,s]},useMutableSource:Ag,useSyncExternalStore:Ig,useId:zg,unstable_isNewReconciler:!1};function ur(r,s){if(r&&r.defaultProps){s=se({},s),r=r.defaultProps;for(var l in r)s[l]===void 0&&(s[l]=r[l]);return s}return s}function ef(r,s,l,h){s=r.memoizedState,l=l(h,s),l=l==null?s:se({},s,l),r.memoizedState=l,r.lanes===0&&(r.updateQueue.baseState=l)}var Nu={isMounted:function(r){return(r=r._reactInternals)?sr(r)===r:!1},enqueueSetState:function(r,s,l){r=r._reactInternals;var h=cn(),p=zi(r),v=li(h,p);v.payload=s,l!=null&&(v.callback=l),s=Fi(r,v,p),s!==null&&(fr(s,r,p,h),Iu(s,r,p))},enqueueReplaceState:function(r,s,l){r=r._reactInternals;var h=cn(),p=zi(r),v=li(h,p);v.tag=1,v.payload=s,l!=null&&(v.callback=l),s=Fi(r,v,p),s!==null&&(fr(s,r,p,h),Iu(s,r,p))},enqueueForceUpdate:function(r,s){r=r._reactInternals;var l=cn(),h=zi(r),p=li(l,h);p.tag=2,s!=null&&(p.callback=s),s=Fi(r,p,h),s!==null&&(fr(s,r,h,l),Iu(s,r,h))}};function qg(r,s,l,h,p,v,T){return r=r.stateNode,typeof r.shouldComponentUpdate=="function"?r.shouldComponentUpdate(h,v,T):s.prototype&&s.prototype.isPureReactComponent?!Na(l,h)||!Na(p,v):!0}function Kg(r,s,l){var h=!1,p=Mi,v=s.contextType;return typeof v=="object"&&v!==null?v=$n(v):(p=mn(s)?xs:Jt.current,h=s.contextTypes,v=(h=h!=null)?So(r,p):Mi),s=new s(l,v),r.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,s.updater=Nu,r.stateNode=s,s._reactInternals=r,h&&(r=r.stateNode,r.__reactInternalMemoizedUnmaskedChildContext=p,r.__reactInternalMemoizedMaskedChildContext=v),s}function Gg(r,s,l,h){r=s.state,typeof s.componentWillReceiveProps=="function"&&s.componentWillReceiveProps(l,h),typeof s.UNSAFE_componentWillReceiveProps=="function"&&s.UNSAFE_componentWillReceiveProps(l,h),s.state!==r&&Nu.enqueueReplaceState(s,s.state,null)}function tf(r,s,l,h){var p=r.stateNode;p.props=l,p.state=r.memoizedState,p.refs={},Uh(r);var v=s.contextType;typeof v=="object"&&v!==null?p.context=$n(v):(v=mn(s)?xs:Jt.current,p.context=So(r,v)),p.state=r.memoizedState,v=s.getDerivedStateFromProps,typeof v=="function"&&(ef(r,s,v,l),p.state=r.memoizedState),typeof s.getDerivedStateFromProps=="function"||typeof p.getSnapshotBeforeUpdate=="function"||typeof p.UNSAFE_componentWillMount!="function"&&typeof p.componentWillMount!="function"||(s=p.state,typeof p.componentWillMount=="function"&&p.componentWillMount(),typeof p.UNSAFE_componentWillMount=="function"&&p.UNSAFE_componentWillMount(),s!==p.state&&Nu.enqueueReplaceState(p,p.state,null),Cu(r,l,p,h),p.state=r.memoizedState),typeof p.componentDidMount=="function"&&(r.flags|=4194308)}function Vo(r,s){try{var l="",h=s;do l+=we(h),h=h.return;while(h);var p=l}catch(v){p=`
Error generating stack: `+v.message+`
`+v.stack}return{value:r,source:s,stack:p,digest:null}}function nf(r,s,l){return{value:r,source:null,stack:l??null,digest:s??null}}function rf(r,s){try{console.error(s.value)}catch(l){setTimeout(function(){throw l})}}var G1=typeof WeakMap=="function"?WeakMap:Map;function Qg(r,s,l){l=li(-1,l),l.tag=3,l.payload={element:null};var h=s.value;return l.callback=function(){Uu||(Uu=!0,_f=h),rf(r,s)},l}function Yg(r,s,l){l=li(-1,l),l.tag=3;var h=r.type.getDerivedStateFromError;if(typeof h=="function"){var p=s.value;l.payload=function(){return h(p)},l.callback=function(){rf(r,s)}}var v=r.stateNode;return v!==null&&typeof v.componentDidCatch=="function"&&(l.callback=function(){rf(r,s),typeof h!="function"&&(Bi===null?Bi=new Set([this]):Bi.add(this));var T=s.stack;this.componentDidCatch(s.value,{componentStack:T!==null?T:""})}),l}function Xg(r,s,l){var h=r.pingCache;if(h===null){h=r.pingCache=new G1;var p=new Set;h.set(s,p)}else p=h.get(s),p===void 0&&(p=new Set,h.set(s,p));p.has(l)||(p.add(l),r=lS.bind(null,r,s,l),s.then(r,r))}function Jg(r){do{var s;if((s=r.tag===13)&&(s=r.memoizedState,s=s!==null?s.dehydrated!==null:!0),s)return r;r=r.return}while(r!==null);return null}function Zg(r,s,l,h,p){return(r.mode&1)===0?(r===s?r.flags|=65536:(r.flags|=128,l.flags|=131072,l.flags&=-52805,l.tag===1&&(l.alternate===null?l.tag=17:(s=li(-1,1),s.tag=2,Fi(l,s,1))),l.lanes|=1),r):(r.flags|=65536,r.lanes=p,r)}var Q1=Z.ReactCurrentOwner,gn=!1;function un(r,s,l,h){s.child=r===null?_g(s,null,l,h):Co(s,r.child,l,h)}function ey(r,s,l,h,p){l=l.render;var v=s.ref;return Ro(s,p),h=Gh(r,s,l,h,v,p),l=Qh(),r!==null&&!gn?(s.updateQueue=r.updateQueue,s.flags&=-2053,r.lanes&=~p,ui(r,s,p)):(st&&l&&Vh(s),s.flags|=1,un(r,s,h,p),s.child)}function ty(r,s,l,h,p){if(r===null){var v=l.type;return typeof v=="function"&&!If(v)&&v.defaultProps===void 0&&l.compare===null&&l.defaultProps===void 0?(s.tag=15,s.type=v,ny(r,s,v,h,p)):(r=Ku(l.type,null,h,s,s.mode,p),r.ref=s.ref,r.return=s,s.child=r)}if(v=r.child,(r.lanes&p)===0){var T=v.memoizedProps;if(l=l.compare,l=l!==null?l:Na,l(T,h)&&r.ref===s.ref)return ui(r,s,p)}return s.flags|=1,r=Hi(v,h),r.ref=s.ref,r.return=s,s.child=r}function ny(r,s,l,h,p){if(r!==null){var v=r.memoizedProps;if(Na(v,h)&&r.ref===s.ref)if(gn=!1,s.pendingProps=h=v,(r.lanes&p)!==0)(r.flags&131072)!==0&&(gn=!0);else return s.lanes=r.lanes,ui(r,s,p)}return sf(r,s,l,h,p)}function ry(r,s,l){var h=s.pendingProps,p=h.children,v=r!==null?r.memoizedState:null;if(h.mode==="hidden")if((s.mode&1)===0)s.memoizedState={baseLanes:0,cachePool:null,transitions:null},Je(Do,Nn),Nn|=l;else{if((l&1073741824)===0)return r=v!==null?v.baseLanes|l:l,s.lanes=s.childLanes=1073741824,s.memoizedState={baseLanes:r,cachePool:null,transitions:null},s.updateQueue=null,Je(Do,Nn),Nn|=r,null;s.memoizedState={baseLanes:0,cachePool:null,transitions:null},h=v!==null?v.baseLanes:l,Je(Do,Nn),Nn|=h}else v!==null?(h=v.baseLanes|l,s.memoizedState=null):h=l,Je(Do,Nn),Nn|=h;return un(r,s,p,l),s.child}function iy(r,s){var l=s.ref;(r===null&&l!==null||r!==null&&r.ref!==l)&&(s.flags|=512,s.flags|=2097152)}function sf(r,s,l,h,p){var v=mn(l)?xs:Jt.current;return v=So(s,v),Ro(s,p),l=Gh(r,s,l,h,v,p),h=Qh(),r!==null&&!gn?(s.updateQueue=r.updateQueue,s.flags&=-2053,r.lanes&=~p,ui(r,s,p)):(st&&h&&Vh(s),s.flags|=1,un(r,s,l,p),s.child)}function sy(r,s,l,h,p){if(mn(l)){var v=!0;vu(s)}else v=!1;if(Ro(s,p),s.stateNode===null)Lu(r,s),Kg(s,l,h),tf(s,l,h,p),h=!0;else if(r===null){var T=s.stateNode,C=s.memoizedProps;T.props=C;var N=T.context,W=l.contextType;typeof W=="object"&&W!==null?W=$n(W):(W=mn(l)?xs:Jt.current,W=So(s,W));var ee=l.getDerivedStateFromProps,re=typeof ee=="function"||typeof T.getSnapshotBeforeUpdate=="function";re||typeof T.UNSAFE_componentWillReceiveProps!="function"&&typeof T.componentWillReceiveProps!="function"||(C!==h||N!==W)&&Gg(s,T,h,W),Oi=!1;var J=s.memoizedState;T.state=J,Cu(s,h,T,p),N=s.memoizedState,C!==h||J!==N||pn.current||Oi?(typeof ee=="function"&&(ef(s,l,ee,h),N=s.memoizedState),(C=Oi||qg(s,l,C,h,J,N,W))?(re||typeof T.UNSAFE_componentWillMount!="function"&&typeof T.componentWillMount!="function"||(typeof T.componentWillMount=="function"&&T.componentWillMount(),typeof T.UNSAFE_componentWillMount=="function"&&T.UNSAFE_componentWillMount()),typeof T.componentDidMount=="function"&&(s.flags|=4194308)):(typeof T.componentDidMount=="function"&&(s.flags|=4194308),s.memoizedProps=h,s.memoizedState=N),T.props=h,T.state=N,T.context=W,h=C):(typeof T.componentDidMount=="function"&&(s.flags|=4194308),h=!1)}else{T=s.stateNode,Eg(r,s),C=s.memoizedProps,W=s.type===s.elementType?C:ur(s.type,C),T.props=W,re=s.pendingProps,J=T.context,N=l.contextType,typeof N=="object"&&N!==null?N=$n(N):(N=mn(l)?xs:Jt.current,N=So(s,N));var he=l.getDerivedStateFromProps;(ee=typeof he=="function"||typeof T.getSnapshotBeforeUpdate=="function")||typeof T.UNSAFE_componentWillReceiveProps!="function"&&typeof T.componentWillReceiveProps!="function"||(C!==re||J!==N)&&Gg(s,T,h,N),Oi=!1,J=s.memoizedState,T.state=J,Cu(s,h,T,p);var ge=s.memoizedState;C!==re||J!==ge||pn.current||Oi?(typeof he=="function"&&(ef(s,l,he,h),ge=s.memoizedState),(W=Oi||qg(s,l,W,h,J,ge,N)||!1)?(ee||typeof T.UNSAFE_componentWillUpdate!="function"&&typeof T.componentWillUpdate!="function"||(typeof T.componentWillUpdate=="function"&&T.componentWillUpdate(h,ge,N),typeof T.UNSAFE_componentWillUpdate=="function"&&T.UNSAFE_componentWillUpdate(h,ge,N)),typeof T.componentDidUpdate=="function"&&(s.flags|=4),typeof T.getSnapshotBeforeUpdate=="function"&&(s.flags|=1024)):(typeof T.componentDidUpdate!="function"||C===r.memoizedProps&&J===r.memoizedState||(s.flags|=4),typeof T.getSnapshotBeforeUpdate!="function"||C===r.memoizedProps&&J===r.memoizedState||(s.flags|=1024),s.memoizedProps=h,s.memoizedState=ge),T.props=h,T.state=ge,T.context=N,h=W):(typeof T.componentDidUpdate!="function"||C===r.memoizedProps&&J===r.memoizedState||(s.flags|=4),typeof T.getSnapshotBeforeUpdate!="function"||C===r.memoizedProps&&J===r.memoizedState||(s.flags|=1024),h=!1)}return of(r,s,l,h,v,p)}function of(r,s,l,h,p,v){iy(r,s);var T=(s.flags&128)!==0;if(!h&&!T)return p&&cg(s,l,!1),ui(r,s,v);h=s.stateNode,Q1.current=s;var C=T&&typeof l.getDerivedStateFromError!="function"?null:h.render();return s.flags|=1,r!==null&&T?(s.child=Co(s,r.child,null,v),s.child=Co(s,null,C,v)):un(r,s,C,v),s.memoizedState=h.state,p&&cg(s,l,!0),s.child}function oy(r){var s=r.stateNode;s.pendingContext?lg(r,s.pendingContext,s.pendingContext!==s.context):s.context&&lg(r,s.context,!1),zh(r,s.containerInfo)}function ay(r,s,l,h,p){return Io(),Mh(p),s.flags|=256,un(r,s,l,h),s.child}var af={dehydrated:null,treeContext:null,retryLane:0};function lf(r){return{baseLanes:r,cachePool:null,transitions:null}}function ly(r,s,l){var h=s.pendingProps,p=lt.current,v=!1,T=(s.flags&128)!==0,C;if((C=T)||(C=r!==null&&r.memoizedState===null?!1:(p&2)!==0),C?(v=!0,s.flags&=-129):(r===null||r.memoizedState!==null)&&(p|=1),Je(lt,p&1),r===null)return Nh(s),r=s.memoizedState,r!==null&&(r=r.dehydrated,r!==null)?((s.mode&1)===0?s.lanes=1:r.data==="$!"?s.lanes=8:s.lanes=1073741824,null):(T=h.children,r=h.fallback,v?(h=s.mode,v=s.child,T={mode:"hidden",children:T},(h&1)===0&&v!==null?(v.childLanes=0,v.pendingProps=T):v=Gu(T,h,0,null),r=Ns(r,h,l,null),v.return=s,r.return=s,v.sibling=r,s.child=v,s.child.memoizedState=lf(l),s.memoizedState=af,r):uf(s,T));if(p=r.memoizedState,p!==null&&(C=p.dehydrated,C!==null))return Y1(r,s,T,h,C,p,l);if(v){v=h.fallback,T=s.mode,p=r.child,C=p.sibling;var N={mode:"hidden",children:h.children};return(T&1)===0&&s.child!==p?(h=s.child,h.childLanes=0,h.pendingProps=N,s.deletions=null):(h=Hi(p,N),h.subtreeFlags=p.subtreeFlags&14680064),C!==null?v=Hi(C,v):(v=Ns(v,T,l,null),v.flags|=2),v.return=s,h.return=s,h.sibling=v,s.child=h,h=v,v=s.child,T=r.child.memoizedState,T=T===null?lf(l):{baseLanes:T.baseLanes|l,cachePool:null,transitions:T.transitions},v.memoizedState=T,v.childLanes=r.childLanes&~l,s.memoizedState=af,h}return v=r.child,r=v.sibling,h=Hi(v,{mode:"visible",children:h.children}),(s.mode&1)===0&&(h.lanes=l),h.return=s,h.sibling=null,r!==null&&(l=s.deletions,l===null?(s.deletions=[r],s.flags|=16):l.push(r)),s.child=h,s.memoizedState=null,h}function uf(r,s){return s=Gu({mode:"visible",children:s},r.mode,0,null),s.return=r,r.child=s}function Mu(r,s,l,h){return h!==null&&Mh(h),Co(s,r.child,null,l),r=uf(s,s.pendingProps.children),r.flags|=2,s.memoizedState=null,r}function Y1(r,s,l,h,p,v,T){if(l)return s.flags&256?(s.flags&=-257,h=nf(Error(n(422))),Mu(r,s,T,h)):s.memoizedState!==null?(s.child=r.child,s.flags|=128,null):(v=h.fallback,p=s.mode,h=Gu({mode:"visible",children:h.children},p,0,null),v=Ns(v,p,T,null),v.flags|=2,h.return=s,v.return=s,h.sibling=v,s.child=h,(s.mode&1)!==0&&Co(s,r.child,null,T),s.child.memoizedState=lf(T),s.memoizedState=af,v);if((s.mode&1)===0)return Mu(r,s,T,null);if(p.data==="$!"){if(h=p.nextSibling&&p.nextSibling.dataset,h)var C=h.dgst;return h=C,v=Error(n(419)),h=nf(v,h,void 0),Mu(r,s,T,h)}if(C=(T&r.childLanes)!==0,gn||C){if(h=Ft,h!==null){switch(T&-T){case 4:p=2;break;case 16:p=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:p=32;break;case 536870912:p=268435456;break;default:p=0}p=(p&(h.suspendedLanes|T))!==0?0:p,p!==0&&p!==v.retryLane&&(v.retryLane=p,ai(r,p),fr(h,r,p,-1))}return Af(),h=nf(Error(n(421))),Mu(r,s,T,h)}return p.data==="$?"?(s.flags|=128,s.child=r.child,s=uS.bind(null,r),p._reactRetry=s,null):(r=v.treeContext,Dn=Di(p.nextSibling),bn=s,st=!0,lr=null,r!==null&&(Un[zn++]=si,Un[zn++]=oi,Un[zn++]=As,si=r.id,oi=r.overflow,As=s),s=uf(s,h.children),s.flags|=4096,s)}function uy(r,s,l){r.lanes|=s;var h=r.alternate;h!==null&&(h.lanes|=s),jh(r.return,s,l)}function cf(r,s,l,h,p){var v=r.memoizedState;v===null?r.memoizedState={isBackwards:s,rendering:null,renderingStartTime:0,last:h,tail:l,tailMode:p}:(v.isBackwards=s,v.rendering=null,v.renderingStartTime=0,v.last=h,v.tail=l,v.tailMode=p)}function cy(r,s,l){var h=s.pendingProps,p=h.revealOrder,v=h.tail;if(un(r,s,h.children,l),h=lt.current,(h&2)!==0)h=h&1|2,s.flags|=128;else{if(r!==null&&(r.flags&128)!==0)e:for(r=s.child;r!==null;){if(r.tag===13)r.memoizedState!==null&&uy(r,l,s);else if(r.tag===19)uy(r,l,s);else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===s)break e;for(;r.sibling===null;){if(r.return===null||r.return===s)break e;r=r.return}r.sibling.return=r.return,r=r.sibling}h&=1}if(Je(lt,h),(s.mode&1)===0)s.memoizedState=null;else switch(p){case"forwards":for(l=s.child,p=null;l!==null;)r=l.alternate,r!==null&&Pu(r)===null&&(p=l),l=l.sibling;l=p,l===null?(p=s.child,s.child=null):(p=l.sibling,l.sibling=null),cf(s,!1,p,l,v);break;case"backwards":for(l=null,p=s.child,s.child=null;p!==null;){if(r=p.alternate,r!==null&&Pu(r)===null){s.child=p;break}r=p.sibling,p.sibling=l,l=p,p=r}cf(s,!0,l,null,v);break;case"together":cf(s,!1,null,null,void 0);break;default:s.memoizedState=null}return s.child}function Lu(r,s){(s.mode&1)===0&&r!==null&&(r.alternate=null,s.alternate=null,s.flags|=2)}function ui(r,s,l){if(r!==null&&(s.dependencies=r.dependencies),ks|=s.lanes,(l&s.childLanes)===0)return null;if(r!==null&&s.child!==r.child)throw Error(n(153));if(s.child!==null){for(r=s.child,l=Hi(r,r.pendingProps),s.child=l,l.return=s;r.sibling!==null;)r=r.sibling,l=l.sibling=Hi(r,r.pendingProps),l.return=s;l.sibling=null}return s.child}function X1(r,s,l){switch(s.tag){case 3:oy(s),Io();break;case 5:xg(s);break;case 1:mn(s.type)&&vu(s);break;case 4:zh(s,s.stateNode.containerInfo);break;case 10:var h=s.type._context,p=s.memoizedProps.value;Je(xu,h._currentValue),h._currentValue=p;break;case 13:if(h=s.memoizedState,h!==null)return h.dehydrated!==null?(Je(lt,lt.current&1),s.flags|=128,null):(l&s.child.childLanes)!==0?ly(r,s,l):(Je(lt,lt.current&1),r=ui(r,s,l),r!==null?r.sibling:null);Je(lt,lt.current&1);break;case 19:if(h=(l&s.childLanes)!==0,(r.flags&128)!==0){if(h)return cy(r,s,l);s.flags|=128}if(p=s.memoizedState,p!==null&&(p.rendering=null,p.tail=null,p.lastEffect=null),Je(lt,lt.current),h)break;return null;case 22:case 23:return s.lanes=0,ry(r,s,l)}return ui(r,s,l)}var hy,hf,fy,dy;hy=function(r,s){for(var l=s.child;l!==null;){if(l.tag===5||l.tag===6)r.appendChild(l.stateNode);else if(l.tag!==4&&l.child!==null){l.child.return=l,l=l.child;continue}if(l===s)break;for(;l.sibling===null;){if(l.return===null||l.return===s)return;l=l.return}l.sibling.return=l.return,l=l.sibling}},hf=function(){},fy=function(r,s,l,h){var p=r.memoizedProps;if(p!==h){r=s.stateNode,Ps(Nr.current);var v=null;switch(l){case"input":p=yr(r,p),h=yr(r,h),v=[];break;case"select":p=se({},p,{value:void 0}),h=se({},h,{value:void 0}),v=[];break;case"textarea":p=kt(r,p),h=kt(r,h),v=[];break;default:typeof p.onClick!="function"&&typeof h.onClick=="function"&&(r.onclick=mu)}dn(l,h);var T;l=null;for(W in p)if(!h.hasOwnProperty(W)&&p.hasOwnProperty(W)&&p[W]!=null)if(W==="style"){var C=p[W];for(T in C)C.hasOwnProperty(T)&&(l||(l={}),l[T]="")}else W!=="dangerouslySetInnerHTML"&&W!=="children"&&W!=="suppressContentEditableWarning"&&W!=="suppressHydrationWarning"&&W!=="autoFocus"&&(o.hasOwnProperty(W)?v||(v=[]):(v=v||[]).push(W,null));for(W in h){var N=h[W];if(C=p!=null?p[W]:void 0,h.hasOwnProperty(W)&&N!==C&&(N!=null||C!=null))if(W==="style")if(C){for(T in C)!C.hasOwnProperty(T)||N&&N.hasOwnProperty(T)||(l||(l={}),l[T]="");for(T in N)N.hasOwnProperty(T)&&C[T]!==N[T]&&(l||(l={}),l[T]=N[T])}else l||(v||(v=[]),v.push(W,l)),l=N;else W==="dangerouslySetInnerHTML"?(N=N?N.__html:void 0,C=C?C.__html:void 0,N!=null&&C!==N&&(v=v||[]).push(W,N)):W==="children"?typeof N!="string"&&typeof N!="number"||(v=v||[]).push(W,""+N):W!=="suppressContentEditableWarning"&&W!=="suppressHydrationWarning"&&(o.hasOwnProperty(W)?(N!=null&&W==="onScroll"&&nt("scroll",r),v||C===N||(v=[])):(v=v||[]).push(W,N))}l&&(v=v||[]).push("style",l);var W=v;(s.updateQueue=W)&&(s.flags|=4)}},dy=function(r,s,l,h){l!==h&&(s.flags|=4)};function Qa(r,s){if(!st)switch(r.tailMode){case"hidden":s=r.tail;for(var l=null;s!==null;)s.alternate!==null&&(l=s),s=s.sibling;l===null?r.tail=null:l.sibling=null;break;case"collapsed":l=r.tail;for(var h=null;l!==null;)l.alternate!==null&&(h=l),l=l.sibling;h===null?s||r.tail===null?r.tail=null:r.tail.sibling=null:h.sibling=null}}function en(r){var s=r.alternate!==null&&r.alternate.child===r.child,l=0,h=0;if(s)for(var p=r.child;p!==null;)l|=p.lanes|p.childLanes,h|=p.subtreeFlags&14680064,h|=p.flags&14680064,p.return=r,p=p.sibling;else for(p=r.child;p!==null;)l|=p.lanes|p.childLanes,h|=p.subtreeFlags,h|=p.flags,p.return=r,p=p.sibling;return r.subtreeFlags|=h,r.childLanes=l,s}function J1(r,s,l){var h=s.pendingProps;switch(bh(s),s.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return en(s),null;case 1:return mn(s.type)&&yu(),en(s),null;case 3:return h=s.stateNode,ko(),rt(pn),rt(Jt),Wh(),h.pendingContext&&(h.context=h.pendingContext,h.pendingContext=null),(r===null||r.child===null)&&(Tu(s)?s.flags|=4:r===null||r.memoizedState.isDehydrated&&(s.flags&256)===0||(s.flags|=1024,lr!==null&&(Tf(lr),lr=null))),hf(r,s),en(s),null;case 5:$h(s);var p=Ps(Ha.current);if(l=s.type,r!==null&&s.stateNode!=null)fy(r,s,l,h,p),r.ref!==s.ref&&(s.flags|=512,s.flags|=2097152);else{if(!h){if(s.stateNode===null)throw Error(n(166));return en(s),null}if(r=Ps(Nr.current),Tu(s)){h=s.stateNode,l=s.type;var v=s.memoizedProps;switch(h[Dr]=s,h[ja]=v,r=(s.mode&1)!==0,l){case"dialog":nt("cancel",h),nt("close",h);break;case"iframe":case"object":case"embed":nt("load",h);break;case"video":case"audio":for(p=0;p<La.length;p++)nt(La[p],h);break;case"source":nt("error",h);break;case"img":case"image":case"link":nt("error",h),nt("load",h);break;case"details":nt("toggle",h);break;case"input":Zs(h,v),nt("invalid",h);break;case"select":h._wrapperState={wasMultiple:!!v.multiple},nt("invalid",h);break;case"textarea":Ln(h,v),nt("invalid",h)}dn(l,v),p=null;for(var T in v)if(v.hasOwnProperty(T)){var C=v[T];T==="children"?typeof C=="string"?h.textContent!==C&&(v.suppressHydrationWarning!==!0&&pu(h.textContent,C,r),p=["children",C]):typeof C=="number"&&h.textContent!==""+C&&(v.suppressHydrationWarning!==!0&&pu(h.textContent,C,r),p=["children",""+C]):o.hasOwnProperty(T)&&C!=null&&T==="onScroll"&&nt("scroll",h)}switch(l){case"input":Zn(h),_i(h,v,!0);break;case"textarea":Zn(h),vr(h);break;case"select":case"option":break;default:typeof v.onClick=="function"&&(h.onclick=mu)}h=p,s.updateQueue=h,h!==null&&(s.flags|=4)}else{T=p.nodeType===9?p:p.ownerDocument,r==="http://www.w3.org/1999/xhtml"&&(r=_r(l)),r==="http://www.w3.org/1999/xhtml"?l==="script"?(r=T.createElement("div"),r.innerHTML="<script><\/script>",r=r.removeChild(r.firstChild)):typeof h.is=="string"?r=T.createElement(l,{is:h.is}):(r=T.createElement(l),l==="select"&&(T=r,h.multiple?T.multiple=!0:h.size&&(T.size=h.size))):r=T.createElementNS(r,l),r[Dr]=s,r[ja]=h,hy(r,s,!1,!1),s.stateNode=r;e:{switch(T=xi(l,h),l){case"dialog":nt("cancel",r),nt("close",r),p=h;break;case"iframe":case"object":case"embed":nt("load",r),p=h;break;case"video":case"audio":for(p=0;p<La.length;p++)nt(La[p],r);p=h;break;case"source":nt("error",r),p=h;break;case"img":case"image":case"link":nt("error",r),nt("load",r),p=h;break;case"details":nt("toggle",r),p=h;break;case"input":Zs(r,h),p=yr(r,h),nt("invalid",r);break;case"option":p=h;break;case"select":r._wrapperState={wasMultiple:!!h.multiple},p=se({},h,{value:void 0}),nt("invalid",r);break;case"textarea":Ln(r,h),p=kt(r,h),nt("invalid",r);break;default:p=h}dn(l,p),C=p;for(v in C)if(C.hasOwnProperty(v)){var N=C[v];v==="style"?Ti(r,N):v==="dangerouslySetInnerHTML"?(N=N?N.__html:void 0,N!=null&&Ei(r,N)):v==="children"?typeof N=="string"?(l!=="textarea"||N!=="")&&fn(r,N):typeof N=="number"&&fn(r,""+N):v!=="suppressContentEditableWarning"&&v!=="suppressHydrationWarning"&&v!=="autoFocus"&&(o.hasOwnProperty(v)?N!=null&&v==="onScroll"&&nt("scroll",r):N!=null&&B(r,v,N,T))}switch(l){case"input":Zn(r),_i(r,h,!1);break;case"textarea":Zn(r),vr(r);break;case"option":h.value!=null&&r.setAttribute("value",""+Ee(h.value));break;case"select":r.multiple=!!h.multiple,v=h.value,v!=null?xn(r,!!h.multiple,v,!1):h.defaultValue!=null&&xn(r,!!h.multiple,h.defaultValue,!0);break;default:typeof p.onClick=="function"&&(r.onclick=mu)}switch(l){case"button":case"input":case"select":case"textarea":h=!!h.autoFocus;break e;case"img":h=!0;break e;default:h=!1}}h&&(s.flags|=4)}s.ref!==null&&(s.flags|=512,s.flags|=2097152)}return en(s),null;case 6:if(r&&s.stateNode!=null)dy(r,s,r.memoizedProps,h);else{if(typeof h!="string"&&s.stateNode===null)throw Error(n(166));if(l=Ps(Ha.current),Ps(Nr.current),Tu(s)){if(h=s.stateNode,l=s.memoizedProps,h[Dr]=s,(v=h.nodeValue!==l)&&(r=bn,r!==null))switch(r.tag){case 3:pu(h.nodeValue,l,(r.mode&1)!==0);break;case 5:r.memoizedProps.suppressHydrationWarning!==!0&&pu(h.nodeValue,l,(r.mode&1)!==0)}v&&(s.flags|=4)}else h=(l.nodeType===9?l:l.ownerDocument).createTextNode(h),h[Dr]=s,s.stateNode=h}return en(s),null;case 13:if(rt(lt),h=s.memoizedState,r===null||r.memoizedState!==null&&r.memoizedState.dehydrated!==null){if(st&&Dn!==null&&(s.mode&1)!==0&&(s.flags&128)===0)gg(),Io(),s.flags|=98560,v=!1;else if(v=Tu(s),h!==null&&h.dehydrated!==null){if(r===null){if(!v)throw Error(n(318));if(v=s.memoizedState,v=v!==null?v.dehydrated:null,!v)throw Error(n(317));v[Dr]=s}else Io(),(s.flags&128)===0&&(s.memoizedState=null),s.flags|=4;en(s),v=!1}else lr!==null&&(Tf(lr),lr=null),v=!0;if(!v)return s.flags&65536?s:null}return(s.flags&128)!==0?(s.lanes=l,s):(h=h!==null,h!==(r!==null&&r.memoizedState!==null)&&h&&(s.child.flags|=8192,(s.mode&1)!==0&&(r===null||(lt.current&1)!==0?bt===0&&(bt=3):Af())),s.updateQueue!==null&&(s.flags|=4),en(s),null);case 4:return ko(),hf(r,s),r===null&&Oa(s.stateNode.containerInfo),en(s),null;case 10:return Fh(s.type._context),en(s),null;case 17:return mn(s.type)&&yu(),en(s),null;case 19:if(rt(lt),v=s.memoizedState,v===null)return en(s),null;if(h=(s.flags&128)!==0,T=v.rendering,T===null)if(h)Qa(v,!1);else{if(bt!==0||r!==null&&(r.flags&128)!==0)for(r=s.child;r!==null;){if(T=Pu(r),T!==null){for(s.flags|=128,Qa(v,!1),h=T.updateQueue,h!==null&&(s.updateQueue=h,s.flags|=4),s.subtreeFlags=0,h=l,l=s.child;l!==null;)v=l,r=h,v.flags&=14680066,T=v.alternate,T===null?(v.childLanes=0,v.lanes=r,v.child=null,v.subtreeFlags=0,v.memoizedProps=null,v.memoizedState=null,v.updateQueue=null,v.dependencies=null,v.stateNode=null):(v.childLanes=T.childLanes,v.lanes=T.lanes,v.child=T.child,v.subtreeFlags=0,v.deletions=null,v.memoizedProps=T.memoizedProps,v.memoizedState=T.memoizedState,v.updateQueue=T.updateQueue,v.type=T.type,r=T.dependencies,v.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext}),l=l.sibling;return Je(lt,lt.current&1|2),s.child}r=r.sibling}v.tail!==null&&tt()>No&&(s.flags|=128,h=!0,Qa(v,!1),s.lanes=4194304)}else{if(!h)if(r=Pu(T),r!==null){if(s.flags|=128,h=!0,l=r.updateQueue,l!==null&&(s.updateQueue=l,s.flags|=4),Qa(v,!0),v.tail===null&&v.tailMode==="hidden"&&!T.alternate&&!st)return en(s),null}else 2*tt()-v.renderingStartTime>No&&l!==1073741824&&(s.flags|=128,h=!0,Qa(v,!1),s.lanes=4194304);v.isBackwards?(T.sibling=s.child,s.child=T):(l=v.last,l!==null?l.sibling=T:s.child=T,v.last=T)}return v.tail!==null?(s=v.tail,v.rendering=s,v.tail=s.sibling,v.renderingStartTime=tt(),s.sibling=null,l=lt.current,Je(lt,h?l&1|2:l&1),s):(en(s),null);case 22:case 23:return xf(),h=s.memoizedState!==null,r!==null&&r.memoizedState!==null!==h&&(s.flags|=8192),h&&(s.mode&1)!==0?(Nn&1073741824)!==0&&(en(s),s.subtreeFlags&6&&(s.flags|=8192)):en(s),null;case 24:return null;case 25:return null}throw Error(n(156,s.tag))}function Z1(r,s){switch(bh(s),s.tag){case 1:return mn(s.type)&&yu(),r=s.flags,r&65536?(s.flags=r&-65537|128,s):null;case 3:return ko(),rt(pn),rt(Jt),Wh(),r=s.flags,(r&65536)!==0&&(r&128)===0?(s.flags=r&-65537|128,s):null;case 5:return $h(s),null;case 13:if(rt(lt),r=s.memoizedState,r!==null&&r.dehydrated!==null){if(s.alternate===null)throw Error(n(340));Io()}return r=s.flags,r&65536?(s.flags=r&-65537|128,s):null;case 19:return rt(lt),null;case 4:return ko(),null;case 10:return Fh(s.type._context),null;case 22:case 23:return xf(),null;case 24:return null;default:return null}}var Ou=!1,tn=!1,eS=typeof WeakSet=="function"?WeakSet:Set,pe=null;function bo(r,s){var l=r.ref;if(l!==null)if(typeof l=="function")try{l(null)}catch(h){pt(r,s,h)}else l.current=null}function ff(r,s,l){try{l()}catch(h){pt(r,s,h)}}var py=!1;function tS(r,s){if(Sh=ei,r=qm(),mh(r)){if("selectionStart"in r)var l={start:r.selectionStart,end:r.selectionEnd};else e:{l=(l=r.ownerDocument)&&l.defaultView||window;var h=l.getSelection&&l.getSelection();if(h&&h.rangeCount!==0){l=h.anchorNode;var p=h.anchorOffset,v=h.focusNode;h=h.focusOffset;try{l.nodeType,v.nodeType}catch{l=null;break e}var T=0,C=-1,N=-1,W=0,ee=0,re=r,J=null;t:for(;;){for(var he;re!==l||p!==0&&re.nodeType!==3||(C=T+p),re!==v||h!==0&&re.nodeType!==3||(N=T+h),re.nodeType===3&&(T+=re.nodeValue.length),(he=re.firstChild)!==null;)J=re,re=he;for(;;){if(re===r)break t;if(J===l&&++W===p&&(C=T),J===v&&++ee===h&&(N=T),(he=re.nextSibling)!==null)break;re=J,J=re.parentNode}re=he}l=C===-1||N===-1?null:{start:C,end:N}}else l=null}l=l||{start:0,end:0}}else l=null;for(xh={focusedElem:r,selectionRange:l},ei=!1,pe=s;pe!==null;)if(s=pe,r=s.child,(s.subtreeFlags&1028)!==0&&r!==null)r.return=s,pe=r;else for(;pe!==null;){s=pe;try{var ge=s.alternate;if((s.flags&1024)!==0)switch(s.tag){case 0:case 11:case 15:break;case 1:if(ge!==null){var ye=ge.memoizedProps,vt=ge.memoizedState,z=s.stateNode,L=z.getSnapshotBeforeUpdate(s.elementType===s.type?ye:ur(s.type,ye),vt);z.__reactInternalSnapshotBeforeUpdate=L}break;case 3:var H=s.stateNode.containerInfo;H.nodeType===1?H.textContent="":H.nodeType===9&&H.documentElement&&H.removeChild(H.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(n(163))}}catch(ie){pt(s,s.return,ie)}if(r=s.sibling,r!==null){r.return=s.return,pe=r;break}pe=s.return}return ge=py,py=!1,ge}function Ya(r,s,l){var h=s.updateQueue;if(h=h!==null?h.lastEffect:null,h!==null){var p=h=h.next;do{if((p.tag&r)===r){var v=p.destroy;p.destroy=void 0,v!==void 0&&ff(s,l,v)}p=p.next}while(p!==h)}}function Fu(r,s){if(s=s.updateQueue,s=s!==null?s.lastEffect:null,s!==null){var l=s=s.next;do{if((l.tag&r)===r){var h=l.create;l.destroy=h()}l=l.next}while(l!==s)}}function df(r){var s=r.ref;if(s!==null){var l=r.stateNode;switch(r.tag){case 5:r=l;break;default:r=l}typeof s=="function"?s(r):s.current=r}}function my(r){var s=r.alternate;s!==null&&(r.alternate=null,my(s)),r.child=null,r.deletions=null,r.sibling=null,r.tag===5&&(s=r.stateNode,s!==null&&(delete s[Dr],delete s[ja],delete s[Ph],delete s[O1],delete s[F1])),r.stateNode=null,r.return=null,r.dependencies=null,r.memoizedProps=null,r.memoizedState=null,r.pendingProps=null,r.stateNode=null,r.updateQueue=null}function gy(r){return r.tag===5||r.tag===3||r.tag===4}function yy(r){e:for(;;){for(;r.sibling===null;){if(r.return===null||gy(r.return))return null;r=r.return}for(r.sibling.return=r.return,r=r.sibling;r.tag!==5&&r.tag!==6&&r.tag!==18;){if(r.flags&2||r.child===null||r.tag===4)continue e;r.child.return=r,r=r.child}if(!(r.flags&2))return r.stateNode}}function pf(r,s,l){var h=r.tag;if(h===5||h===6)r=r.stateNode,s?l.nodeType===8?l.parentNode.insertBefore(r,s):l.insertBefore(r,s):(l.nodeType===8?(s=l.parentNode,s.insertBefore(r,l)):(s=l,s.appendChild(r)),l=l._reactRootContainer,l!=null||s.onclick!==null||(s.onclick=mu));else if(h!==4&&(r=r.child,r!==null))for(pf(r,s,l),r=r.sibling;r!==null;)pf(r,s,l),r=r.sibling}function mf(r,s,l){var h=r.tag;if(h===5||h===6)r=r.stateNode,s?l.insertBefore(r,s):l.appendChild(r);else if(h!==4&&(r=r.child,r!==null))for(mf(r,s,l),r=r.sibling;r!==null;)mf(r,s,l),r=r.sibling}var Ht=null,cr=!1;function ji(r,s,l){for(l=l.child;l!==null;)vy(r,s,l),l=l.sibling}function vy(r,s,l){if(In&&typeof In.onCommitFiberUnmount=="function")try{In.onCommitFiberUnmount(ps,l)}catch{}switch(l.tag){case 5:tn||bo(l,s);case 6:var h=Ht,p=cr;Ht=null,ji(r,s,l),Ht=h,cr=p,Ht!==null&&(cr?(r=Ht,l=l.stateNode,r.nodeType===8?r.parentNode.removeChild(l):r.removeChild(l)):Ht.removeChild(l.stateNode));break;case 18:Ht!==null&&(cr?(r=Ht,l=l.stateNode,r.nodeType===8?Ch(r.parentNode,l):r.nodeType===1&&Ch(r,l),Ri(r)):Ch(Ht,l.stateNode));break;case 4:h=Ht,p=cr,Ht=l.stateNode.containerInfo,cr=!0,ji(r,s,l),Ht=h,cr=p;break;case 0:case 11:case 14:case 15:if(!tn&&(h=l.updateQueue,h!==null&&(h=h.lastEffect,h!==null))){p=h=h.next;do{var v=p,T=v.destroy;v=v.tag,T!==void 0&&((v&2)!==0||(v&4)!==0)&&ff(l,s,T),p=p.next}while(p!==h)}ji(r,s,l);break;case 1:if(!tn&&(bo(l,s),h=l.stateNode,typeof h.componentWillUnmount=="function"))try{h.props=l.memoizedProps,h.state=l.memoizedState,h.componentWillUnmount()}catch(C){pt(l,s,C)}ji(r,s,l);break;case 21:ji(r,s,l);break;case 22:l.mode&1?(tn=(h=tn)||l.memoizedState!==null,ji(r,s,l),tn=h):ji(r,s,l);break;default:ji(r,s,l)}}function _y(r){var s=r.updateQueue;if(s!==null){r.updateQueue=null;var l=r.stateNode;l===null&&(l=r.stateNode=new eS),s.forEach(function(h){var p=cS.bind(null,r,h);l.has(h)||(l.add(h),h.then(p,p))})}}function hr(r,s){var l=s.deletions;if(l!==null)for(var h=0;h<l.length;h++){var p=l[h];try{var v=r,T=s,C=T;e:for(;C!==null;){switch(C.tag){case 5:Ht=C.stateNode,cr=!1;break e;case 3:Ht=C.stateNode.containerInfo,cr=!0;break e;case 4:Ht=C.stateNode.containerInfo,cr=!0;break e}C=C.return}if(Ht===null)throw Error(n(160));vy(v,T,p),Ht=null,cr=!1;var N=p.alternate;N!==null&&(N.return=null),p.return=null}catch(W){pt(p,s,W)}}if(s.subtreeFlags&12854)for(s=s.child;s!==null;)wy(s,r),s=s.sibling}function wy(r,s){var l=r.alternate,h=r.flags;switch(r.tag){case 0:case 11:case 14:case 15:if(hr(s,r),Lr(r),h&4){try{Ya(3,r,r.return),Fu(3,r)}catch(ye){pt(r,r.return,ye)}try{Ya(5,r,r.return)}catch(ye){pt(r,r.return,ye)}}break;case 1:hr(s,r),Lr(r),h&512&&l!==null&&bo(l,l.return);break;case 5:if(hr(s,r),Lr(r),h&512&&l!==null&&bo(l,l.return),r.flags&32){var p=r.stateNode;try{fn(p,"")}catch(ye){pt(r,r.return,ye)}}if(h&4&&(p=r.stateNode,p!=null)){var v=r.memoizedProps,T=l!==null?l.memoizedProps:v,C=r.type,N=r.updateQueue;if(r.updateQueue=null,N!==null)try{C==="input"&&v.type==="radio"&&v.name!=null&&Qr(p,v),xi(C,T);var W=xi(C,v);for(T=0;T<N.length;T+=2){var ee=N[T],re=N[T+1];ee==="style"?Ti(p,re):ee==="dangerouslySetInnerHTML"?Ei(p,re):ee==="children"?fn(p,re):B(p,ee,re,W)}switch(C){case"input":Sn(p,v);break;case"textarea":eo(p,v);break;case"select":var J=p._wrapperState.wasMultiple;p._wrapperState.wasMultiple=!!v.multiple;var he=v.value;he!=null?xn(p,!!v.multiple,he,!1):J!==!!v.multiple&&(v.defaultValue!=null?xn(p,!!v.multiple,v.defaultValue,!0):xn(p,!!v.multiple,v.multiple?[]:"",!1))}p[ja]=v}catch(ye){pt(r,r.return,ye)}}break;case 6:if(hr(s,r),Lr(r),h&4){if(r.stateNode===null)throw Error(n(162));p=r.stateNode,v=r.memoizedProps;try{p.nodeValue=v}catch(ye){pt(r,r.return,ye)}}break;case 3:if(hr(s,r),Lr(r),h&4&&l!==null&&l.memoizedState.isDehydrated)try{Ri(s.containerInfo)}catch(ye){pt(r,r.return,ye)}break;case 4:hr(s,r),Lr(r);break;case 13:hr(s,r),Lr(r),p=r.child,p.flags&8192&&(v=p.memoizedState!==null,p.stateNode.isHidden=v,!v||p.alternate!==null&&p.alternate.memoizedState!==null||(vf=tt())),h&4&&_y(r);break;case 22:if(ee=l!==null&&l.memoizedState!==null,r.mode&1?(tn=(W=tn)||ee,hr(s,r),tn=W):hr(s,r),Lr(r),h&8192){if(W=r.memoizedState!==null,(r.stateNode.isHidden=W)&&!ee&&(r.mode&1)!==0)for(pe=r,ee=r.child;ee!==null;){for(re=pe=ee;pe!==null;){switch(J=pe,he=J.child,J.tag){case 0:case 11:case 14:case 15:Ya(4,J,J.return);break;case 1:bo(J,J.return);var ge=J.stateNode;if(typeof ge.componentWillUnmount=="function"){h=J,l=J.return;try{s=h,ge.props=s.memoizedProps,ge.state=s.memoizedState,ge.componentWillUnmount()}catch(ye){pt(h,l,ye)}}break;case 5:bo(J,J.return);break;case 22:if(J.memoizedState!==null){Sy(re);continue}}he!==null?(he.return=J,pe=he):Sy(re)}ee=ee.sibling}e:for(ee=null,re=r;;){if(re.tag===5){if(ee===null){ee=re;try{p=re.stateNode,W?(v=p.style,typeof v.setProperty=="function"?v.setProperty("display","none","important"):v.display="none"):(C=re.stateNode,N=re.memoizedProps.style,T=N!=null&&N.hasOwnProperty("display")?N.display:null,C.style.display=wr("display",T))}catch(ye){pt(r,r.return,ye)}}}else if(re.tag===6){if(ee===null)try{re.stateNode.nodeValue=W?"":re.memoizedProps}catch(ye){pt(r,r.return,ye)}}else if((re.tag!==22&&re.tag!==23||re.memoizedState===null||re===r)&&re.child!==null){re.child.return=re,re=re.child;continue}if(re===r)break e;for(;re.sibling===null;){if(re.return===null||re.return===r)break e;ee===re&&(ee=null),re=re.return}ee===re&&(ee=null),re.sibling.return=re.return,re=re.sibling}}break;case 19:hr(s,r),Lr(r),h&4&&_y(r);break;case 21:break;default:hr(s,r),Lr(r)}}function Lr(r){var s=r.flags;if(s&2){try{e:{for(var l=r.return;l!==null;){if(gy(l)){var h=l;break e}l=l.return}throw Error(n(160))}switch(h.tag){case 5:var p=h.stateNode;h.flags&32&&(fn(p,""),h.flags&=-33);var v=yy(r);mf(r,v,p);break;case 3:case 4:var T=h.stateNode.containerInfo,C=yy(r);pf(r,C,T);break;default:throw Error(n(161))}}catch(N){pt(r,r.return,N)}r.flags&=-3}s&4096&&(r.flags&=-4097)}function nS(r,s,l){pe=r,Ey(r)}function Ey(r,s,l){for(var h=(r.mode&1)!==0;pe!==null;){var p=pe,v=p.child;if(p.tag===22&&h){var T=p.memoizedState!==null||Ou;if(!T){var C=p.alternate,N=C!==null&&C.memoizedState!==null||tn;C=Ou;var W=tn;if(Ou=T,(tn=N)&&!W)for(pe=p;pe!==null;)T=pe,N=T.child,T.tag===22&&T.memoizedState!==null?xy(p):N!==null?(N.return=T,pe=N):xy(p);for(;v!==null;)pe=v,Ey(v),v=v.sibling;pe=p,Ou=C,tn=W}Ty(r)}else(p.subtreeFlags&8772)!==0&&v!==null?(v.return=p,pe=v):Ty(r)}}function Ty(r){for(;pe!==null;){var s=pe;if((s.flags&8772)!==0){var l=s.alternate;try{if((s.flags&8772)!==0)switch(s.tag){case 0:case 11:case 15:tn||Fu(5,s);break;case 1:var h=s.stateNode;if(s.flags&4&&!tn)if(l===null)h.componentDidMount();else{var p=s.elementType===s.type?l.memoizedProps:ur(s.type,l.memoizedProps);h.componentDidUpdate(p,l.memoizedState,h.__reactInternalSnapshotBeforeUpdate)}var v=s.updateQueue;v!==null&&Sg(s,v,h);break;case 3:var T=s.updateQueue;if(T!==null){if(l=null,s.child!==null)switch(s.child.tag){case 5:l=s.child.stateNode;break;case 1:l=s.child.stateNode}Sg(s,T,l)}break;case 5:var C=s.stateNode;if(l===null&&s.flags&4){l=C;var N=s.memoizedProps;switch(s.type){case"button":case"input":case"select":case"textarea":N.autoFocus&&l.focus();break;case"img":N.src&&(l.src=N.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(s.memoizedState===null){var W=s.alternate;if(W!==null){var ee=W.memoizedState;if(ee!==null){var re=ee.dehydrated;re!==null&&Ri(re)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(n(163))}tn||s.flags&512&&df(s)}catch(J){pt(s,s.return,J)}}if(s===r){pe=null;break}if(l=s.sibling,l!==null){l.return=s.return,pe=l;break}pe=s.return}}function Sy(r){for(;pe!==null;){var s=pe;if(s===r){pe=null;break}var l=s.sibling;if(l!==null){l.return=s.return,pe=l;break}pe=s.return}}function xy(r){for(;pe!==null;){var s=pe;try{switch(s.tag){case 0:case 11:case 15:var l=s.return;try{Fu(4,s)}catch(N){pt(s,l,N)}break;case 1:var h=s.stateNode;if(typeof h.componentDidMount=="function"){var p=s.return;try{h.componentDidMount()}catch(N){pt(s,p,N)}}var v=s.return;try{df(s)}catch(N){pt(s,v,N)}break;case 5:var T=s.return;try{df(s)}catch(N){pt(s,T,N)}}}catch(N){pt(s,s.return,N)}if(s===r){pe=null;break}var C=s.sibling;if(C!==null){C.return=s.return,pe=C;break}pe=s.return}}var rS=Math.ceil,ju=Z.ReactCurrentDispatcher,gf=Z.ReactCurrentOwner,Wn=Z.ReactCurrentBatchConfig,$e=0,Ft=null,At=null,Wt=0,Nn=0,Do=Ni(0),bt=0,Xa=null,ks=0,Bu=0,yf=0,Ja=null,yn=null,vf=0,No=1/0,ci=null,Uu=!1,_f=null,Bi=null,zu=!1,Ui=null,$u=0,Za=0,wf=null,Hu=-1,Wu=0;function cn(){return($e&6)!==0?tt():Hu!==-1?Hu:Hu=tt()}function zi(r){return(r.mode&1)===0?1:($e&2)!==0&&Wt!==0?Wt&-Wt:B1.transition!==null?(Wu===0&&(Wu=wa()),Wu):(r=Fe,r!==0||(r=window.event,r=r===void 0?16:lo(r.type)),r)}function fr(r,s,l,h){if(50<Za)throw Za=0,wf=null,Error(n(185));vs(r,l,h),(($e&2)===0||r!==Ft)&&(r===Ft&&(($e&2)===0&&(Bu|=l),bt===4&&$i(r,Wt)),vn(r,h),l===1&&$e===0&&(s.mode&1)===0&&(No=tt()+500,_u&&Li()))}function vn(r,s){var l=r.callbackNode;ys(r,s);var h=Xr(r,r===Ft?Wt:0);if(h===0)l!==null&&to(l),r.callbackNode=null,r.callbackPriority=0;else if(s=h&-h,r.callbackPriority!==s){if(l!=null&&to(l),s===1)r.tag===0?j1(Iy.bind(null,r)):hg(Iy.bind(null,r)),M1(function(){($e&6)===0&&Li()}),l=null;else{switch(Sr(h)){case 1:l=no;break;case 4:l=ya;break;case 16:l=ds;break;case 536870912:l=ro;break;default:l=ds}l=Ny(l,Ay.bind(null,r))}r.callbackPriority=s,r.callbackNode=l}}function Ay(r,s){if(Hu=-1,Wu=0,($e&6)!==0)throw Error(n(327));var l=r.callbackNode;if(Mo()&&r.callbackNode!==l)return null;var h=Xr(r,r===Ft?Wt:0);if(h===0)return null;if((h&30)!==0||(h&r.expiredLanes)!==0||s)s=qu(r,h);else{s=h;var p=$e;$e|=2;var v=Py();(Ft!==r||Wt!==s)&&(ci=null,No=tt()+500,bs(r,s));do try{oS();break}catch(C){Cy(r,C)}while(!0);Oh(),ju.current=v,$e=p,At!==null?s=0:(Ft=null,Wt=0,s=bt)}if(s!==0){if(s===2&&(p=_a(r),p!==0&&(h=p,s=Ef(r,p))),s===1)throw l=Xa,bs(r,0),$i(r,h),vn(r,tt()),l;if(s===6)$i(r,h);else{if(p=r.current.alternate,(h&30)===0&&!iS(p)&&(s=qu(r,h),s===2&&(v=_a(r),v!==0&&(h=v,s=Ef(r,v))),s===1))throw l=Xa,bs(r,0),$i(r,h),vn(r,tt()),l;switch(r.finishedWork=p,r.finishedLanes=h,s){case 0:case 1:throw Error(n(345));case 2:Ds(r,yn,ci);break;case 3:if($i(r,h),(h&130023424)===h&&(s=vf+500-tt(),10<s)){if(Xr(r,0)!==0)break;if(p=r.suspendedLanes,(p&h)!==h){cn(),r.pingedLanes|=r.suspendedLanes&p;break}r.timeoutHandle=Ih(Ds.bind(null,r,yn,ci),s);break}Ds(r,yn,ci);break;case 4:if($i(r,h),(h&4194240)===h)break;for(s=r.eventTimes,p=-1;0<h;){var T=31-Cn(h);v=1<<T,T=s[T],T>p&&(p=T),h&=~v}if(h=p,h=tt()-h,h=(120>h?120:480>h?480:1080>h?1080:1920>h?1920:3e3>h?3e3:4320>h?4320:1960*rS(h/1960))-h,10<h){r.timeoutHandle=Ih(Ds.bind(null,r,yn,ci),h);break}Ds(r,yn,ci);break;case 5:Ds(r,yn,ci);break;default:throw Error(n(329))}}}return vn(r,tt()),r.callbackNode===l?Ay.bind(null,r):null}function Ef(r,s){var l=Ja;return r.current.memoizedState.isDehydrated&&(bs(r,s).flags|=256),r=qu(r,s),r!==2&&(s=yn,yn=l,s!==null&&Tf(s)),r}function Tf(r){yn===null?yn=r:yn.push.apply(yn,r)}function iS(r){for(var s=r;;){if(s.flags&16384){var l=s.updateQueue;if(l!==null&&(l=l.stores,l!==null))for(var h=0;h<l.length;h++){var p=l[h],v=p.getSnapshot;p=p.value;try{if(!ar(v(),p))return!1}catch{return!1}}}if(l=s.child,s.subtreeFlags&16384&&l!==null)l.return=s,s=l;else{if(s===r)break;for(;s.sibling===null;){if(s.return===null||s.return===r)return!0;s=s.return}s.sibling.return=s.return,s=s.sibling}}return!0}function $i(r,s){for(s&=~yf,s&=~Bu,r.suspendedLanes|=s,r.pingedLanes&=~s,r=r.expirationTimes;0<s;){var l=31-Cn(s),h=1<<l;r[l]=-1,s&=~h}}function Iy(r){if(($e&6)!==0)throw Error(n(327));Mo();var s=Xr(r,0);if((s&1)===0)return vn(r,tt()),null;var l=qu(r,s);if(r.tag!==0&&l===2){var h=_a(r);h!==0&&(s=h,l=Ef(r,h))}if(l===1)throw l=Xa,bs(r,0),$i(r,s),vn(r,tt()),l;if(l===6)throw Error(n(345));return r.finishedWork=r.current.alternate,r.finishedLanes=s,Ds(r,yn,ci),vn(r,tt()),null}function Sf(r,s){var l=$e;$e|=1;try{return r(s)}finally{$e=l,$e===0&&(No=tt()+500,_u&&Li())}}function Vs(r){Ui!==null&&Ui.tag===0&&($e&6)===0&&Mo();var s=$e;$e|=1;var l=Wn.transition,h=Fe;try{if(Wn.transition=null,Fe=1,r)return r()}finally{Fe=h,Wn.transition=l,$e=s,($e&6)===0&&Li()}}function xf(){Nn=Do.current,rt(Do)}function bs(r,s){r.finishedWork=null,r.finishedLanes=0;var l=r.timeoutHandle;if(l!==-1&&(r.timeoutHandle=-1,N1(l)),At!==null)for(l=At.return;l!==null;){var h=l;switch(bh(h),h.tag){case 1:h=h.type.childContextTypes,h!=null&&yu();break;case 3:ko(),rt(pn),rt(Jt),Wh();break;case 5:$h(h);break;case 4:ko();break;case 13:rt(lt);break;case 19:rt(lt);break;case 10:Fh(h.type._context);break;case 22:case 23:xf()}l=l.return}if(Ft=r,At=r=Hi(r.current,null),Wt=Nn=s,bt=0,Xa=null,yf=Bu=ks=0,yn=Ja=null,Cs!==null){for(s=0;s<Cs.length;s++)if(l=Cs[s],h=l.interleaved,h!==null){l.interleaved=null;var p=h.next,v=l.pending;if(v!==null){var T=v.next;v.next=p,h.next=T}l.pending=h}Cs=null}return r}function Cy(r,s){do{var l=At;try{if(Oh(),Ru.current=Du,ku){for(var h=ut.memoizedState;h!==null;){var p=h.queue;p!==null&&(p.pending=null),h=h.next}ku=!1}if(Rs=0,Ot=Vt=ut=null,Wa=!1,qa=0,gf.current=null,l===null||l.return===null){bt=1,Xa=s,At=null;break}e:{var v=r,T=l.return,C=l,N=s;if(s=Wt,C.flags|=32768,N!==null&&typeof N=="object"&&typeof N.then=="function"){var W=N,ee=C,re=ee.tag;if((ee.mode&1)===0&&(re===0||re===11||re===15)){var J=ee.alternate;J?(ee.updateQueue=J.updateQueue,ee.memoizedState=J.memoizedState,ee.lanes=J.lanes):(ee.updateQueue=null,ee.memoizedState=null)}var he=Jg(T);if(he!==null){he.flags&=-257,Zg(he,T,C,v,s),he.mode&1&&Xg(v,W,s),s=he,N=W;var ge=s.updateQueue;if(ge===null){var ye=new Set;ye.add(N),s.updateQueue=ye}else ge.add(N);break e}else{if((s&1)===0){Xg(v,W,s),Af();break e}N=Error(n(426))}}else if(st&&C.mode&1){var vt=Jg(T);if(vt!==null){(vt.flags&65536)===0&&(vt.flags|=256),Zg(vt,T,C,v,s),Mh(Vo(N,C));break e}}v=N=Vo(N,C),bt!==4&&(bt=2),Ja===null?Ja=[v]:Ja.push(v),v=T;do{switch(v.tag){case 3:v.flags|=65536,s&=-s,v.lanes|=s;var z=Qg(v,N,s);Tg(v,z);break e;case 1:C=N;var L=v.type,H=v.stateNode;if((v.flags&128)===0&&(typeof L.getDerivedStateFromError=="function"||H!==null&&typeof H.componentDidCatch=="function"&&(Bi===null||!Bi.has(H)))){v.flags|=65536,s&=-s,v.lanes|=s;var ie=Yg(v,C,s);Tg(v,ie);break e}}v=v.return}while(v!==null)}ky(l)}catch(_e){s=_e,At===l&&l!==null&&(At=l=l.return);continue}break}while(!0)}function Py(){var r=ju.current;return ju.current=Du,r===null?Du:r}function Af(){(bt===0||bt===3||bt===2)&&(bt=4),Ft===null||(ks&268435455)===0&&(Bu&268435455)===0||$i(Ft,Wt)}function qu(r,s){var l=$e;$e|=2;var h=Py();(Ft!==r||Wt!==s)&&(ci=null,bs(r,s));do try{sS();break}catch(p){Cy(r,p)}while(!0);if(Oh(),$e=l,ju.current=h,At!==null)throw Error(n(261));return Ft=null,Wt=0,bt}function sS(){for(;At!==null;)Ry(At)}function oS(){for(;At!==null&&!fs();)Ry(At)}function Ry(r){var s=Dy(r.alternate,r,Nn);r.memoizedProps=r.pendingProps,s===null?ky(r):At=s,gf.current=null}function ky(r){var s=r;do{var l=s.alternate;if(r=s.return,(s.flags&32768)===0){if(l=J1(l,s,Nn),l!==null){At=l;return}}else{if(l=Z1(l,s),l!==null){l.flags&=32767,At=l;return}if(r!==null)r.flags|=32768,r.subtreeFlags=0,r.deletions=null;else{bt=6,At=null;return}}if(s=s.sibling,s!==null){At=s;return}At=s=r}while(s!==null);bt===0&&(bt=5)}function Ds(r,s,l){var h=Fe,p=Wn.transition;try{Wn.transition=null,Fe=1,aS(r,s,l,h)}finally{Wn.transition=p,Fe=h}return null}function aS(r,s,l,h){do Mo();while(Ui!==null);if(($e&6)!==0)throw Error(n(327));l=r.finishedWork;var p=r.finishedLanes;if(l===null)return null;if(r.finishedWork=null,r.finishedLanes=0,l===r.current)throw Error(n(177));r.callbackNode=null,r.callbackPriority=0;var v=l.lanes|l.childLanes;if(ch(r,v),r===Ft&&(At=Ft=null,Wt=0),(l.subtreeFlags&2064)===0&&(l.flags&2064)===0||zu||(zu=!0,Ny(ds,function(){return Mo(),null})),v=(l.flags&15990)!==0,(l.subtreeFlags&15990)!==0||v){v=Wn.transition,Wn.transition=null;var T=Fe;Fe=1;var C=$e;$e|=4,gf.current=null,tS(r,l),wy(l,r),C1(xh),ei=!!Sh,xh=Sh=null,r.current=l,nS(l),Yr(),$e=C,Fe=T,Wn.transition=v}else r.current=l;if(zu&&(zu=!1,Ui=r,$u=p),v=r.pendingLanes,v===0&&(Bi=null),Zl(l.stateNode),vn(r,tt()),s!==null)for(h=r.onRecoverableError,l=0;l<s.length;l++)p=s[l],h(p.value,{componentStack:p.stack,digest:p.digest});if(Uu)throw Uu=!1,r=_f,_f=null,r;return($u&1)!==0&&r.tag!==0&&Mo(),v=r.pendingLanes,(v&1)!==0?r===wf?Za++:(Za=0,wf=r):Za=0,Li(),null}function Mo(){if(Ui!==null){var r=Sr($u),s=Wn.transition,l=Fe;try{if(Wn.transition=null,Fe=16>r?16:r,Ui===null)var h=!1;else{if(r=Ui,Ui=null,$u=0,($e&6)!==0)throw Error(n(331));var p=$e;for($e|=4,pe=r.current;pe!==null;){var v=pe,T=v.child;if((pe.flags&16)!==0){var C=v.deletions;if(C!==null){for(var N=0;N<C.length;N++){var W=C[N];for(pe=W;pe!==null;){var ee=pe;switch(ee.tag){case 0:case 11:case 15:Ya(8,ee,v)}var re=ee.child;if(re!==null)re.return=ee,pe=re;else for(;pe!==null;){ee=pe;var J=ee.sibling,he=ee.return;if(my(ee),ee===W){pe=null;break}if(J!==null){J.return=he,pe=J;break}pe=he}}}var ge=v.alternate;if(ge!==null){var ye=ge.child;if(ye!==null){ge.child=null;do{var vt=ye.sibling;ye.sibling=null,ye=vt}while(ye!==null)}}pe=v}}if((v.subtreeFlags&2064)!==0&&T!==null)T.return=v,pe=T;else e:for(;pe!==null;){if(v=pe,(v.flags&2048)!==0)switch(v.tag){case 0:case 11:case 15:Ya(9,v,v.return)}var z=v.sibling;if(z!==null){z.return=v.return,pe=z;break e}pe=v.return}}var L=r.current;for(pe=L;pe!==null;){T=pe;var H=T.child;if((T.subtreeFlags&2064)!==0&&H!==null)H.return=T,pe=H;else e:for(T=L;pe!==null;){if(C=pe,(C.flags&2048)!==0)try{switch(C.tag){case 0:case 11:case 15:Fu(9,C)}}catch(_e){pt(C,C.return,_e)}if(C===T){pe=null;break e}var ie=C.sibling;if(ie!==null){ie.return=C.return,pe=ie;break e}pe=C.return}}if($e=p,Li(),In&&typeof In.onPostCommitFiberRoot=="function")try{In.onPostCommitFiberRoot(ps,r)}catch{}h=!0}return h}finally{Fe=l,Wn.transition=s}}return!1}function Vy(r,s,l){s=Vo(l,s),s=Qg(r,s,1),r=Fi(r,s,1),s=cn(),r!==null&&(vs(r,1,s),vn(r,s))}function pt(r,s,l){if(r.tag===3)Vy(r,r,l);else for(;s!==null;){if(s.tag===3){Vy(s,r,l);break}else if(s.tag===1){var h=s.stateNode;if(typeof s.type.getDerivedStateFromError=="function"||typeof h.componentDidCatch=="function"&&(Bi===null||!Bi.has(h))){r=Vo(l,r),r=Yg(s,r,1),s=Fi(s,r,1),r=cn(),s!==null&&(vs(s,1,r),vn(s,r));break}}s=s.return}}function lS(r,s,l){var h=r.pingCache;h!==null&&h.delete(s),s=cn(),r.pingedLanes|=r.suspendedLanes&l,Ft===r&&(Wt&l)===l&&(bt===4||bt===3&&(Wt&130023424)===Wt&&500>tt()-vf?bs(r,0):yf|=l),vn(r,s)}function by(r,s){s===0&&((r.mode&1)===0?s=1:(s=Ii,Ii<<=1,(Ii&130023424)===0&&(Ii=4194304)));var l=cn();r=ai(r,s),r!==null&&(vs(r,s,l),vn(r,l))}function uS(r){var s=r.memoizedState,l=0;s!==null&&(l=s.retryLane),by(r,l)}function cS(r,s){var l=0;switch(r.tag){case 13:var h=r.stateNode,p=r.memoizedState;p!==null&&(l=p.retryLane);break;case 19:h=r.stateNode;break;default:throw Error(n(314))}h!==null&&h.delete(s),by(r,l)}var Dy;Dy=function(r,s,l){if(r!==null)if(r.memoizedProps!==s.pendingProps||pn.current)gn=!0;else{if((r.lanes&l)===0&&(s.flags&128)===0)return gn=!1,X1(r,s,l);gn=(r.flags&131072)!==0}else gn=!1,st&&(s.flags&1048576)!==0&&fg(s,Eu,s.index);switch(s.lanes=0,s.tag){case 2:var h=s.type;Lu(r,s),r=s.pendingProps;var p=So(s,Jt.current);Ro(s,l),p=Gh(null,s,h,r,p,l);var v=Qh();return s.flags|=1,typeof p=="object"&&p!==null&&typeof p.render=="function"&&p.$$typeof===void 0?(s.tag=1,s.memoizedState=null,s.updateQueue=null,mn(h)?(v=!0,vu(s)):v=!1,s.memoizedState=p.state!==null&&p.state!==void 0?p.state:null,Uh(s),p.updater=Nu,s.stateNode=p,p._reactInternals=s,tf(s,h,r,l),s=of(null,s,h,!0,v,l)):(s.tag=0,st&&v&&Vh(s),un(null,s,p,l),s=s.child),s;case 16:h=s.elementType;e:{switch(Lu(r,s),r=s.pendingProps,p=h._init,h=p(h._payload),s.type=h,p=s.tag=fS(h),r=ur(h,r),p){case 0:s=sf(null,s,h,r,l);break e;case 1:s=sy(null,s,h,r,l);break e;case 11:s=ey(null,s,h,r,l);break e;case 14:s=ty(null,s,h,ur(h.type,r),l);break e}throw Error(n(306,h,""))}return s;case 0:return h=s.type,p=s.pendingProps,p=s.elementType===h?p:ur(h,p),sf(r,s,h,p,l);case 1:return h=s.type,p=s.pendingProps,p=s.elementType===h?p:ur(h,p),sy(r,s,h,p,l);case 3:e:{if(oy(s),r===null)throw Error(n(387));h=s.pendingProps,v=s.memoizedState,p=v.element,Eg(r,s),Cu(s,h,null,l);var T=s.memoizedState;if(h=T.element,v.isDehydrated)if(v={element:h,isDehydrated:!1,cache:T.cache,pendingSuspenseBoundaries:T.pendingSuspenseBoundaries,transitions:T.transitions},s.updateQueue.baseState=v,s.memoizedState=v,s.flags&256){p=Vo(Error(n(423)),s),s=ay(r,s,h,l,p);break e}else if(h!==p){p=Vo(Error(n(424)),s),s=ay(r,s,h,l,p);break e}else for(Dn=Di(s.stateNode.containerInfo.firstChild),bn=s,st=!0,lr=null,l=_g(s,null,h,l),s.child=l;l;)l.flags=l.flags&-3|4096,l=l.sibling;else{if(Io(),h===p){s=ui(r,s,l);break e}un(r,s,h,l)}s=s.child}return s;case 5:return xg(s),r===null&&Nh(s),h=s.type,p=s.pendingProps,v=r!==null?r.memoizedProps:null,T=p.children,Ah(h,p)?T=null:v!==null&&Ah(h,v)&&(s.flags|=32),iy(r,s),un(r,s,T,l),s.child;case 6:return r===null&&Nh(s),null;case 13:return ly(r,s,l);case 4:return zh(s,s.stateNode.containerInfo),h=s.pendingProps,r===null?s.child=Co(s,null,h,l):un(r,s,h,l),s.child;case 11:return h=s.type,p=s.pendingProps,p=s.elementType===h?p:ur(h,p),ey(r,s,h,p,l);case 7:return un(r,s,s.pendingProps,l),s.child;case 8:return un(r,s,s.pendingProps.children,l),s.child;case 12:return un(r,s,s.pendingProps.children,l),s.child;case 10:e:{if(h=s.type._context,p=s.pendingProps,v=s.memoizedProps,T=p.value,Je(xu,h._currentValue),h._currentValue=T,v!==null)if(ar(v.value,T)){if(v.children===p.children&&!pn.current){s=ui(r,s,l);break e}}else for(v=s.child,v!==null&&(v.return=s);v!==null;){var C=v.dependencies;if(C!==null){T=v.child;for(var N=C.firstContext;N!==null;){if(N.context===h){if(v.tag===1){N=li(-1,l&-l),N.tag=2;var W=v.updateQueue;if(W!==null){W=W.shared;var ee=W.pending;ee===null?N.next=N:(N.next=ee.next,ee.next=N),W.pending=N}}v.lanes|=l,N=v.alternate,N!==null&&(N.lanes|=l),jh(v.return,l,s),C.lanes|=l;break}N=N.next}}else if(v.tag===10)T=v.type===s.type?null:v.child;else if(v.tag===18){if(T=v.return,T===null)throw Error(n(341));T.lanes|=l,C=T.alternate,C!==null&&(C.lanes|=l),jh(T,l,s),T=v.sibling}else T=v.child;if(T!==null)T.return=v;else for(T=v;T!==null;){if(T===s){T=null;break}if(v=T.sibling,v!==null){v.return=T.return,T=v;break}T=T.return}v=T}un(r,s,p.children,l),s=s.child}return s;case 9:return p=s.type,h=s.pendingProps.children,Ro(s,l),p=$n(p),h=h(p),s.flags|=1,un(r,s,h,l),s.child;case 14:return h=s.type,p=ur(h,s.pendingProps),p=ur(h.type,p),ty(r,s,h,p,l);case 15:return ny(r,s,s.type,s.pendingProps,l);case 17:return h=s.type,p=s.pendingProps,p=s.elementType===h?p:ur(h,p),Lu(r,s),s.tag=1,mn(h)?(r=!0,vu(s)):r=!1,Ro(s,l),Kg(s,h,p),tf(s,h,p,l),of(null,s,h,!0,r,l);case 19:return cy(r,s,l);case 22:return ry(r,s,l)}throw Error(n(156,s.tag))};function Ny(r,s){return ga(r,s)}function hS(r,s,l,h){this.tag=r,this.key=l,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=s,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=h,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function qn(r,s,l,h){return new hS(r,s,l,h)}function If(r){return r=r.prototype,!(!r||!r.isReactComponent)}function fS(r){if(typeof r=="function")return If(r)?1:0;if(r!=null){if(r=r.$$typeof,r===j)return 11;if(r===Qe)return 14}return 2}function Hi(r,s){var l=r.alternate;return l===null?(l=qn(r.tag,s,r.key,r.mode),l.elementType=r.elementType,l.type=r.type,l.stateNode=r.stateNode,l.alternate=r,r.alternate=l):(l.pendingProps=s,l.type=r.type,l.flags=0,l.subtreeFlags=0,l.deletions=null),l.flags=r.flags&14680064,l.childLanes=r.childLanes,l.lanes=r.lanes,l.child=r.child,l.memoizedProps=r.memoizedProps,l.memoizedState=r.memoizedState,l.updateQueue=r.updateQueue,s=r.dependencies,l.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext},l.sibling=r.sibling,l.index=r.index,l.ref=r.ref,l}function Ku(r,s,l,h,p,v){var T=2;if(h=r,typeof r=="function")If(r)&&(T=1);else if(typeof r=="string")T=5;else e:switch(r){case R:return Ns(l.children,p,v,s);case x:T=8,p|=8;break;case I:return r=qn(12,l,s,p|2),r.elementType=I,r.lanes=v,r;case P:return r=qn(13,l,s,p),r.elementType=P,r.lanes=v,r;case je:return r=qn(19,l,s,p),r.elementType=je,r.lanes=v,r;case ve:return Gu(l,p,v,s);default:if(typeof r=="object"&&r!==null)switch(r.$$typeof){case V:T=10;break e;case D:T=9;break e;case j:T=11;break e;case Qe:T=14;break e;case Ve:T=16,h=null;break e}throw Error(n(130,r==null?r:typeof r,""))}return s=qn(T,l,s,p),s.elementType=r,s.type=h,s.lanes=v,s}function Ns(r,s,l,h){return r=qn(7,r,h,s),r.lanes=l,r}function Gu(r,s,l,h){return r=qn(22,r,h,s),r.elementType=ve,r.lanes=l,r.stateNode={isHidden:!1},r}function Cf(r,s,l){return r=qn(6,r,null,s),r.lanes=l,r}function Pf(r,s,l){return s=qn(4,r.children!==null?r.children:[],r.key,s),s.lanes=l,s.stateNode={containerInfo:r.containerInfo,pendingChildren:null,implementation:r.implementation},s}function dS(r,s,l,h,p){this.tag=s,this.containerInfo=r,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Ea(0),this.expirationTimes=Ea(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ea(0),this.identifierPrefix=h,this.onRecoverableError=p,this.mutableSourceEagerHydrationData=null}function Rf(r,s,l,h,p,v,T,C,N){return r=new dS(r,s,l,C,N),s===1?(s=1,v===!0&&(s|=8)):s=0,v=qn(3,null,null,s),r.current=v,v.stateNode=r,v.memoizedState={element:h,isDehydrated:l,cache:null,transitions:null,pendingSuspenseBoundaries:null},Uh(v),r}function pS(r,s,l){var h=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:le,key:h==null?null:""+h,children:r,containerInfo:s,implementation:l}}function My(r){if(!r)return Mi;r=r._reactInternals;e:{if(sr(r)!==r||r.tag!==1)throw Error(n(170));var s=r;do{switch(s.tag){case 3:s=s.stateNode.context;break e;case 1:if(mn(s.type)){s=s.stateNode.__reactInternalMemoizedMergedChildContext;break e}}s=s.return}while(s!==null);throw Error(n(171))}if(r.tag===1){var l=r.type;if(mn(l))return ug(r,l,s)}return s}function Ly(r,s,l,h,p,v,T,C,N){return r=Rf(l,h,!0,r,p,v,T,C,N),r.context=My(null),l=r.current,h=cn(),p=zi(l),v=li(h,p),v.callback=s??null,Fi(l,v,p),r.current.lanes=p,vs(r,p,h),vn(r,h),r}function Qu(r,s,l,h){var p=s.current,v=cn(),T=zi(p);return l=My(l),s.context===null?s.context=l:s.pendingContext=l,s=li(v,T),s.payload={element:r},h=h===void 0?null:h,h!==null&&(s.callback=h),r=Fi(p,s,T),r!==null&&(fr(r,p,T,v),Iu(r,p,T)),T}function Yu(r){if(r=r.current,!r.child)return null;switch(r.child.tag){case 5:return r.child.stateNode;default:return r.child.stateNode}}function Oy(r,s){if(r=r.memoizedState,r!==null&&r.dehydrated!==null){var l=r.retryLane;r.retryLane=l!==0&&l<s?l:s}}function kf(r,s){Oy(r,s),(r=r.alternate)&&Oy(r,s)}function mS(){return null}var Fy=typeof reportError=="function"?reportError:function(r){console.error(r)};function Vf(r){this._internalRoot=r}Xu.prototype.render=Vf.prototype.render=function(r){var s=this._internalRoot;if(s===null)throw Error(n(409));Qu(r,s,null,null)},Xu.prototype.unmount=Vf.prototype.unmount=function(){var r=this._internalRoot;if(r!==null){this._internalRoot=null;var s=r.containerInfo;Vs(function(){Qu(null,r,null,null)}),s[ri]=null}};function Xu(r){this._internalRoot=r}Xu.prototype.unstable_scheduleHydration=function(r){if(r){var s=Aa();r={blockedOn:null,target:r,priority:s};for(var l=0;l<Pn.length&&s!==0&&s<Pn[l].priority;l++);Pn.splice(l,0,r),l===0&&oo(r)}};function bf(r){return!(!r||r.nodeType!==1&&r.nodeType!==9&&r.nodeType!==11)}function Ju(r){return!(!r||r.nodeType!==1&&r.nodeType!==9&&r.nodeType!==11&&(r.nodeType!==8||r.nodeValue!==" react-mount-point-unstable "))}function jy(){}function gS(r,s,l,h,p){if(p){if(typeof h=="function"){var v=h;h=function(){var W=Yu(T);v.call(W)}}var T=Ly(s,h,r,0,null,!1,!1,"",jy);return r._reactRootContainer=T,r[ri]=T.current,Oa(r.nodeType===8?r.parentNode:r),Vs(),T}for(;p=r.lastChild;)r.removeChild(p);if(typeof h=="function"){var C=h;h=function(){var W=Yu(N);C.call(W)}}var N=Rf(r,0,!1,null,null,!1,!1,"",jy);return r._reactRootContainer=N,r[ri]=N.current,Oa(r.nodeType===8?r.parentNode:r),Vs(function(){Qu(s,N,l,h)}),N}function Zu(r,s,l,h,p){var v=l._reactRootContainer;if(v){var T=v;if(typeof p=="function"){var C=p;p=function(){var N=Yu(T);C.call(N)}}Qu(s,T,r,p)}else T=gS(l,s,r,p,h);return Yu(T)}Sa=function(r){switch(r.tag){case 3:var s=r.stateNode;if(s.current.memoizedState.isDehydrated){var l=We(s.pendingLanes);l!==0&&(Ta(s,l|1),vn(s,tt()),($e&6)===0&&(No=tt()+500,Li()))}break;case 13:Vs(function(){var h=ai(r,1);if(h!==null){var p=cn();fr(h,r,1,p)}}),kf(r,1)}},io=function(r){if(r.tag===13){var s=ai(r,134217728);if(s!==null){var l=cn();fr(s,r,134217728,l)}kf(r,134217728)}},xa=function(r){if(r.tag===13){var s=zi(r),l=ai(r,s);if(l!==null){var h=cn();fr(l,r,s,h)}kf(r,s)}},Aa=function(){return Fe},Ia=function(r,s){var l=Fe;try{return Fe=r,s()}finally{Fe=l}},rr=function(r,s,l){switch(s){case"input":if(Sn(r,l),s=l.name,l.type==="radio"&&s!=null){for(l=r;l.parentNode;)l=l.parentNode;for(l=l.querySelectorAll("input[name="+JSON.stringify(""+s)+'][type="radio"]'),s=0;s<l.length;s++){var h=l[s];if(h!==r&&h.form===r.form){var p=gu(h);if(!p)throw Error(n(90));Mn(h),Sn(h,p)}}}break;case"textarea":eo(r,l);break;case"select":s=l.value,s!=null&&xn(r,!!l.multiple,s,!1)}},gt=Sf,Mt=Vs;var yS={usingClientEntryPoint:!1,Events:[Ba,Eo,gu,Ae,Ye,Sf]},el={findFiberByHostInstance:Ss,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},vS={bundleType:el.bundleType,version:el.version,rendererPackageName:el.rendererPackageName,rendererConfig:el.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Z.ReactCurrentDispatcher,findHostInstanceByFiber:function(r){return r=Jl(r),r===null?null:r.stateNode},findFiberByHostInstance:el.findFiberByHostInstance||mS,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var ec=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ec.isDisabled&&ec.supportsFiber)try{ps=ec.inject(vS),In=ec}catch{}}return _n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=yS,_n.createPortal=function(r,s){var l=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!bf(s))throw Error(n(200));return pS(r,s,null,l)},_n.createRoot=function(r,s){if(!bf(r))throw Error(n(299));var l=!1,h="",p=Fy;return s!=null&&(s.unstable_strictMode===!0&&(l=!0),s.identifierPrefix!==void 0&&(h=s.identifierPrefix),s.onRecoverableError!==void 0&&(p=s.onRecoverableError)),s=Rf(r,1,!1,null,null,l,!1,h,p),r[ri]=s.current,Oa(r.nodeType===8?r.parentNode:r),new Vf(s)},_n.findDOMNode=function(r){if(r==null)return null;if(r.nodeType===1)return r;var s=r._reactInternals;if(s===void 0)throw typeof r.render=="function"?Error(n(188)):(r=Object.keys(r).join(","),Error(n(268,r)));return r=Jl(s),r=r===null?null:r.stateNode,r},_n.flushSync=function(r){return Vs(r)},_n.hydrate=function(r,s,l){if(!Ju(s))throw Error(n(200));return Zu(null,r,s,!0,l)},_n.hydrateRoot=function(r,s,l){if(!bf(r))throw Error(n(405));var h=l!=null&&l.hydratedSources||null,p=!1,v="",T=Fy;if(l!=null&&(l.unstable_strictMode===!0&&(p=!0),l.identifierPrefix!==void 0&&(v=l.identifierPrefix),l.onRecoverableError!==void 0&&(T=l.onRecoverableError)),s=Ly(s,null,r,1,l??null,p,!1,v,T),r[ri]=s.current,Oa(r),h)for(r=0;r<h.length;r++)l=h[r],p=l._getVersion,p=p(l._source),s.mutableSourceEagerHydrationData==null?s.mutableSourceEagerHydrationData=[l,p]:s.mutableSourceEagerHydrationData.push(l,p);return new Xu(s)},_n.render=function(r,s,l){if(!Ju(s))throw Error(n(200));return Zu(null,r,s,!1,l)},_n.unmountComponentAtNode=function(r){if(!Ju(r))throw Error(n(40));return r._reactRootContainer?(Vs(function(){Zu(null,null,r,!1,function(){r._reactRootContainer=null,r[ri]=null})}),!0):!1},_n.unstable_batchedUpdates=Sf,_n.unstable_renderSubtreeIntoContainer=function(r,s,l,h){if(!Ju(l))throw Error(n(200));if(r==null||r._reactInternals===void 0)throw Error(n(38));return Zu(r,s,l,!1,h)},_n.version="18.3.1-next-f1338f8080-20240426",_n}var Ky;function I_(){if(Ky)return Mf.exports;Ky=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),Mf.exports=AS(),Mf.exports}var Gy;function IS(){if(Gy)return tc;Gy=1;var t=I_();return tc.createRoot=t.createRoot,tc.hydrateRoot=t.hydrateRoot,tc}var CS=IS();/**
 * react-router v7.9.5
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var Qy="popstate";function PS(t={}){function e(i,o){let{pathname:a,search:u,hash:f}=i.location;return hd("",{pathname:a,search:u,hash:f},o.state&&o.state.usr||null,o.state&&o.state.key||"default")}function n(i,o){return typeof o=="string"?o:wl(o)}return kS(e,n,null,t)}function ht(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function qr(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function RS(){return Math.random().toString(36).substring(2,10)}function Yy(t,e){return{usr:t.state,key:t.key,idx:e}}function hd(t,e,n=null,i){return{pathname:typeof t=="string"?t:t.pathname,search:"",hash:"",...typeof e=="string"?ra(e):e,state:n,key:e&&e.key||i||RS()}}function wl({pathname:t="/",search:e="",hash:n=""}){return e&&e!=="?"&&(t+=e.charAt(0)==="?"?e:"?"+e),n&&n!=="#"&&(t+=n.charAt(0)==="#"?n:"#"+n),t}function ra(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substring(n),t=t.substring(0,n));let i=t.indexOf("?");i>=0&&(e.search=t.substring(i),t=t.substring(0,i)),t&&(e.pathname=t)}return e}function kS(t,e,n,i={}){let{window:o=document.defaultView,v5Compat:a=!1}=i,u=o.history,f="POP",d=null,m=g();m==null&&(m=0,u.replaceState({...u.state,idx:m},""));function g(){return(u.state||{idx:null}).idx}function y(){f="POP";let k=g(),O=k==null?null:k-m;m=k,d&&d({action:f,location:b.location,delta:O})}function E(k,O){f="PUSH";let K=hd(b.location,k,O);m=g()+1;let B=Yy(K,m),Z=b.createHref(K);try{u.pushState(B,"",Z)}catch(ne){if(ne instanceof DOMException&&ne.name==="DataCloneError")throw ne;o.location.assign(Z)}a&&d&&d({action:f,location:b.location,delta:1})}function A(k,O){f="REPLACE";let K=hd(b.location,k,O);m=g();let B=Yy(K,m),Z=b.createHref(K);u.replaceState(B,"",Z),a&&d&&d({action:f,location:b.location,delta:0})}function M(k){return VS(k)}let b={get action(){return f},get location(){return t(o,u)},listen(k){if(d)throw new Error("A history only accepts one active listener");return o.addEventListener(Qy,y),d=k,()=>{o.removeEventListener(Qy,y),d=null}},createHref(k){return e(o,k)},createURL:M,encodeLocation(k){let O=M(k);return{pathname:O.pathname,search:O.search,hash:O.hash}},push:E,replace:A,go(k){return u.go(k)}};return b}function VS(t,e=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),ht(n,"No window.location.(origin|href) available to create URL");let i=typeof t=="string"?t:wl(t);return i=i.replace(/ $/,"%20"),!e&&i.startsWith("//")&&(i=n+i),new URL(i,n)}function C_(t,e,n="/"){return bS(t,e,n,!1)}function bS(t,e,n,i){let o=typeof e=="string"?ra(e):e,a=fi(o.pathname||"/",n);if(a==null)return null;let u=P_(t);DS(u);let f=null;for(let d=0;f==null&&d<u.length;++d){let m=HS(a);f=zS(u[d],m,i)}return f}function P_(t,e=[],n=[],i="",o=!1){let a=(u,f,d=o,m)=>{let g={relativePath:m===void 0?u.path||"":m,caseSensitive:u.caseSensitive===!0,childrenIndex:f,route:u};if(g.relativePath.startsWith("/")){if(!g.relativePath.startsWith(i)&&d)return;ht(g.relativePath.startsWith(i),`Absolute route path "${g.relativePath}" nested under path "${i}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),g.relativePath=g.relativePath.slice(i.length)}let y=hi([i,g.relativePath]),E=n.concat(g);u.children&&u.children.length>0&&(ht(u.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${y}".`),P_(u.children,e,E,y,d)),!(u.path==null&&!u.index)&&e.push({path:y,score:BS(y,u.index),routesMeta:E})};return t.forEach((u,f)=>{var d;if(u.path===""||!((d=u.path)!=null&&d.includes("?")))a(u,f);else for(let m of R_(u.path))a(u,f,!0,m)}),e}function R_(t){let e=t.split("/");if(e.length===0)return[];let[n,...i]=e,o=n.endsWith("?"),a=n.replace(/\?$/,"");if(i.length===0)return o?[a,""]:[a];let u=R_(i.join("/")),f=[];return f.push(...u.map(d=>d===""?a:[a,d].join("/"))),o&&f.push(...u),f.map(d=>t.startsWith("/")&&d===""?"/":d)}function DS(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:US(e.routesMeta.map(i=>i.childrenIndex),n.routesMeta.map(i=>i.childrenIndex)))}var NS=/^:[\w-]+$/,MS=3,LS=2,OS=1,FS=10,jS=-2,Xy=t=>t==="*";function BS(t,e){let n=t.split("/"),i=n.length;return n.some(Xy)&&(i+=jS),e&&(i+=LS),n.filter(o=>!Xy(o)).reduce((o,a)=>o+(NS.test(a)?MS:a===""?OS:FS),i)}function US(t,e){return t.length===e.length&&t.slice(0,-1).every((i,o)=>i===e[o])?t[t.length-1]-e[e.length-1]:0}function zS(t,e,n=!1){let{routesMeta:i}=t,o={},a="/",u=[];for(let f=0;f<i.length;++f){let d=i[f],m=f===i.length-1,g=a==="/"?e:e.slice(a.length)||"/",y=xc({path:d.relativePath,caseSensitive:d.caseSensitive,end:m},g),E=d.route;if(!y&&m&&n&&!i[i.length-1].route.index&&(y=xc({path:d.relativePath,caseSensitive:d.caseSensitive,end:!1},g)),!y)return null;Object.assign(o,y.params),u.push({params:o,pathname:hi([a,y.pathname]),pathnameBase:GS(hi([a,y.pathnameBase])),route:E}),y.pathnameBase!=="/"&&(a=hi([a,y.pathnameBase]))}return u}function xc(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,i]=$S(t.path,t.caseSensitive,t.end),o=e.match(n);if(!o)return null;let a=o[0],u=a.replace(/(.)\/+$/,"$1"),f=o.slice(1);return{params:i.reduce((m,{paramName:g,isOptional:y},E)=>{if(g==="*"){let M=f[E]||"";u=a.slice(0,a.length-M.length).replace(/(.)\/+$/,"$1")}const A=f[E];return y&&!A?m[g]=void 0:m[g]=(A||"").replace(/%2F/g,"/"),m},{}),pathname:a,pathnameBase:u,pattern:t}}function $S(t,e=!1,n=!0){qr(t==="*"||!t.endsWith("*")||t.endsWith("/*"),`Route path "${t}" will be treated as if it were "${t.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${t.replace(/\*$/,"/*")}".`);let i=[],o="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(u,f,d)=>(i.push({paramName:f,isOptional:d!=null}),d?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return t.endsWith("*")?(i.push({paramName:"*"}),o+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?o+="\\/*$":t!==""&&t!=="/"&&(o+="(?:(?=\\/|$))"),[new RegExp(o,e?void 0:"i"),i]}function HS(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return qr(!1,`The URL path "${t}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),t}}function fi(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,i=t.charAt(n);return i&&i!=="/"?null:t.slice(n)||"/"}function WS(t,e="/"){let{pathname:n,search:i="",hash:o=""}=typeof t=="string"?ra(t):t;return{pathname:n?n.startsWith("/")?n:qS(n,e):e,search:QS(i),hash:YS(o)}}function qS(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(o=>{o===".."?n.length>1&&n.pop():o!=="."&&n.push(o)}),n.length>1?n.join("/"):"/"}function Ff(t,e,n,i){return`Cannot include a '${t}' character in a manually specified \`to.${e}\` field [${JSON.stringify(i)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function KS(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function k_(t){let e=KS(t);return e.map((n,i)=>i===e.length-1?n.pathname:n.pathnameBase)}function V_(t,e,n,i=!1){let o;typeof t=="string"?o=ra(t):(o={...t},ht(!o.pathname||!o.pathname.includes("?"),Ff("?","pathname","search",o)),ht(!o.pathname||!o.pathname.includes("#"),Ff("#","pathname","hash",o)),ht(!o.search||!o.search.includes("#"),Ff("#","search","hash",o)));let a=t===""||o.pathname==="",u=a?"/":o.pathname,f;if(u==null)f=n;else{let y=e.length-1;if(!i&&u.startsWith("..")){let E=u.split("/");for(;E[0]==="..";)E.shift(),y-=1;o.pathname=E.join("/")}f=y>=0?e[y]:"/"}let d=WS(o,f),m=u&&u!=="/"&&u.endsWith("/"),g=(a||u===".")&&n.endsWith("/");return!d.pathname.endsWith("/")&&(m||g)&&(d.pathname+="/"),d}var hi=t=>t.join("/").replace(/\/\/+/g,"/"),GS=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),QS=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,YS=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function XS(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var b_=["POST","PUT","PATCH","DELETE"];new Set(b_);var JS=["GET",...b_];new Set(JS);var ia=U.createContext(null);ia.displayName="DataRouter";var Wc=U.createContext(null);Wc.displayName="DataRouterState";U.createContext(!1);var D_=U.createContext({isTransitioning:!1});D_.displayName="ViewTransition";var ZS=U.createContext(new Map);ZS.displayName="Fetchers";var ex=U.createContext(null);ex.displayName="Await";var Gr=U.createContext(null);Gr.displayName="Navigation";var Ll=U.createContext(null);Ll.displayName="Location";var vi=U.createContext({outlet:null,matches:[],isDataRoute:!1});vi.displayName="Route";var up=U.createContext(null);up.displayName="RouteError";function tx(t,{relative:e}={}){ht(Ol(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:i}=U.useContext(Gr),{hash:o,pathname:a,search:u}=Fl(t,{relative:e}),f=a;return n!=="/"&&(f=a==="/"?n:hi([n,a])),i.createHref({pathname:f,search:u,hash:o})}function Ol(){return U.useContext(Ll)!=null}function Gs(){return ht(Ol(),"useLocation() may be used only in the context of a <Router> component."),U.useContext(Ll).location}var N_="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function M_(t){U.useContext(Gr).static||U.useLayoutEffect(t)}function nx(){let{isDataRoute:t}=U.useContext(vi);return t?mx():rx()}function rx(){ht(Ol(),"useNavigate() may be used only in the context of a <Router> component.");let t=U.useContext(ia),{basename:e,navigator:n}=U.useContext(Gr),{matches:i}=U.useContext(vi),{pathname:o}=Gs(),a=JSON.stringify(k_(i)),u=U.useRef(!1);return M_(()=>{u.current=!0}),U.useCallback((d,m={})=>{if(qr(u.current,N_),!u.current)return;if(typeof d=="number"){n.go(d);return}let g=V_(d,JSON.parse(a),o,m.relative==="path");t==null&&e!=="/"&&(g.pathname=g.pathname==="/"?e:hi([e,g.pathname])),(m.replace?n.replace:n.push)(g,m.state,m)},[e,n,a,o,t])}U.createContext(null);function Fl(t,{relative:e}={}){let{matches:n}=U.useContext(vi),{pathname:i}=Gs(),o=JSON.stringify(k_(n));return U.useMemo(()=>V_(t,JSON.parse(o),i,e==="path"),[t,o,i,e])}function ix(t,e){return L_(t,e)}function L_(t,e,n,i,o){var K;ht(Ol(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:a}=U.useContext(Gr),{matches:u}=U.useContext(vi),f=u[u.length-1],d=f?f.params:{},m=f?f.pathname:"/",g=f?f.pathnameBase:"/",y=f&&f.route;{let B=y&&y.path||"";O_(m,!y||B.endsWith("*")||B.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${m}" (under <Route path="${B}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${B}"> to <Route path="${B==="/"?"*":`${B}/*`}">.`)}let E=Gs(),A;if(e){let B=typeof e=="string"?ra(e):e;ht(g==="/"||((K=B.pathname)==null?void 0:K.startsWith(g)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${g}" but pathname "${B.pathname}" was given in the \`location\` prop.`),A=B}else A=E;let M=A.pathname||"/",b=M;if(g!=="/"){let B=g.replace(/^\//,"").split("/");b="/"+M.replace(/^\//,"").split("/").slice(B.length).join("/")}let k=C_(t,{pathname:b});qr(y||k!=null,`No routes matched location "${A.pathname}${A.search}${A.hash}" `),qr(k==null||k[k.length-1].route.element!==void 0||k[k.length-1].route.Component!==void 0||k[k.length-1].route.lazy!==void 0,`Matched leaf route at location "${A.pathname}${A.search}${A.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let O=ux(k&&k.map(B=>Object.assign({},B,{params:Object.assign({},d,B.params),pathname:hi([g,a.encodeLocation?a.encodeLocation(B.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:B.pathname]),pathnameBase:B.pathnameBase==="/"?g:hi([g,a.encodeLocation?a.encodeLocation(B.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:B.pathnameBase])})),u,n,i,o);return e&&O?U.createElement(Ll.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...A},navigationType:"POP"}},O):O}function sx(){let t=px(),e=XS(t)?`${t.status} ${t.statusText}`:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,i="rgba(200,200,200, 0.5)",o={padding:"0.5rem",backgroundColor:i},a={padding:"2px 4px",backgroundColor:i},u=null;return console.error("Error handled by React Router default ErrorBoundary:",t),u=U.createElement(U.Fragment,null,U.createElement("p",null," Hey developer "),U.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",U.createElement("code",{style:a},"ErrorBoundary")," or"," ",U.createElement("code",{style:a},"errorElement")," prop on your route.")),U.createElement(U.Fragment,null,U.createElement("h2",null,"Unexpected Application Error!"),U.createElement("h3",{style:{fontStyle:"italic"}},e),n?U.createElement("pre",{style:o},n):null,u)}var ox=U.createElement(sx,null),ax=class extends U.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,e){return e.location!==t.location||e.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:e.error,location:e.location,revalidation:t.revalidation||e.revalidation}}componentDidCatch(t,e){this.props.unstable_onError?this.props.unstable_onError(t,e):console.error("React Router caught the following error during render",t)}render(){return this.state.error!==void 0?U.createElement(vi.Provider,{value:this.props.routeContext},U.createElement(up.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function lx({routeContext:t,match:e,children:n}){let i=U.useContext(ia);return i&&i.static&&i.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=e.route.id),U.createElement(vi.Provider,{value:t},n)}function ux(t,e=[],n=null,i=null,o=null){if(t==null){if(!n)return null;if(n.errors)t=n.matches;else if(e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let a=t,u=n==null?void 0:n.errors;if(u!=null){let m=a.findIndex(g=>g.route.id&&(u==null?void 0:u[g.route.id])!==void 0);ht(m>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(u).join(",")}`),a=a.slice(0,Math.min(a.length,m+1))}let f=!1,d=-1;if(n)for(let m=0;m<a.length;m++){let g=a[m];if((g.route.HydrateFallback||g.route.hydrateFallbackElement)&&(d=m),g.route.id){let{loaderData:y,errors:E}=n,A=g.route.loader&&!y.hasOwnProperty(g.route.id)&&(!E||E[g.route.id]===void 0);if(g.route.lazy||A){f=!0,d>=0?a=a.slice(0,d+1):a=[a[0]];break}}}return a.reduceRight((m,g,y)=>{let E,A=!1,M=null,b=null;n&&(E=u&&g.route.id?u[g.route.id]:void 0,M=g.route.errorElement||ox,f&&(d<0&&y===0?(O_("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),A=!0,b=null):d===y&&(A=!0,b=g.route.hydrateFallbackElement||null)));let k=e.concat(a.slice(0,y+1)),O=()=>{let K;return E?K=M:A?K=b:g.route.Component?K=U.createElement(g.route.Component,null):g.route.element?K=g.route.element:K=m,U.createElement(lx,{match:g,routeContext:{outlet:m,matches:k,isDataRoute:n!=null},children:K})};return n&&(g.route.ErrorBoundary||g.route.errorElement||y===0)?U.createElement(ax,{location:n.location,revalidation:n.revalidation,component:M,error:E,children:O(),routeContext:{outlet:null,matches:k,isDataRoute:!0},unstable_onError:i}):O()},null)}function cp(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function cx(t){let e=U.useContext(ia);return ht(e,cp(t)),e}function hx(t){let e=U.useContext(Wc);return ht(e,cp(t)),e}function fx(t){let e=U.useContext(vi);return ht(e,cp(t)),e}function hp(t){let e=fx(t),n=e.matches[e.matches.length-1];return ht(n.route.id,`${t} can only be used on routes that contain a unique "id"`),n.route.id}function dx(){return hp("useRouteId")}function px(){var i;let t=U.useContext(up),e=hx("useRouteError"),n=hp("useRouteError");return t!==void 0?t:(i=e.errors)==null?void 0:i[n]}function mx(){let{router:t}=cx("useNavigate"),e=hp("useNavigate"),n=U.useRef(!1);return M_(()=>{n.current=!0}),U.useCallback(async(o,a={})=>{qr(n.current,N_),n.current&&(typeof o=="number"?t.navigate(o):await t.navigate(o,{fromRouteId:e,...a}))},[t,e])}var Jy={};function O_(t,e,n){!e&&!Jy[t]&&(Jy[t]=!0,qr(!1,n))}U.memo(gx);function gx({routes:t,future:e,state:n,unstable_onError:i}){return L_(t,void 0,n,i,e)}function fd(t){ht(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function yx({basename:t="/",children:e=null,location:n,navigationType:i="POP",navigator:o,static:a=!1}){ht(!Ol(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let u=t.replace(/^\/*/,"/"),f=U.useMemo(()=>({basename:u,navigator:o,static:a,future:{}}),[u,o,a]);typeof n=="string"&&(n=ra(n));let{pathname:d="/",search:m="",hash:g="",state:y=null,key:E="default"}=n,A=U.useMemo(()=>{let M=fi(d,u);return M==null?null:{location:{pathname:M,search:m,hash:g,state:y,key:E},navigationType:i}},[u,d,m,g,y,E,i]);return qr(A!=null,`<Router basename="${u}"> is not able to match the URL "${d}${m}${g}" because it does not start with the basename, so the <Router> won't render anything.`),A==null?null:U.createElement(Gr.Provider,{value:f},U.createElement(Ll.Provider,{children:e,value:A}))}function vx({children:t,location:e}){return ix(dd(t),e)}function dd(t,e=[]){let n=[];return U.Children.forEach(t,(i,o)=>{if(!U.isValidElement(i))return;let a=[...e,o];if(i.type===U.Fragment){n.push.apply(n,dd(i.props.children,a));return}ht(i.type===fd,`[${typeof i.type=="string"?i.type:i.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),ht(!i.props.index||!i.props.children,"An index route cannot have child routes.");let u={id:i.props.id||a.join("-"),caseSensitive:i.props.caseSensitive,element:i.props.element,Component:i.props.Component,index:i.props.index,path:i.props.path,middleware:i.props.middleware,loader:i.props.loader,action:i.props.action,hydrateFallbackElement:i.props.hydrateFallbackElement,HydrateFallback:i.props.HydrateFallback,errorElement:i.props.errorElement,ErrorBoundary:i.props.ErrorBoundary,hasErrorBoundary:i.props.hasErrorBoundary===!0||i.props.ErrorBoundary!=null||i.props.errorElement!=null,shouldRevalidate:i.props.shouldRevalidate,handle:i.props.handle,lazy:i.props.lazy};i.props.children&&(u.children=dd(i.props.children,a)),n.push(u)}),n}var fc="get",dc="application/x-www-form-urlencoded";function qc(t){return t!=null&&typeof t.tagName=="string"}function _x(t){return qc(t)&&t.tagName.toLowerCase()==="button"}function wx(t){return qc(t)&&t.tagName.toLowerCase()==="form"}function Ex(t){return qc(t)&&t.tagName.toLowerCase()==="input"}function Tx(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function Sx(t,e){return t.button===0&&(!e||e==="_self")&&!Tx(t)}var nc=null;function xx(){if(nc===null)try{new FormData(document.createElement("form"),0),nc=!1}catch{nc=!0}return nc}var Ax=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function jf(t){return t!=null&&!Ax.has(t)?(qr(!1,`"${t}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${dc}"`),null):t}function Ix(t,e){let n,i,o,a,u;if(wx(t)){let f=t.getAttribute("action");i=f?fi(f,e):null,n=t.getAttribute("method")||fc,o=jf(t.getAttribute("enctype"))||dc,a=new FormData(t)}else if(_x(t)||Ex(t)&&(t.type==="submit"||t.type==="image")){let f=t.form;if(f==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let d=t.getAttribute("formaction")||f.getAttribute("action");if(i=d?fi(d,e):null,n=t.getAttribute("formmethod")||f.getAttribute("method")||fc,o=jf(t.getAttribute("formenctype"))||jf(f.getAttribute("enctype"))||dc,a=new FormData(f,t),!xx()){let{name:m,type:g,value:y}=t;if(g==="image"){let E=m?`${m}.`:"";a.append(`${E}x`,"0"),a.append(`${E}y`,"0")}else m&&a.append(m,y)}}else{if(qc(t))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=fc,i=null,o=dc,u=t}return a&&o==="text/plain"&&(u=a,a=void 0),{action:i,method:n.toLowerCase(),encType:o,formData:a,body:u}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function fp(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function Cx(t,e,n){let i=typeof t=="string"?new URL(t,typeof window>"u"?"server://singlefetch/":window.location.origin):t;return i.pathname==="/"?i.pathname=`_root.${n}`:e&&fi(i.pathname,e)==="/"?i.pathname=`${e.replace(/\/$/,"")}/_root.${n}`:i.pathname=`${i.pathname.replace(/\/$/,"")}.${n}`,i}async function Px(t,e){if(t.id in e)return e[t.id];try{let n=await import(t.module);return e[t.id]=n,n}catch(n){return console.error(`Error loading route module \`${t.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function Rx(t){return t==null?!1:t.href==null?t.rel==="preload"&&typeof t.imageSrcSet=="string"&&typeof t.imageSizes=="string":typeof t.rel=="string"&&typeof t.href=="string"}async function kx(t,e,n){let i=await Promise.all(t.map(async o=>{let a=e.routes[o.route.id];if(a){let u=await Px(a,n);return u.links?u.links():[]}return[]}));return Nx(i.flat(1).filter(Rx).filter(o=>o.rel==="stylesheet"||o.rel==="preload").map(o=>o.rel==="stylesheet"?{...o,rel:"prefetch",as:"style"}:{...o,rel:"prefetch"}))}function Zy(t,e,n,i,o,a){let u=(d,m)=>n[m]?d.route.id!==n[m].route.id:!0,f=(d,m)=>{var g;return n[m].pathname!==d.pathname||((g=n[m].route.path)==null?void 0:g.endsWith("*"))&&n[m].params["*"]!==d.params["*"]};return a==="assets"?e.filter((d,m)=>u(d,m)||f(d,m)):a==="data"?e.filter((d,m)=>{var y;let g=i.routes[d.route.id];if(!g||!g.hasLoader)return!1;if(u(d,m)||f(d,m))return!0;if(d.route.shouldRevalidate){let E=d.route.shouldRevalidate({currentUrl:new URL(o.pathname+o.search+o.hash,window.origin),currentParams:((y=n[0])==null?void 0:y.params)||{},nextUrl:new URL(t,window.origin),nextParams:d.params,defaultShouldRevalidate:!0});if(typeof E=="boolean")return E}return!0}):[]}function Vx(t,e,{includeHydrateFallback:n}={}){return bx(t.map(i=>{let o=e.routes[i.route.id];if(!o)return[];let a=[o.module];return o.clientActionModule&&(a=a.concat(o.clientActionModule)),o.clientLoaderModule&&(a=a.concat(o.clientLoaderModule)),n&&o.hydrateFallbackModule&&(a=a.concat(o.hydrateFallbackModule)),o.imports&&(a=a.concat(o.imports)),a}).flat(1))}function bx(t){return[...new Set(t)]}function Dx(t){let e={},n=Object.keys(t).sort();for(let i of n)e[i]=t[i];return e}function Nx(t,e){let n=new Set;return new Set(e),t.reduce((i,o)=>{let a=JSON.stringify(Dx(o));return n.has(a)||(n.add(a),i.push({key:a,link:o})),i},[])}function F_(){let t=U.useContext(ia);return fp(t,"You must render this element inside a <DataRouterContext.Provider> element"),t}function Mx(){let t=U.useContext(Wc);return fp(t,"You must render this element inside a <DataRouterStateContext.Provider> element"),t}var dp=U.createContext(void 0);dp.displayName="FrameworkContext";function j_(){let t=U.useContext(dp);return fp(t,"You must render this element inside a <HydratedRouter> element"),t}function Lx(t,e){let n=U.useContext(dp),[i,o]=U.useState(!1),[a,u]=U.useState(!1),{onFocus:f,onBlur:d,onMouseEnter:m,onMouseLeave:g,onTouchStart:y}=e,E=U.useRef(null);U.useEffect(()=>{if(t==="render"&&u(!0),t==="viewport"){let b=O=>{O.forEach(K=>{u(K.isIntersecting)})},k=new IntersectionObserver(b,{threshold:.5});return E.current&&k.observe(E.current),()=>{k.disconnect()}}},[t]),U.useEffect(()=>{if(i){let b=setTimeout(()=>{u(!0)},100);return()=>{clearTimeout(b)}}},[i]);let A=()=>{o(!0)},M=()=>{o(!1),u(!1)};return n?t!=="intent"?[a,E,{}]:[a,E,{onFocus:nl(f,A),onBlur:nl(d,M),onMouseEnter:nl(m,A),onMouseLeave:nl(g,M),onTouchStart:nl(y,A)}]:[!1,E,{}]}function nl(t,e){return n=>{t&&t(n),n.defaultPrevented||e(n)}}function Ox({page:t,...e}){let{router:n}=F_(),i=U.useMemo(()=>C_(n.routes,t,n.basename),[n.routes,t,n.basename]);return i?U.createElement(jx,{page:t,matches:i,...e}):null}function Fx(t){let{manifest:e,routeModules:n}=j_(),[i,o]=U.useState([]);return U.useEffect(()=>{let a=!1;return kx(t,e,n).then(u=>{a||o(u)}),()=>{a=!0}},[t,e,n]),i}function jx({page:t,matches:e,...n}){let i=Gs(),{manifest:o,routeModules:a}=j_(),{basename:u}=F_(),{loaderData:f,matches:d}=Mx(),m=U.useMemo(()=>Zy(t,e,d,o,i,"data"),[t,e,d,o,i]),g=U.useMemo(()=>Zy(t,e,d,o,i,"assets"),[t,e,d,o,i]),y=U.useMemo(()=>{if(t===i.pathname+i.search+i.hash)return[];let M=new Set,b=!1;if(e.forEach(O=>{var B;let K=o.routes[O.route.id];!K||!K.hasLoader||(!m.some(Z=>Z.route.id===O.route.id)&&O.route.id in f&&((B=a[O.route.id])!=null&&B.shouldRevalidate)||K.hasClientLoader?b=!0:M.add(O.route.id))}),M.size===0)return[];let k=Cx(t,u,"data");return b&&M.size>0&&k.searchParams.set("_routes",e.filter(O=>M.has(O.route.id)).map(O=>O.route.id).join(",")),[k.pathname+k.search]},[u,f,i,o,m,e,t,a]),E=U.useMemo(()=>Vx(g,o),[g,o]),A=Fx(g);return U.createElement(U.Fragment,null,y.map(M=>U.createElement("link",{key:M,rel:"prefetch",as:"fetch",href:M,...n})),E.map(M=>U.createElement("link",{key:M,rel:"modulepreload",href:M,...n})),A.map(({key:M,link:b})=>U.createElement("link",{key:M,nonce:n.nonce,...b})))}function Bx(...t){return e=>{t.forEach(n=>{typeof n=="function"?n(e):n!=null&&(n.current=e)})}}var B_=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{B_&&(window.__reactRouterVersion="7.9.5")}catch{}function Ux({basename:t,children:e,window:n}){let i=U.useRef();i.current==null&&(i.current=PS({window:n,v5Compat:!0}));let o=i.current,[a,u]=U.useState({action:o.action,location:o.location}),f=U.useCallback(d=>{U.startTransition(()=>u(d))},[u]);return U.useLayoutEffect(()=>o.listen(f),[o,f]),U.createElement(yx,{basename:t,children:e,location:a.location,navigationType:a.action,navigator:o})}var U_=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,z_=U.forwardRef(function({onClick:e,discover:n="render",prefetch:i="none",relative:o,reloadDocument:a,replace:u,state:f,target:d,to:m,preventScrollReset:g,viewTransition:y,...E},A){let{basename:M}=U.useContext(Gr),b=typeof m=="string"&&U_.test(m),k,O=!1;if(typeof m=="string"&&b&&(k=m,B_))try{let I=new URL(window.location.href),V=m.startsWith("//")?new URL(I.protocol+m):new URL(m),D=fi(V.pathname,M);V.origin===I.origin&&D!=null?m=D+V.search+V.hash:O=!0}catch{qr(!1,`<Link to="${m}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let K=tx(m,{relative:o}),[B,Z,ne]=Lx(i,E),le=Wx(m,{replace:u,state:f,target:d,preventScrollReset:g,relative:o,viewTransition:y});function R(I){e&&e(I),I.defaultPrevented||le(I)}let x=U.createElement("a",{...E,...ne,href:k||K,onClick:O||a?e:R,ref:Bx(A,Z),target:d,"data-discover":!b&&n==="render"?"true":void 0});return B&&!b?U.createElement(U.Fragment,null,x,U.createElement(Ox,{page:K})):x});z_.displayName="Link";var zx=U.forwardRef(function({"aria-current":e="page",caseSensitive:n=!1,className:i="",end:o=!1,style:a,to:u,viewTransition:f,children:d,...m},g){let y=Fl(u,{relative:m.relative}),E=Gs(),A=U.useContext(Wc),{navigator:M,basename:b}=U.useContext(Gr),k=A!=null&&Yx(y)&&f===!0,O=M.encodeLocation?M.encodeLocation(y).pathname:y.pathname,K=E.pathname,B=A&&A.navigation&&A.navigation.location?A.navigation.location.pathname:null;n||(K=K.toLowerCase(),B=B?B.toLowerCase():null,O=O.toLowerCase()),B&&b&&(B=fi(B,b)||B);const Z=O!=="/"&&O.endsWith("/")?O.length-1:O.length;let ne=K===O||!o&&K.startsWith(O)&&K.charAt(Z)==="/",le=B!=null&&(B===O||!o&&B.startsWith(O)&&B.charAt(O.length)==="/"),R={isActive:ne,isPending:le,isTransitioning:k},x=ne?e:void 0,I;typeof i=="function"?I=i(R):I=[i,ne?"active":null,le?"pending":null,k?"transitioning":null].filter(Boolean).join(" ");let V=typeof a=="function"?a(R):a;return U.createElement(z_,{...m,"aria-current":x,className:I,ref:g,style:V,to:u,viewTransition:f},typeof d=="function"?d(R):d)});zx.displayName="NavLink";var $x=U.forwardRef(({discover:t="render",fetcherKey:e,navigate:n,reloadDocument:i,replace:o,state:a,method:u=fc,action:f,onSubmit:d,relative:m,preventScrollReset:g,viewTransition:y,...E},A)=>{let M=Gx(),b=Qx(f,{relative:m}),k=u.toLowerCase()==="get"?"get":"post",O=typeof f=="string"&&U_.test(f),K=B=>{if(d&&d(B),B.defaultPrevented)return;B.preventDefault();let Z=B.nativeEvent.submitter,ne=(Z==null?void 0:Z.getAttribute("formmethod"))||u;M(Z||B.currentTarget,{fetcherKey:e,method:ne,navigate:n,replace:o,state:a,relative:m,preventScrollReset:g,viewTransition:y})};return U.createElement("form",{ref:A,method:k,action:b,onSubmit:i?d:K,...E,"data-discover":!O&&t==="render"?"true":void 0})});$x.displayName="Form";function Hx(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function $_(t){let e=U.useContext(ia);return ht(e,Hx(t)),e}function Wx(t,{target:e,replace:n,state:i,preventScrollReset:o,relative:a,viewTransition:u}={}){let f=nx(),d=Gs(),m=Fl(t,{relative:a});return U.useCallback(g=>{if(Sx(g,e)){g.preventDefault();let y=n!==void 0?n:wl(d)===wl(m);f(t,{replace:y,state:i,preventScrollReset:o,relative:a,viewTransition:u})}},[d,f,m,n,i,e,t,o,a,u])}var qx=0,Kx=()=>`__${String(++qx)}__`;function Gx(){let{router:t}=$_("useSubmit"),{basename:e}=U.useContext(Gr),n=dx();return U.useCallback(async(i,o={})=>{let{action:a,method:u,encType:f,formData:d,body:m}=Ix(i,e);if(o.navigate===!1){let g=o.fetcherKey||Kx();await t.fetch(g,n,o.action||a,{preventScrollReset:o.preventScrollReset,formData:d,body:m,formMethod:o.method||u,formEncType:o.encType||f,flushSync:o.flushSync})}else await t.navigate(o.action||a,{preventScrollReset:o.preventScrollReset,formData:d,body:m,formMethod:o.method||u,formEncType:o.encType||f,replace:o.replace,state:o.state,fromRouteId:n,flushSync:o.flushSync,viewTransition:o.viewTransition})},[t,e,n])}function Qx(t,{relative:e}={}){let{basename:n}=U.useContext(Gr),i=U.useContext(vi);ht(i,"useFormAction must be used inside a RouteContext");let[o]=i.matches.slice(-1),a={...Fl(t||".",{relative:e})},u=Gs();if(t==null){a.search=u.search;let f=new URLSearchParams(a.search),d=f.getAll("index");if(d.some(g=>g==="")){f.delete("index"),d.filter(y=>y).forEach(y=>f.append("index",y));let g=f.toString();a.search=g?`?${g}`:""}}return(!t||t===".")&&o.route.index&&(a.search=a.search?a.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(a.pathname=a.pathname==="/"?n:hi([n,a.pathname])),wl(a)}function Yx(t,{relative:e}={}){let n=U.useContext(D_);ht(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:i}=$_("useViewTransitionState"),o=Fl(t,{relative:e});if(!n.isTransitioning)return!1;let a=fi(n.currentLocation.pathname,i)||n.currentLocation.pathname,u=fi(n.nextLocation.pathname,i)||n.nextLocation.pathname;return xc(o.pathname,u)!=null||xc(o.pathname,a)!=null}var Xx=I_();const Jx=A_(Xx);function Zx(t){if(typeof document>"u")return;let e=document.head||document.getElementsByTagName("head")[0],n=document.createElement("style");n.type="text/css",e.appendChild(n),n.styleSheet?n.styleSheet.cssText=t:n.appendChild(document.createTextNode(t))}const eA=t=>{switch(t){case"success":return rA;case"info":return sA;case"warning":return iA;case"error":return oA;default:return null}},tA=Array(12).fill(0),nA=({visible:t,className:e})=>ae.createElement("div",{className:["sonner-loading-wrapper",e].filter(Boolean).join(" "),"data-visible":t},ae.createElement("div",{className:"sonner-spinner"},tA.map((n,i)=>ae.createElement("div",{className:"sonner-loading-bar",key:`spinner-bar-${i}`})))),rA=ae.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},ae.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.857-9.809a.75.75 0 00-1.214-.882l-3.483 4.79-1.88-1.88a.75.75 0 10-1.06 1.061l2.5 2.5a.75.75 0 001.137-.089l4-5.5z",clipRule:"evenodd"})),iA=ae.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",height:"20",width:"20"},ae.createElement("path",{fillRule:"evenodd",d:"M9.401 3.003c1.155-2 4.043-2 5.197 0l7.355 12.748c1.154 2-.29 4.5-2.599 4.5H4.645c-2.309 0-3.752-2.5-2.598-4.5L9.4 3.003zM12 8.25a.75.75 0 01.75.75v3.75a.75.75 0 01-1.5 0V9a.75.75 0 01.75-.75zm0 8.25a.75.75 0 100-1.5.75.75 0 000 1.5z",clipRule:"evenodd"})),sA=ae.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},ae.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a.75.75 0 000 1.5h.253a.25.25 0 01.244.304l-.459 2.066A1.75 1.75 0 0010.747 15H11a.75.75 0 000-1.5h-.253a.25.25 0 01-.244-.304l.459-2.066A1.75 1.75 0 009.253 9H9z",clipRule:"evenodd"})),oA=ae.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},ae.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-5a.75.75 0 01.75.75v4.5a.75.75 0 01-1.5 0v-4.5A.75.75 0 0110 5zm0 10a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"})),aA=ae.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"},ae.createElement("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),ae.createElement("line",{x1:"6",y1:"6",x2:"18",y2:"18"})),lA=()=>{const[t,e]=ae.useState(document.hidden);return ae.useEffect(()=>{const n=()=>{e(document.hidden)};return document.addEventListener("visibilitychange",n),()=>window.removeEventListener("visibilitychange",n)},[]),t};let pd=1;class uA{constructor(){this.subscribe=e=>(this.subscribers.push(e),()=>{const n=this.subscribers.indexOf(e);this.subscribers.splice(n,1)}),this.publish=e=>{this.subscribers.forEach(n=>n(e))},this.addToast=e=>{this.publish(e),this.toasts=[...this.toasts,e]},this.create=e=>{var n;const{message:i,...o}=e,a=typeof(e==null?void 0:e.id)=="number"||((n=e.id)==null?void 0:n.length)>0?e.id:pd++,u=this.toasts.find(d=>d.id===a),f=e.dismissible===void 0?!0:e.dismissible;return this.dismissedToasts.has(a)&&this.dismissedToasts.delete(a),u?this.toasts=this.toasts.map(d=>d.id===a?(this.publish({...d,...e,id:a,title:i}),{...d,...e,id:a,dismissible:f,title:i}):d):this.addToast({title:i,...o,dismissible:f,id:a}),a},this.dismiss=e=>(e?(this.dismissedToasts.add(e),requestAnimationFrame(()=>this.subscribers.forEach(n=>n({id:e,dismiss:!0})))):this.toasts.forEach(n=>{this.subscribers.forEach(i=>i({id:n.id,dismiss:!0}))}),e),this.message=(e,n)=>this.create({...n,message:e}),this.error=(e,n)=>this.create({...n,message:e,type:"error"}),this.success=(e,n)=>this.create({...n,type:"success",message:e}),this.info=(e,n)=>this.create({...n,type:"info",message:e}),this.warning=(e,n)=>this.create({...n,type:"warning",message:e}),this.loading=(e,n)=>this.create({...n,type:"loading",message:e}),this.promise=(e,n)=>{if(!n)return;let i;n.loading!==void 0&&(i=this.create({...n,promise:e,type:"loading",message:n.loading,description:typeof n.description!="function"?n.description:void 0}));const o=Promise.resolve(e instanceof Function?e():e);let a=i!==void 0,u;const f=o.then(async m=>{if(u=["resolve",m],ae.isValidElement(m))a=!1,this.create({id:i,type:"default",message:m});else if(hA(m)&&!m.ok){a=!1;const y=typeof n.error=="function"?await n.error(`HTTP error! status: ${m.status}`):n.error,E=typeof n.description=="function"?await n.description(`HTTP error! status: ${m.status}`):n.description,M=typeof y=="object"&&!ae.isValidElement(y)?y:{message:y};this.create({id:i,type:"error",description:E,...M})}else if(m instanceof Error){a=!1;const y=typeof n.error=="function"?await n.error(m):n.error,E=typeof n.description=="function"?await n.description(m):n.description,M=typeof y=="object"&&!ae.isValidElement(y)?y:{message:y};this.create({id:i,type:"error",description:E,...M})}else if(n.success!==void 0){a=!1;const y=typeof n.success=="function"?await n.success(m):n.success,E=typeof n.description=="function"?await n.description(m):n.description,M=typeof y=="object"&&!ae.isValidElement(y)?y:{message:y};this.create({id:i,type:"success",description:E,...M})}}).catch(async m=>{if(u=["reject",m],n.error!==void 0){a=!1;const g=typeof n.error=="function"?await n.error(m):n.error,y=typeof n.description=="function"?await n.description(m):n.description,A=typeof g=="object"&&!ae.isValidElement(g)?g:{message:g};this.create({id:i,type:"error",description:y,...A})}}).finally(()=>{a&&(this.dismiss(i),i=void 0),n.finally==null||n.finally.call(n)}),d=()=>new Promise((m,g)=>f.then(()=>u[0]==="reject"?g(u[1]):m(u[1])).catch(g));return typeof i!="string"&&typeof i!="number"?{unwrap:d}:Object.assign(i,{unwrap:d})},this.custom=(e,n)=>{const i=(n==null?void 0:n.id)||pd++;return this.create({jsx:e(i),id:i,...n}),i},this.getActiveToasts=()=>this.toasts.filter(e=>!this.dismissedToasts.has(e.id)),this.subscribers=[],this.toasts=[],this.dismissedToasts=new Set}}const wn=new uA,cA=(t,e)=>{const n=(e==null?void 0:e.id)||pd++;return wn.addToast({title:t,...e,id:n}),n},hA=t=>t&&typeof t=="object"&&"ok"in t&&typeof t.ok=="boolean"&&"status"in t&&typeof t.status=="number",fA=cA,dA=()=>wn.toasts,pA=()=>wn.getActiveToasts(),ul=Object.assign(fA,{success:wn.success,info:wn.info,warning:wn.warning,error:wn.error,custom:wn.custom,message:wn.message,promise:wn.promise,dismiss:wn.dismiss,loading:wn.loading},{getHistory:dA,getToasts:pA});Zx("[data-sonner-toaster][dir=ltr],html[dir=ltr]{--toast-icon-margin-start:-3px;--toast-icon-margin-end:4px;--toast-svg-margin-start:-1px;--toast-svg-margin-end:0px;--toast-button-margin-start:auto;--toast-button-margin-end:0;--toast-close-button-start:0;--toast-close-button-end:unset;--toast-close-button-transform:translate(-35%, -35%)}[data-sonner-toaster][dir=rtl],html[dir=rtl]{--toast-icon-margin-start:4px;--toast-icon-margin-end:-3px;--toast-svg-margin-start:0px;--toast-svg-margin-end:-1px;--toast-button-margin-start:0;--toast-button-margin-end:auto;--toast-close-button-start:unset;--toast-close-button-end:0;--toast-close-button-transform:translate(35%, -35%)}[data-sonner-toaster]{position:fixed;width:var(--width);font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;--gray1:hsl(0, 0%, 99%);--gray2:hsl(0, 0%, 97.3%);--gray3:hsl(0, 0%, 95.1%);--gray4:hsl(0, 0%, 93%);--gray5:hsl(0, 0%, 90.9%);--gray6:hsl(0, 0%, 88.7%);--gray7:hsl(0, 0%, 85.8%);--gray8:hsl(0, 0%, 78%);--gray9:hsl(0, 0%, 56.1%);--gray10:hsl(0, 0%, 52.3%);--gray11:hsl(0, 0%, 43.5%);--gray12:hsl(0, 0%, 9%);--border-radius:8px;box-sizing:border-box;padding:0;margin:0;list-style:none;outline:0;z-index:999999999;transition:transform .4s ease}@media (hover:none) and (pointer:coarse){[data-sonner-toaster][data-lifted=true]{transform:none}}[data-sonner-toaster][data-x-position=right]{right:var(--offset-right)}[data-sonner-toaster][data-x-position=left]{left:var(--offset-left)}[data-sonner-toaster][data-x-position=center]{left:50%;transform:translateX(-50%)}[data-sonner-toaster][data-y-position=top]{top:var(--offset-top)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--offset-bottom)}[data-sonner-toast]{--y:translateY(100%);--lift-amount:calc(var(--lift) * var(--gap));z-index:var(--z-index);position:absolute;opacity:0;transform:var(--y);touch-action:none;transition:transform .4s,opacity .4s,height .4s,box-shadow .2s;box-sizing:border-box;outline:0;overflow-wrap:anywhere}[data-sonner-toast][data-styled=true]{padding:16px;background:var(--normal-bg);border:1px solid var(--normal-border);color:var(--normal-text);border-radius:var(--border-radius);box-shadow:0 4px 12px rgba(0,0,0,.1);width:var(--width);font-size:13px;display:flex;align-items:center;gap:6px}[data-sonner-toast]:focus-visible{box-shadow:0 4px 12px rgba(0,0,0,.1),0 0 0 2px rgba(0,0,0,.2)}[data-sonner-toast][data-y-position=top]{top:0;--y:translateY(-100%);--lift:1;--lift-amount:calc(1 * var(--gap))}[data-sonner-toast][data-y-position=bottom]{bottom:0;--y:translateY(100%);--lift:-1;--lift-amount:calc(var(--lift) * var(--gap))}[data-sonner-toast][data-styled=true] [data-description]{font-weight:400;line-height:1.4;color:#3f3f3f}[data-rich-colors=true][data-sonner-toast][data-styled=true] [data-description]{color:inherit}[data-sonner-toaster][data-sonner-theme=dark] [data-description]{color:#e8e8e8}[data-sonner-toast][data-styled=true] [data-title]{font-weight:500;line-height:1.5;color:inherit}[data-sonner-toast][data-styled=true] [data-icon]{display:flex;height:16px;width:16px;position:relative;justify-content:flex-start;align-items:center;flex-shrink:0;margin-left:var(--toast-icon-margin-start);margin-right:var(--toast-icon-margin-end)}[data-sonner-toast][data-promise=true] [data-icon]>svg{opacity:0;transform:scale(.8);transform-origin:center;animation:sonner-fade-in .3s ease forwards}[data-sonner-toast][data-styled=true] [data-icon]>*{flex-shrink:0}[data-sonner-toast][data-styled=true] [data-icon] svg{margin-left:var(--toast-svg-margin-start);margin-right:var(--toast-svg-margin-end)}[data-sonner-toast][data-styled=true] [data-content]{display:flex;flex-direction:column;gap:2px}[data-sonner-toast][data-styled=true] [data-button]{border-radius:4px;padding-left:8px;padding-right:8px;height:24px;font-size:12px;color:var(--normal-bg);background:var(--normal-text);margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end);border:none;font-weight:500;cursor:pointer;outline:0;display:flex;align-items:center;flex-shrink:0;transition:opacity .4s,box-shadow .2s}[data-sonner-toast][data-styled=true] [data-button]:focus-visible{box-shadow:0 0 0 2px rgba(0,0,0,.4)}[data-sonner-toast][data-styled=true] [data-button]:first-of-type{margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end)}[data-sonner-toast][data-styled=true] [data-cancel]{color:var(--normal-text);background:rgba(0,0,0,.08)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast][data-styled=true] [data-cancel]{background:rgba(255,255,255,.3)}[data-sonner-toast][data-styled=true] [data-close-button]{position:absolute;left:var(--toast-close-button-start);right:var(--toast-close-button-end);top:0;height:20px;width:20px;display:flex;justify-content:center;align-items:center;padding:0;color:var(--gray12);background:var(--normal-bg);border:1px solid var(--gray4);transform:var(--toast-close-button-transform);border-radius:50%;cursor:pointer;z-index:1;transition:opacity .1s,background .2s,border-color .2s}[data-sonner-toast][data-styled=true] [data-close-button]:focus-visible{box-shadow:0 4px 12px rgba(0,0,0,.1),0 0 0 2px rgba(0,0,0,.2)}[data-sonner-toast][data-styled=true] [data-disabled=true]{cursor:not-allowed}[data-sonner-toast][data-styled=true]:hover [data-close-button]:hover{background:var(--gray2);border-color:var(--gray5)}[data-sonner-toast][data-swiping=true]::before{content:'';position:absolute;left:-100%;right:-100%;height:100%;z-index:-1}[data-sonner-toast][data-y-position=top][data-swiping=true]::before{bottom:50%;transform:scaleY(3) translateY(50%)}[data-sonner-toast][data-y-position=bottom][data-swiping=true]::before{top:50%;transform:scaleY(3) translateY(-50%)}[data-sonner-toast][data-swiping=false][data-removed=true]::before{content:'';position:absolute;inset:0;transform:scaleY(2)}[data-sonner-toast][data-expanded=true]::after{content:'';position:absolute;left:0;height:calc(var(--gap) + 1px);bottom:100%;width:100%}[data-sonner-toast][data-mounted=true]{--y:translateY(0);opacity:1}[data-sonner-toast][data-expanded=false][data-front=false]{--scale:var(--toasts-before) * 0.05 + 1;--y:translateY(calc(var(--lift-amount) * var(--toasts-before))) scale(calc(-1 * var(--scale)));height:var(--front-toast-height)}[data-sonner-toast]>*{transition:opacity .4s}[data-sonner-toast][data-x-position=right]{right:0}[data-sonner-toast][data-x-position=left]{left:0}[data-sonner-toast][data-expanded=false][data-front=false][data-styled=true]>*{opacity:0}[data-sonner-toast][data-visible=false]{opacity:0;pointer-events:none}[data-sonner-toast][data-mounted=true][data-expanded=true]{--y:translateY(calc(var(--lift) * var(--offset)));height:var(--initial-height)}[data-sonner-toast][data-removed=true][data-front=true][data-swipe-out=false]{--y:translateY(calc(var(--lift) * -100%));opacity:0}[data-sonner-toast][data-removed=true][data-front=false][data-swipe-out=false][data-expanded=true]{--y:translateY(calc(var(--lift) * var(--offset) + var(--lift) * -100%));opacity:0}[data-sonner-toast][data-removed=true][data-front=false][data-swipe-out=false][data-expanded=false]{--y:translateY(40%);opacity:0;transition:transform .5s,opacity .2s}[data-sonner-toast][data-removed=true][data-front=false]::before{height:calc(var(--initial-height) + 20%)}[data-sonner-toast][data-swiping=true]{transform:var(--y) translateY(var(--swipe-amount-y,0)) translateX(var(--swipe-amount-x,0));transition:none}[data-sonner-toast][data-swiped=true]{user-select:none}[data-sonner-toast][data-swipe-out=true][data-y-position=bottom],[data-sonner-toast][data-swipe-out=true][data-y-position=top]{animation-duration:.2s;animation-timing-function:ease-out;animation-fill-mode:forwards}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=left]{animation-name:swipe-out-left}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=right]{animation-name:swipe-out-right}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=up]{animation-name:swipe-out-up}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=down]{animation-name:swipe-out-down}@keyframes swipe-out-left{from{transform:var(--y) translateX(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translateX(calc(var(--swipe-amount-x) - 100%));opacity:0}}@keyframes swipe-out-right{from{transform:var(--y) translateX(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translateX(calc(var(--swipe-amount-x) + 100%));opacity:0}}@keyframes swipe-out-up{from{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) - 100%));opacity:0}}@keyframes swipe-out-down{from{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) + 100%));opacity:0}}@media (max-width:600px){[data-sonner-toaster]{position:fixed;right:var(--mobile-offset-right);left:var(--mobile-offset-left);width:100%}[data-sonner-toaster][dir=rtl]{left:calc(var(--mobile-offset-left) * -1)}[data-sonner-toaster] [data-sonner-toast]{left:0;right:0;width:calc(100% - var(--mobile-offset-left) * 2)}[data-sonner-toaster][data-x-position=left]{left:var(--mobile-offset-left)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--mobile-offset-bottom)}[data-sonner-toaster][data-y-position=top]{top:var(--mobile-offset-top)}[data-sonner-toaster][data-x-position=center]{left:var(--mobile-offset-left);right:var(--mobile-offset-right);transform:none}}[data-sonner-toaster][data-sonner-theme=light]{--normal-bg:#fff;--normal-border:var(--gray4);--normal-text:var(--gray12);--success-bg:hsl(143, 85%, 96%);--success-border:hsl(145, 92%, 87%);--success-text:hsl(140, 100%, 27%);--info-bg:hsl(208, 100%, 97%);--info-border:hsl(221, 91%, 93%);--info-text:hsl(210, 92%, 45%);--warning-bg:hsl(49, 100%, 97%);--warning-border:hsl(49, 91%, 84%);--warning-text:hsl(31, 92%, 45%);--error-bg:hsl(359, 100%, 97%);--error-border:hsl(359, 100%, 94%);--error-text:hsl(360, 100%, 45%)}[data-sonner-toaster][data-sonner-theme=light] [data-sonner-toast][data-invert=true]{--normal-bg:#000;--normal-border:hsl(0, 0%, 20%);--normal-text:var(--gray1)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast][data-invert=true]{--normal-bg:#fff;--normal-border:var(--gray3);--normal-text:var(--gray12)}[data-sonner-toaster][data-sonner-theme=dark]{--normal-bg:#000;--normal-bg-hover:hsl(0, 0%, 12%);--normal-border:hsl(0, 0%, 20%);--normal-border-hover:hsl(0, 0%, 25%);--normal-text:var(--gray1);--success-bg:hsl(150, 100%, 6%);--success-border:hsl(147, 100%, 12%);--success-text:hsl(150, 86%, 65%);--info-bg:hsl(215, 100%, 6%);--info-border:hsl(223, 43%, 17%);--info-text:hsl(216, 87%, 65%);--warning-bg:hsl(64, 100%, 6%);--warning-border:hsl(60, 100%, 9%);--warning-text:hsl(46, 87%, 65%);--error-bg:hsl(358, 76%, 10%);--error-border:hsl(357, 89%, 16%);--error-text:hsl(358, 100%, 81%)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast] [data-close-button]{background:var(--normal-bg);border-color:var(--normal-border);color:var(--normal-text)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast] [data-close-button]:hover{background:var(--normal-bg-hover);border-color:var(--normal-border-hover)}[data-rich-colors=true][data-sonner-toast][data-type=success]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=success] [data-close-button]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=info]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=info] [data-close-button]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning] [data-close-button]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=error]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}[data-rich-colors=true][data-sonner-toast][data-type=error] [data-close-button]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}.sonner-loading-wrapper{--size:16px;height:var(--size);width:var(--size);position:absolute;inset:0;z-index:10}.sonner-loading-wrapper[data-visible=false]{transform-origin:center;animation:sonner-fade-out .2s ease forwards}.sonner-spinner{position:relative;top:50%;left:50%;height:var(--size);width:var(--size)}.sonner-loading-bar{animation:sonner-spin 1.2s linear infinite;background:var(--gray11);border-radius:6px;height:8%;left:-10%;position:absolute;top:-3.9%;width:24%}.sonner-loading-bar:first-child{animation-delay:-1.2s;transform:rotate(.0001deg) translate(146%)}.sonner-loading-bar:nth-child(2){animation-delay:-1.1s;transform:rotate(30deg) translate(146%)}.sonner-loading-bar:nth-child(3){animation-delay:-1s;transform:rotate(60deg) translate(146%)}.sonner-loading-bar:nth-child(4){animation-delay:-.9s;transform:rotate(90deg) translate(146%)}.sonner-loading-bar:nth-child(5){animation-delay:-.8s;transform:rotate(120deg) translate(146%)}.sonner-loading-bar:nth-child(6){animation-delay:-.7s;transform:rotate(150deg) translate(146%)}.sonner-loading-bar:nth-child(7){animation-delay:-.6s;transform:rotate(180deg) translate(146%)}.sonner-loading-bar:nth-child(8){animation-delay:-.5s;transform:rotate(210deg) translate(146%)}.sonner-loading-bar:nth-child(9){animation-delay:-.4s;transform:rotate(240deg) translate(146%)}.sonner-loading-bar:nth-child(10){animation-delay:-.3s;transform:rotate(270deg) translate(146%)}.sonner-loading-bar:nth-child(11){animation-delay:-.2s;transform:rotate(300deg) translate(146%)}.sonner-loading-bar:nth-child(12){animation-delay:-.1s;transform:rotate(330deg) translate(146%)}@keyframes sonner-fade-in{0%{opacity:0;transform:scale(.8)}100%{opacity:1;transform:scale(1)}}@keyframes sonner-fade-out{0%{opacity:1;transform:scale(1)}100%{opacity:0;transform:scale(.8)}}@keyframes sonner-spin{0%{opacity:1}100%{opacity:.15}}@media (prefers-reduced-motion){.sonner-loading-bar,[data-sonner-toast],[data-sonner-toast]>*{transition:none!important;animation:none!important}}.sonner-loader{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);transform-origin:center;transition:opacity .2s,transform .2s}.sonner-loader[data-visible=false]{opacity:0;transform:scale(.8) translate(-50%,-50%)}");function rc(t){return t.label!==void 0}const mA=3,gA="24px",yA="16px",ev=4e3,vA=356,_A=14,wA=45,EA=200;function Or(...t){return t.filter(Boolean).join(" ")}function TA(t){const[e,n]=t.split("-"),i=[];return e&&i.push(e),n&&i.push(n),i}const SA=t=>{var e,n,i,o,a,u,f,d,m;const{invert:g,toast:y,unstyled:E,interacting:A,setHeights:M,visibleToasts:b,heights:k,index:O,toasts:K,expanded:B,removeToast:Z,defaultRichColors:ne,closeButton:le,style:R,cancelButtonStyle:x,actionButtonStyle:I,className:V="",descriptionClassName:D="",duration:j,position:P,gap:je,expandByDefault:Qe,classNames:Ve,icons:ve,closeButtonAriaLabel:te="Close toast"}=t,[ce,se]=ae.useState(null),[F,Y]=ae.useState(null),[ue,me]=ae.useState(!1),[we,Ie]=ae.useState(!1),[Me,Ee]=ae.useState(!1),[Be,Et]=ae.useState(!1),[Zn,Mn]=ae.useState(!1),[gr,yr]=ae.useState(0),[Zs,Qr]=ae.useState(0),Sn=ae.useRef(y.duration||j||ev),_i=ae.useRef(null),qe=ae.useRef(null),at=O===0,xn=O+1<=b,kt=y.type,Ln=y.dismissible!==!1,eo=y.className||"",vr=y.descriptionClassName||"",_r=ae.useMemo(()=>k.findIndex(Ae=>Ae.toastId===y.id)||0,[k,y.id]),wi=ae.useMemo(()=>{var Ae;return(Ae=y.closeButton)!=null?Ae:le},[y.closeButton,le]),er=ae.useMemo(()=>y.duration||j||ev,[y.duration,j]),Ei=ae.useRef(0),fn=ae.useRef(0),tr=ae.useRef(0),nr=ae.useRef(null),[wr,Ti]=P.split("-"),Si=ae.useMemo(()=>k.reduce((Ae,Ye,gt)=>gt>=_r?Ae:Ae+Ye.height,0),[k,_r]),dn=lA(),xi=y.invert||g,On=kt==="loading";fn.current=ae.useMemo(()=>_r*je+Si,[_r,Si]),ae.useEffect(()=>{Sn.current=er},[er]),ae.useEffect(()=>{me(!0)},[]),ae.useEffect(()=>{const Ae=qe.current;if(Ae){const Ye=Ae.getBoundingClientRect().height;return Qr(Ye),M(gt=>[{toastId:y.id,height:Ye,position:y.position},...gt]),()=>M(gt=>gt.filter(Mt=>Mt.toastId!==y.id))}},[M,y.id]),ae.useLayoutEffect(()=>{if(!ue)return;const Ae=qe.current,Ye=Ae.style.height;Ae.style.height="auto";const gt=Ae.getBoundingClientRect().height;Ae.style.height=Ye,Qr(gt),M(Mt=>Mt.find(dt=>dt.toastId===y.id)?Mt.map(dt=>dt.toastId===y.id?{...dt,height:gt}:dt):[{toastId:y.id,height:gt,position:y.position},...Mt])},[ue,y.title,y.description,M,y.id,y.jsx,y.action,y.cancel]);const an=ae.useCallback(()=>{Ie(!0),yr(fn.current),M(Ae=>Ae.filter(Ye=>Ye.toastId!==y.id)),setTimeout(()=>{Z(y)},EA)},[y,Z,M,fn]);ae.useEffect(()=>{if(y.promise&&kt==="loading"||y.duration===1/0||y.type==="loading")return;let Ae;return B||A||dn?(()=>{if(tr.current<Ei.current){const Mt=new Date().getTime()-Ei.current;Sn.current=Sn.current-Mt}tr.current=new Date().getTime()})():(()=>{Sn.current!==1/0&&(Ei.current=new Date().getTime(),Ae=setTimeout(()=>{y.onAutoClose==null||y.onAutoClose.call(y,y),an()},Sn.current))})(),()=>clearTimeout(Ae)},[B,A,y,kt,dn,an]),ae.useEffect(()=>{y.delete&&(an(),y.onDismiss==null||y.onDismiss.call(y,y))},[an,y.delete]);function rr(){var Ae;if(ve!=null&&ve.loading){var Ye;return ae.createElement("div",{className:Or(Ve==null?void 0:Ve.loader,y==null||(Ye=y.classNames)==null?void 0:Ye.loader,"sonner-loader"),"data-visible":kt==="loading"},ve.loading)}return ae.createElement(nA,{className:Or(Ve==null?void 0:Ve.loader,y==null||(Ae=y.classNames)==null?void 0:Ae.loader),visible:kt==="loading"})}const ir=y.icon||(ve==null?void 0:ve[kt])||eA(kt);var et,Ai;return ae.createElement("li",{tabIndex:0,ref:qe,className:Or(V,eo,Ve==null?void 0:Ve.toast,y==null||(e=y.classNames)==null?void 0:e.toast,Ve==null?void 0:Ve.default,Ve==null?void 0:Ve[kt],y==null||(n=y.classNames)==null?void 0:n[kt]),"data-sonner-toast":"","data-rich-colors":(et=y.richColors)!=null?et:ne,"data-styled":!(y.jsx||y.unstyled||E),"data-mounted":ue,"data-promise":!!y.promise,"data-swiped":Zn,"data-removed":we,"data-visible":xn,"data-y-position":wr,"data-x-position":Ti,"data-index":O,"data-front":at,"data-swiping":Me,"data-dismissible":Ln,"data-type":kt,"data-invert":xi,"data-swipe-out":Be,"data-swipe-direction":F,"data-expanded":!!(B||Qe&&ue),"data-testid":y.testId,style:{"--index":O,"--toasts-before":O,"--z-index":K.length-O,"--offset":`${we?gr:fn.current}px`,"--initial-height":Qe?"auto":`${Zs}px`,...R,...y.style},onDragEnd:()=>{Ee(!1),se(null),nr.current=null},onPointerDown:Ae=>{Ae.button!==2&&(On||!Ln||(_i.current=new Date,yr(fn.current),Ae.target.setPointerCapture(Ae.pointerId),Ae.target.tagName!=="BUTTON"&&(Ee(!0),nr.current={x:Ae.clientX,y:Ae.clientY})))},onPointerUp:()=>{var Ae,Ye,gt;if(Be||!Ln)return;nr.current=null;const Mt=Number(((Ae=qe.current)==null?void 0:Ae.style.getPropertyValue("--swipe-amount-x").replace("px",""))||0),ln=Number(((Ye=qe.current)==null?void 0:Ye.style.getPropertyValue("--swipe-amount-y").replace("px",""))||0),dt=new Date().getTime()-((gt=_i.current)==null?void 0:gt.getTime()),Tt=ce==="x"?Mt:ln,An=Math.abs(Tt)/dt;if(Math.abs(Tt)>=wA||An>.11){yr(fn.current),y.onDismiss==null||y.onDismiss.call(y,y),Y(ce==="x"?Mt>0?"right":"left":ln>0?"down":"up"),an(),Et(!0);return}else{var St,Yt;(St=qe.current)==null||St.style.setProperty("--swipe-amount-x","0px"),(Yt=qe.current)==null||Yt.style.setProperty("--swipe-amount-y","0px")}Mn(!1),Ee(!1),se(null)},onPointerMove:Ae=>{var Ye,gt,Mt;if(!nr.current||!Ln||((Ye=window.getSelection())==null?void 0:Ye.toString().length)>0)return;const dt=Ae.clientY-nr.current.y,Tt=Ae.clientX-nr.current.x;var An;const St=(An=t.swipeDirections)!=null?An:TA(P);!ce&&(Math.abs(Tt)>1||Math.abs(dt)>1)&&se(Math.abs(Tt)>Math.abs(dt)?"x":"y");let Yt={x:0,y:0};const Fn=Lt=>1/(1.5+Math.abs(Lt)/20);if(ce==="y"){if(St.includes("top")||St.includes("bottom"))if(St.includes("top")&&dt<0||St.includes("bottom")&&dt>0)Yt.y=dt;else{const Lt=dt*Fn(dt);Yt.y=Math.abs(Lt)<Math.abs(dt)?Lt:dt}}else if(ce==="x"&&(St.includes("left")||St.includes("right")))if(St.includes("left")&&Tt<0||St.includes("right")&&Tt>0)Yt.x=Tt;else{const Lt=Tt*Fn(Tt);Yt.x=Math.abs(Lt)<Math.abs(Tt)?Lt:Tt}(Math.abs(Yt.x)>0||Math.abs(Yt.y)>0)&&Mn(!0),(gt=qe.current)==null||gt.style.setProperty("--swipe-amount-x",`${Yt.x}px`),(Mt=qe.current)==null||Mt.style.setProperty("--swipe-amount-y",`${Yt.y}px`)}},wi&&!y.jsx&&kt!=="loading"?ae.createElement("button",{"aria-label":te,"data-disabled":On,"data-close-button":!0,onClick:On||!Ln?()=>{}:()=>{an(),y.onDismiss==null||y.onDismiss.call(y,y)},className:Or(Ve==null?void 0:Ve.closeButton,y==null||(i=y.classNames)==null?void 0:i.closeButton)},(Ai=ve==null?void 0:ve.close)!=null?Ai:aA):null,(kt||y.icon||y.promise)&&y.icon!==null&&((ve==null?void 0:ve[kt])!==null||y.icon)?ae.createElement("div",{"data-icon":"",className:Or(Ve==null?void 0:Ve.icon,y==null||(o=y.classNames)==null?void 0:o.icon)},y.promise||y.type==="loading"&&!y.icon?y.icon||rr():null,y.type!=="loading"?ir:null):null,ae.createElement("div",{"data-content":"",className:Or(Ve==null?void 0:Ve.content,y==null||(a=y.classNames)==null?void 0:a.content)},ae.createElement("div",{"data-title":"",className:Or(Ve==null?void 0:Ve.title,y==null||(u=y.classNames)==null?void 0:u.title)},y.jsx?y.jsx:typeof y.title=="function"?y.title():y.title),y.description?ae.createElement("div",{"data-description":"",className:Or(D,vr,Ve==null?void 0:Ve.description,y==null||(f=y.classNames)==null?void 0:f.description)},typeof y.description=="function"?y.description():y.description):null),ae.isValidElement(y.cancel)?y.cancel:y.cancel&&rc(y.cancel)?ae.createElement("button",{"data-button":!0,"data-cancel":!0,style:y.cancelButtonStyle||x,onClick:Ae=>{rc(y.cancel)&&Ln&&(y.cancel.onClick==null||y.cancel.onClick.call(y.cancel,Ae),an())},className:Or(Ve==null?void 0:Ve.cancelButton,y==null||(d=y.classNames)==null?void 0:d.cancelButton)},y.cancel.label):null,ae.isValidElement(y.action)?y.action:y.action&&rc(y.action)?ae.createElement("button",{"data-button":!0,"data-action":!0,style:y.actionButtonStyle||I,onClick:Ae=>{rc(y.action)&&(y.action.onClick==null||y.action.onClick.call(y.action,Ae),!Ae.defaultPrevented&&an())},className:Or(Ve==null?void 0:Ve.actionButton,y==null||(m=y.classNames)==null?void 0:m.actionButton)},y.action.label):null)};function tv(){if(typeof window>"u"||typeof document>"u")return"ltr";const t=document.documentElement.getAttribute("dir");return t==="auto"||!t?window.getComputedStyle(document.documentElement).direction:t}function xA(t,e){const n={};return[t,e].forEach((i,o)=>{const a=o===1,u=a?"--mobile-offset":"--offset",f=a?yA:gA;function d(m){["top","right","bottom","left"].forEach(g=>{n[`${u}-${g}`]=typeof m=="number"?`${m}px`:m})}typeof i=="number"||typeof i=="string"?d(i):typeof i=="object"?["top","right","bottom","left"].forEach(m=>{i[m]===void 0?n[`${u}-${m}`]=f:n[`${u}-${m}`]=typeof i[m]=="number"?`${i[m]}px`:i[m]}):d(f)}),n}const AA=ae.forwardRef(function(e,n){const{id:i,invert:o,position:a="bottom-right",hotkey:u=["altKey","KeyT"],expand:f,closeButton:d,className:m,offset:g,mobileOffset:y,theme:E="light",richColors:A,duration:M,style:b,visibleToasts:k=mA,toastOptions:O,dir:K=tv(),gap:B=_A,icons:Z,containerAriaLabel:ne="Notifications"}=e,[le,R]=ae.useState([]),x=ae.useMemo(()=>i?le.filter(ue=>ue.toasterId===i):le.filter(ue=>!ue.toasterId),[le,i]),I=ae.useMemo(()=>Array.from(new Set([a].concat(x.filter(ue=>ue.position).map(ue=>ue.position)))),[x,a]),[V,D]=ae.useState([]),[j,P]=ae.useState(!1),[je,Qe]=ae.useState(!1),[Ve,ve]=ae.useState(E!=="system"?E:typeof window<"u"&&window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"),te=ae.useRef(null),ce=u.join("+").replace(/Key/g,"").replace(/Digit/g,""),se=ae.useRef(null),F=ae.useRef(!1),Y=ae.useCallback(ue=>{R(me=>{var we;return(we=me.find(Ie=>Ie.id===ue.id))!=null&&we.delete||wn.dismiss(ue.id),me.filter(({id:Ie})=>Ie!==ue.id)})},[]);return ae.useEffect(()=>wn.subscribe(ue=>{if(ue.dismiss){requestAnimationFrame(()=>{R(me=>me.map(we=>we.id===ue.id?{...we,delete:!0}:we))});return}setTimeout(()=>{Jx.flushSync(()=>{R(me=>{const we=me.findIndex(Ie=>Ie.id===ue.id);return we!==-1?[...me.slice(0,we),{...me[we],...ue},...me.slice(we+1)]:[ue,...me]})})})}),[le]),ae.useEffect(()=>{if(E!=="system"){ve(E);return}if(E==="system"&&(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?ve("dark"):ve("light")),typeof window>"u")return;const ue=window.matchMedia("(prefers-color-scheme: dark)");try{ue.addEventListener("change",({matches:me})=>{ve(me?"dark":"light")})}catch{ue.addListener(({matches:we})=>{try{ve(we?"dark":"light")}catch(Ie){console.error(Ie)}})}},[E]),ae.useEffect(()=>{le.length<=1&&P(!1)},[le]),ae.useEffect(()=>{const ue=me=>{var we;if(u.every(Ee=>me[Ee]||me.code===Ee)){var Me;P(!0),(Me=te.current)==null||Me.focus()}me.code==="Escape"&&(document.activeElement===te.current||(we=te.current)!=null&&we.contains(document.activeElement))&&P(!1)};return document.addEventListener("keydown",ue),()=>document.removeEventListener("keydown",ue)},[u]),ae.useEffect(()=>{if(te.current)return()=>{se.current&&(se.current.focus({preventScroll:!0}),se.current=null,F.current=!1)}},[te.current]),ae.createElement("section",{ref:n,"aria-label":`${ne} ${ce}`,tabIndex:-1,"aria-live":"polite","aria-relevant":"additions text","aria-atomic":"false",suppressHydrationWarning:!0},I.map((ue,me)=>{var we;const[Ie,Me]=ue.split("-");return x.length?ae.createElement("ol",{key:ue,dir:K==="auto"?tv():K,tabIndex:-1,ref:te,className:m,"data-sonner-toaster":!0,"data-sonner-theme":Ve,"data-y-position":Ie,"data-x-position":Me,style:{"--front-toast-height":`${((we=V[0])==null?void 0:we.height)||0}px`,"--width":`${vA}px`,"--gap":`${B}px`,...b,...xA(g,y)},onBlur:Ee=>{F.current&&!Ee.currentTarget.contains(Ee.relatedTarget)&&(F.current=!1,se.current&&(se.current.focus({preventScroll:!0}),se.current=null))},onFocus:Ee=>{Ee.target instanceof HTMLElement&&Ee.target.dataset.dismissible==="false"||F.current||(F.current=!0,se.current=Ee.relatedTarget)},onMouseEnter:()=>P(!0),onMouseMove:()=>P(!0),onMouseLeave:()=>{je||P(!1)},onDragEnd:()=>P(!1),onPointerDown:Ee=>{Ee.target instanceof HTMLElement&&Ee.target.dataset.dismissible==="false"||Qe(!0)},onPointerUp:()=>Qe(!1)},x.filter(Ee=>!Ee.position&&me===0||Ee.position===ue).map((Ee,Be)=>{var Et,Zn;return ae.createElement(SA,{key:Ee.id,icons:Z,index:Be,toast:Ee,defaultRichColors:A,duration:(Et=O==null?void 0:O.duration)!=null?Et:M,className:O==null?void 0:O.className,descriptionClassName:O==null?void 0:O.descriptionClassName,invert:o,visibleToasts:k,closeButton:(Zn=O==null?void 0:O.closeButton)!=null?Zn:d,interacting:je,position:ue,style:O==null?void 0:O.style,unstyled:O==null?void 0:O.unstyled,classNames:O==null?void 0:O.classNames,cancelButtonStyle:O==null?void 0:O.cancelButtonStyle,actionButtonStyle:O==null?void 0:O.actionButtonStyle,closeButtonAriaLabel:O==null?void 0:O.closeButtonAriaLabel,removeToast:Y,toasts:x.filter(Mn=>Mn.position==Ee.position),heights:V.filter(Mn=>Mn.position==Ee.position),setHeights:D,expandByDefault:f,gap:B,expanded:j,swipeDirections:e.swipeDirections})})):null}))}),H_=U.createContext({});function W_(t){const e=U.useRef(null);return e.current===null&&(e.current=t()),e.current}const pp=typeof window<"u",q_=pp?U.useLayoutEffect:U.useEffect,mp=U.createContext(null);function gp(t,e){t.indexOf(e)===-1&&t.push(e)}function yp(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}const di=(t,e,n)=>n>e?e:n<t?t:n;let vp=()=>{};const pi={},K_=t=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(t);function G_(t){return typeof t=="object"&&t!==null}const Q_=t=>/^0[^.\s]+$/u.test(t);function _p(t){let e;return()=>(e===void 0&&(e=t()),e)}const Jn=t=>t,IA=(t,e)=>n=>e(t(n)),jl=(...t)=>t.reduce(IA),El=(t,e,n)=>{const i=e-t;return i===0?1:(n-t)/i};class wp{constructor(){this.subscriptions=[]}add(e){return gp(this.subscriptions,e),()=>yp(this.subscriptions,e)}notify(e,n,i){const o=this.subscriptions.length;if(o)if(o===1)this.subscriptions[0](e,n,i);else for(let a=0;a<o;a++){const u=this.subscriptions[a];u&&u(e,n,i)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const jr=t=>t*1e3,Xn=t=>t/1e3;function Y_(t,e){return e?t*(1e3/e):0}const X_=(t,e,n)=>(((1-3*n+3*e)*t+(3*n-6*e))*t+3*e)*t,CA=1e-7,PA=12;function RA(t,e,n,i,o){let a,u,f=0;do u=e+(n-e)/2,a=X_(u,i,o)-t,a>0?n=u:e=u;while(Math.abs(a)>CA&&++f<PA);return u}function Bl(t,e,n,i){if(t===e&&n===i)return Jn;const o=a=>RA(a,0,1,t,n);return a=>a===0||a===1?a:X_(o(a),e,i)}const J_=t=>e=>e<=.5?t(2*e)/2:(2-t(2*(1-e)))/2,Z_=t=>e=>1-t(1-e),ew=Bl(.33,1.53,.69,.99),Ep=Z_(ew),tw=J_(Ep),nw=t=>(t*=2)<1?.5*Ep(t):.5*(2-Math.pow(2,-10*(t-1))),Tp=t=>1-Math.sin(Math.acos(t)),rw=Z_(Tp),iw=J_(Tp),kA=Bl(.42,0,1,1),VA=Bl(0,0,.58,1),sw=Bl(.42,0,.58,1),bA=t=>Array.isArray(t)&&typeof t[0]!="number",ow=t=>Array.isArray(t)&&typeof t[0]=="number",DA={linear:Jn,easeIn:kA,easeInOut:sw,easeOut:VA,circIn:Tp,circInOut:iw,circOut:rw,backIn:Ep,backInOut:tw,backOut:ew,anticipate:nw},NA=t=>typeof t=="string",nv=t=>{if(ow(t)){vp(t.length===4);const[e,n,i,o]=t;return Bl(e,n,i,o)}else if(NA(t))return DA[t];return t},ic=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"];function MA(t,e){let n=new Set,i=new Set,o=!1,a=!1;const u=new WeakSet;let f={delta:0,timestamp:0,isProcessing:!1};function d(g){u.has(g)&&(m.schedule(g),t()),g(f)}const m={schedule:(g,y=!1,E=!1)=>{const M=E&&o?n:i;return y&&u.add(g),M.has(g)||M.add(g),g},cancel:g=>{i.delete(g),u.delete(g)},process:g=>{if(f=g,o){a=!0;return}o=!0,[n,i]=[i,n],n.forEach(d),n.clear(),o=!1,a&&(a=!1,m.process(g))}};return m}const LA=40;function aw(t,e){let n=!1,i=!0;const o={delta:0,timestamp:0,isProcessing:!1},a=()=>n=!0,u=ic.reduce((B,Z)=>(B[Z]=MA(a),B),{}),{setup:f,read:d,resolveKeyframes:m,preUpdate:g,update:y,preRender:E,render:A,postRender:M}=u,b=()=>{const B=pi.useManualTiming?o.timestamp:performance.now();n=!1,pi.useManualTiming||(o.delta=i?1e3/60:Math.max(Math.min(B-o.timestamp,LA),1)),o.timestamp=B,o.isProcessing=!0,f.process(o),d.process(o),m.process(o),g.process(o),y.process(o),E.process(o),A.process(o),M.process(o),o.isProcessing=!1,n&&e&&(i=!1,t(b))},k=()=>{n=!0,i=!0,o.isProcessing||t(b)};return{schedule:ic.reduce((B,Z)=>{const ne=u[Z];return B[Z]=(le,R=!1,x=!1)=>(n||k(),ne.schedule(le,R,x)),B},{}),cancel:B=>{for(let Z=0;Z<ic.length;Z++)u[ic[Z]].cancel(B)},state:o,steps:u}}const{schedule:ot,cancel:es,state:qt,steps:Bf}=aw(typeof requestAnimationFrame<"u"?requestAnimationFrame:Jn,!0);let pc;function OA(){pc=void 0}const Tn={now:()=>(pc===void 0&&Tn.set(qt.isProcessing||pi.useManualTiming?qt.timestamp:performance.now()),pc),set:t=>{pc=t,queueMicrotask(OA)}},lw=t=>e=>typeof e=="string"&&e.startsWith(t),Sp=lw("--"),FA=lw("var(--"),xp=t=>FA(t)?jA.test(t.split("/*")[0].trim()):!1,jA=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,sa={test:t=>typeof t=="number",parse:parseFloat,transform:t=>t},Tl={...sa,transform:t=>di(0,1,t)},sc={...sa,default:1},cl=t=>Math.round(t*1e5)/1e5,Ap=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function BA(t){return t==null}const UA=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,Ip=(t,e)=>n=>!!(typeof n=="string"&&UA.test(n)&&n.startsWith(t)||e&&!BA(n)&&Object.prototype.hasOwnProperty.call(n,e)),uw=(t,e,n)=>i=>{if(typeof i!="string")return i;const[o,a,u,f]=i.match(Ap);return{[t]:parseFloat(o),[e]:parseFloat(a),[n]:parseFloat(u),alpha:f!==void 0?parseFloat(f):1}},zA=t=>di(0,255,t),Uf={...sa,transform:t=>Math.round(zA(t))},Fs={test:Ip("rgb","red"),parse:uw("red","green","blue"),transform:({red:t,green:e,blue:n,alpha:i=1})=>"rgba("+Uf.transform(t)+", "+Uf.transform(e)+", "+Uf.transform(n)+", "+cl(Tl.transform(i))+")"};function $A(t){let e="",n="",i="",o="";return t.length>5?(e=t.substring(1,3),n=t.substring(3,5),i=t.substring(5,7),o=t.substring(7,9)):(e=t.substring(1,2),n=t.substring(2,3),i=t.substring(3,4),o=t.substring(4,5),e+=e,n+=n,i+=i,o+=o),{red:parseInt(e,16),green:parseInt(n,16),blue:parseInt(i,16),alpha:o?parseInt(o,16)/255:1}}const md={test:Ip("#"),parse:$A,transform:Fs.transform},Ul=t=>({test:e=>typeof e=="string"&&e.endsWith(t)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${t}`}),qi=Ul("deg"),Br=Ul("%"),Pe=Ul("px"),HA=Ul("vh"),WA=Ul("vw"),rv={...Br,parse:t=>Br.parse(t)/100,transform:t=>Br.transform(t*100)},Bo={test:Ip("hsl","hue"),parse:uw("hue","saturation","lightness"),transform:({hue:t,saturation:e,lightness:n,alpha:i=1})=>"hsla("+Math.round(t)+", "+Br.transform(cl(e))+", "+Br.transform(cl(n))+", "+cl(Tl.transform(i))+")"},Ct={test:t=>Fs.test(t)||md.test(t)||Bo.test(t),parse:t=>Fs.test(t)?Fs.parse(t):Bo.test(t)?Bo.parse(t):md.parse(t),transform:t=>typeof t=="string"?t:t.hasOwnProperty("red")?Fs.transform(t):Bo.transform(t),getAnimatableNone:t=>{const e=Ct.parse(t);return e.alpha=0,Ct.transform(e)}},qA=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function KA(t){var e,n;return isNaN(t)&&typeof t=="string"&&(((e=t.match(Ap))==null?void 0:e.length)||0)+(((n=t.match(qA))==null?void 0:n.length)||0)>0}const cw="number",hw="color",GA="var",QA="var(",iv="${}",YA=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function Sl(t){const e=t.toString(),n=[],i={color:[],number:[],var:[]},o=[];let a=0;const f=e.replace(YA,d=>(Ct.test(d)?(i.color.push(a),o.push(hw),n.push(Ct.parse(d))):d.startsWith(QA)?(i.var.push(a),o.push(GA),n.push(d)):(i.number.push(a),o.push(cw),n.push(parseFloat(d))),++a,iv)).split(iv);return{values:n,split:f,indexes:i,types:o}}function fw(t){return Sl(t).values}function dw(t){const{split:e,types:n}=Sl(t),i=e.length;return o=>{let a="";for(let u=0;u<i;u++)if(a+=e[u],o[u]!==void 0){const f=n[u];f===cw?a+=cl(o[u]):f===hw?a+=Ct.transform(o[u]):a+=o[u]}return a}}const XA=t=>typeof t=="number"?0:Ct.test(t)?Ct.getAnimatableNone(t):t;function JA(t){const e=fw(t);return dw(t)(e.map(XA))}const ts={test:KA,parse:fw,createTransformer:dw,getAnimatableNone:JA};function zf(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+(e-t)*6*n:n<1/2?e:n<2/3?t+(e-t)*(2/3-n)*6:t}function ZA({hue:t,saturation:e,lightness:n,alpha:i}){t/=360,e/=100,n/=100;let o=0,a=0,u=0;if(!e)o=a=u=n;else{const f=n<.5?n*(1+e):n+e-n*e,d=2*n-f;o=zf(d,f,t+1/3),a=zf(d,f,t),u=zf(d,f,t-1/3)}return{red:Math.round(o*255),green:Math.round(a*255),blue:Math.round(u*255),alpha:i}}function Ac(t,e){return n=>n>0?e:t}const ct=(t,e,n)=>t+(e-t)*n,$f=(t,e,n)=>{const i=t*t,o=n*(e*e-i)+i;return o<0?0:Math.sqrt(o)},eI=[md,Fs,Bo],tI=t=>eI.find(e=>e.test(t));function sv(t){const e=tI(t);if(!e)return!1;let n=e.parse(t);return e===Bo&&(n=ZA(n)),n}const ov=(t,e)=>{const n=sv(t),i=sv(e);if(!n||!i)return Ac(t,e);const o={...n};return a=>(o.red=$f(n.red,i.red,a),o.green=$f(n.green,i.green,a),o.blue=$f(n.blue,i.blue,a),o.alpha=ct(n.alpha,i.alpha,a),Fs.transform(o))},gd=new Set(["none","hidden"]);function nI(t,e){return gd.has(t)?n=>n<=0?t:e:n=>n>=1?e:t}function rI(t,e){return n=>ct(t,e,n)}function Cp(t){return typeof t=="number"?rI:typeof t=="string"?xp(t)?Ac:Ct.test(t)?ov:oI:Array.isArray(t)?pw:typeof t=="object"?Ct.test(t)?ov:iI:Ac}function pw(t,e){const n=[...t],i=n.length,o=t.map((a,u)=>Cp(a)(a,e[u]));return a=>{for(let u=0;u<i;u++)n[u]=o[u](a);return n}}function iI(t,e){const n={...t,...e},i={};for(const o in n)t[o]!==void 0&&e[o]!==void 0&&(i[o]=Cp(t[o])(t[o],e[o]));return o=>{for(const a in i)n[a]=i[a](o);return n}}function sI(t,e){const n=[],i={color:0,var:0,number:0};for(let o=0;o<e.values.length;o++){const a=e.types[o],u=t.indexes[a][i[a]],f=t.values[u]??0;n[o]=f,i[a]++}return n}const oI=(t,e)=>{const n=ts.createTransformer(e),i=Sl(t),o=Sl(e);return i.indexes.var.length===o.indexes.var.length&&i.indexes.color.length===o.indexes.color.length&&i.indexes.number.length>=o.indexes.number.length?gd.has(t)&&!o.values.length||gd.has(e)&&!i.values.length?nI(t,e):jl(pw(sI(i,o),o.values),n):Ac(t,e)};function mw(t,e,n){return typeof t=="number"&&typeof e=="number"&&typeof n=="number"?ct(t,e,n):Cp(t)(t,e)}const aI=t=>{const e=({timestamp:n})=>t(n);return{start:(n=!0)=>ot.update(e,n),stop:()=>es(e),now:()=>qt.isProcessing?qt.timestamp:Tn.now()}},gw=(t,e,n=10)=>{let i="";const o=Math.max(Math.round(e/n),2);for(let a=0;a<o;a++)i+=Math.round(t(a/(o-1))*1e4)/1e4+", ";return`linear(${i.substring(0,i.length-2)})`},Ic=2e4;function Pp(t){let e=0;const n=50;let i=t.next(e);for(;!i.done&&e<Ic;)e+=n,i=t.next(e);return e>=Ic?1/0:e}function lI(t,e=100,n){const i=n({...t,keyframes:[0,e]}),o=Math.min(Pp(i),Ic);return{type:"keyframes",ease:a=>i.next(o*a).value/e,duration:Xn(o)}}const uI=5;function yw(t,e,n){const i=Math.max(e-uI,0);return Y_(n-t(i),e-i)}const mt={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},Hf=.001;function cI({duration:t=mt.duration,bounce:e=mt.bounce,velocity:n=mt.velocity,mass:i=mt.mass}){let o,a,u=1-e;u=di(mt.minDamping,mt.maxDamping,u),t=di(mt.minDuration,mt.maxDuration,Xn(t)),u<1?(o=m=>{const g=m*u,y=g*t,E=g-n,A=yd(m,u),M=Math.exp(-y);return Hf-E/A*M},a=m=>{const y=m*u*t,E=y*n+n,A=Math.pow(u,2)*Math.pow(m,2)*t,M=Math.exp(-y),b=yd(Math.pow(m,2),u);return(-o(m)+Hf>0?-1:1)*((E-A)*M)/b}):(o=m=>{const g=Math.exp(-m*t),y=(m-n)*t+1;return-Hf+g*y},a=m=>{const g=Math.exp(-m*t),y=(n-m)*(t*t);return g*y});const f=5/t,d=fI(o,a,f);if(t=jr(t),isNaN(d))return{stiffness:mt.stiffness,damping:mt.damping,duration:t};{const m=Math.pow(d,2)*i;return{stiffness:m,damping:u*2*Math.sqrt(i*m),duration:t}}}const hI=12;function fI(t,e,n){let i=n;for(let o=1;o<hI;o++)i=i-t(i)/e(i);return i}function yd(t,e){return t*Math.sqrt(1-e*e)}const dI=["duration","bounce"],pI=["stiffness","damping","mass"];function av(t,e){return e.some(n=>t[n]!==void 0)}function mI(t){let e={velocity:mt.velocity,stiffness:mt.stiffness,damping:mt.damping,mass:mt.mass,isResolvedFromDuration:!1,...t};if(!av(t,pI)&&av(t,dI))if(t.visualDuration){const n=t.visualDuration,i=2*Math.PI/(n*1.2),o=i*i,a=2*di(.05,1,1-(t.bounce||0))*Math.sqrt(o);e={...e,mass:mt.mass,stiffness:o,damping:a}}else{const n=cI(t);e={...e,...n,mass:mt.mass},e.isResolvedFromDuration=!0}return e}function Cc(t=mt.visualDuration,e=mt.bounce){const n=typeof t!="object"?{visualDuration:t,keyframes:[0,1],bounce:e}:t;let{restSpeed:i,restDelta:o}=n;const a=n.keyframes[0],u=n.keyframes[n.keyframes.length-1],f={done:!1,value:a},{stiffness:d,damping:m,mass:g,duration:y,velocity:E,isResolvedFromDuration:A}=mI({...n,velocity:-Xn(n.velocity||0)}),M=E||0,b=m/(2*Math.sqrt(d*g)),k=u-a,O=Xn(Math.sqrt(d/g)),K=Math.abs(k)<5;i||(i=K?mt.restSpeed.granular:mt.restSpeed.default),o||(o=K?mt.restDelta.granular:mt.restDelta.default);let B;if(b<1){const ne=yd(O,b);B=le=>{const R=Math.exp(-b*O*le);return u-R*((M+b*O*k)/ne*Math.sin(ne*le)+k*Math.cos(ne*le))}}else if(b===1)B=ne=>u-Math.exp(-O*ne)*(k+(M+O*k)*ne);else{const ne=O*Math.sqrt(b*b-1);B=le=>{const R=Math.exp(-b*O*le),x=Math.min(ne*le,300);return u-R*((M+b*O*k)*Math.sinh(x)+ne*k*Math.cosh(x))/ne}}const Z={calculatedDuration:A&&y||null,next:ne=>{const le=B(ne);if(A)f.done=ne>=y;else{let R=ne===0?M:0;b<1&&(R=ne===0?jr(M):yw(B,ne,le));const x=Math.abs(R)<=i,I=Math.abs(u-le)<=o;f.done=x&&I}return f.value=f.done?u:le,f},toString:()=>{const ne=Math.min(Pp(Z),Ic),le=gw(R=>Z.next(ne*R).value,ne,30);return ne+"ms "+le},toTransition:()=>{}};return Z}Cc.applyToOptions=t=>{const e=lI(t,100,Cc);return t.ease=e.ease,t.duration=jr(e.duration),t.type="keyframes",t};function vd({keyframes:t,velocity:e=0,power:n=.8,timeConstant:i=325,bounceDamping:o=10,bounceStiffness:a=500,modifyTarget:u,min:f,max:d,restDelta:m=.5,restSpeed:g}){const y=t[0],E={done:!1,value:y},A=x=>f!==void 0&&x<f||d!==void 0&&x>d,M=x=>f===void 0?d:d===void 0||Math.abs(f-x)<Math.abs(d-x)?f:d;let b=n*e;const k=y+b,O=u===void 0?k:u(k);O!==k&&(b=O-y);const K=x=>-b*Math.exp(-x/i),B=x=>O+K(x),Z=x=>{const I=K(x),V=B(x);E.done=Math.abs(I)<=m,E.value=E.done?O:V};let ne,le;const R=x=>{A(E.value)&&(ne=x,le=Cc({keyframes:[E.value,M(E.value)],velocity:yw(B,x,E.value),damping:o,stiffness:a,restDelta:m,restSpeed:g}))};return R(0),{calculatedDuration:null,next:x=>{let I=!1;return!le&&ne===void 0&&(I=!0,Z(x),R(x)),ne!==void 0&&x>=ne?le.next(x-ne):(!I&&Z(x),E)}}}function gI(t,e,n){const i=[],o=n||pi.mix||mw,a=t.length-1;for(let u=0;u<a;u++){let f=o(t[u],t[u+1]);if(e){const d=Array.isArray(e)?e[u]||Jn:e;f=jl(d,f)}i.push(f)}return i}function yI(t,e,{clamp:n=!0,ease:i,mixer:o}={}){const a=t.length;if(vp(a===e.length),a===1)return()=>e[0];if(a===2&&e[0]===e[1])return()=>e[1];const u=t[0]===t[1];t[0]>t[a-1]&&(t=[...t].reverse(),e=[...e].reverse());const f=gI(e,i,o),d=f.length,m=g=>{if(u&&g<t[0])return e[0];let y=0;if(d>1)for(;y<t.length-2&&!(g<t[y+1]);y++);const E=El(t[y],t[y+1],g);return f[y](E)};return n?g=>m(di(t[0],t[a-1],g)):m}function vI(t,e){const n=t[t.length-1];for(let i=1;i<=e;i++){const o=El(0,e,i);t.push(ct(n,1,o))}}function _I(t){const e=[0];return vI(e,t.length-1),e}function wI(t,e){return t.map(n=>n*e)}function EI(t,e){return t.map(()=>e||sw).splice(0,t.length-1)}function hl({duration:t=300,keyframes:e,times:n,ease:i="easeInOut"}){const o=bA(i)?i.map(nv):nv(i),a={done:!1,value:e[0]},u=wI(n&&n.length===e.length?n:_I(e),t),f=yI(u,e,{ease:Array.isArray(o)?o:EI(e,o)});return{calculatedDuration:t,next:d=>(a.value=f(d),a.done=d>=t,a)}}const TI=t=>t!==null;function Rp(t,{repeat:e,repeatType:n="loop"},i,o=1){const a=t.filter(TI),f=o<0||e&&n!=="loop"&&e%2===1?0:a.length-1;return!f||i===void 0?a[f]:i}const SI={decay:vd,inertia:vd,tween:hl,keyframes:hl,spring:Cc};function vw(t){typeof t.type=="string"&&(t.type=SI[t.type])}class kp{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(e=>{this.resolve=e})}notifyFinished(){this.resolve()}then(e,n){return this.finished.then(e,n)}}const xI=t=>t/100;class Vp extends kp{constructor(e){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{var i,o;const{motionValue:n}=this.options;n&&n.updatedAt!==Tn.now()&&this.tick(Tn.now()),this.isStopped=!0,this.state!=="idle"&&(this.teardown(),(o=(i=this.options).onStop)==null||o.call(i))},this.options=e,this.initAnimation(),this.play(),e.autoplay===!1&&this.pause()}initAnimation(){const{options:e}=this;vw(e);const{type:n=hl,repeat:i=0,repeatDelay:o=0,repeatType:a,velocity:u=0}=e;let{keyframes:f}=e;const d=n||hl;d!==hl&&typeof f[0]!="number"&&(this.mixKeyframes=jl(xI,mw(f[0],f[1])),f=[0,100]);const m=d({...e,keyframes:f});a==="mirror"&&(this.mirroredGenerator=d({...e,keyframes:[...f].reverse(),velocity:-u})),m.calculatedDuration===null&&(m.calculatedDuration=Pp(m));const{calculatedDuration:g}=m;this.calculatedDuration=g,this.resolvedDuration=g+o,this.totalDuration=this.resolvedDuration*(i+1)-o,this.generator=m}updateTime(e){const n=Math.round(e-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=n}tick(e,n=!1){const{generator:i,totalDuration:o,mixKeyframes:a,mirroredGenerator:u,resolvedDuration:f,calculatedDuration:d}=this;if(this.startTime===null)return i.next(0);const{delay:m=0,keyframes:g,repeat:y,repeatType:E,repeatDelay:A,type:M,onUpdate:b,finalKeyframe:k}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,e):this.speed<0&&(this.startTime=Math.min(e-o/this.speed,this.startTime)),n?this.currentTime=e:this.updateTime(e);const O=this.currentTime-m*(this.playbackSpeed>=0?1:-1),K=this.playbackSpeed>=0?O<0:O>o;this.currentTime=Math.max(O,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=o);let B=this.currentTime,Z=i;if(y){const x=Math.min(this.currentTime,o)/f;let I=Math.floor(x),V=x%1;!V&&x>=1&&(V=1),V===1&&I--,I=Math.min(I,y+1),!!(I%2)&&(E==="reverse"?(V=1-V,A&&(V-=A/f)):E==="mirror"&&(Z=u)),B=di(0,1,V)*f}const ne=K?{done:!1,value:g[0]}:Z.next(B);a&&(ne.value=a(ne.value));let{done:le}=ne;!K&&d!==null&&(le=this.playbackSpeed>=0?this.currentTime>=o:this.currentTime<=0);const R=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&le);return R&&M!==vd&&(ne.value=Rp(g,this.options,k,this.speed)),b&&b(ne.value),R&&this.finish(),ne}then(e,n){return this.finished.then(e,n)}get duration(){return Xn(this.calculatedDuration)}get iterationDuration(){const{delay:e=0}=this.options||{};return this.duration+Xn(e)}get time(){return Xn(this.currentTime)}set time(e){var n;e=jr(e),this.currentTime=e,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=e:this.driver&&(this.startTime=this.driver.now()-e/this.playbackSpeed),(n=this.driver)==null||n.start(!1)}get speed(){return this.playbackSpeed}set speed(e){this.updateTime(Tn.now());const n=this.playbackSpeed!==e;this.playbackSpeed=e,n&&(this.time=Xn(this.currentTime))}play(){var o,a;if(this.isStopped)return;const{driver:e=aI,startTime:n}=this.options;this.driver||(this.driver=e(u=>this.tick(u))),(a=(o=this.options).onPlay)==null||a.call(o);const i=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=i):this.holdTime!==null?this.startTime=i-this.holdTime:this.startTime||(this.startTime=n??i),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(Tn.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){var e,n;this.notifyFinished(),this.teardown(),this.state="finished",(n=(e=this.options).onComplete)==null||n.call(e)}cancel(){var e,n;this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),(n=(e=this.options).onCancel)==null||n.call(e)}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(e){return this.startTime=0,this.tick(e,!0)}attachTimeline(e){var n;return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),(n=this.driver)==null||n.stop(),e.observe(this)}}function AI(t){for(let e=1;e<t.length;e++)t[e]??(t[e]=t[e-1])}const js=t=>t*180/Math.PI,_d=t=>{const e=js(Math.atan2(t[1],t[0]));return wd(e)},II={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:t=>(Math.abs(t[0])+Math.abs(t[3]))/2,rotate:_d,rotateZ:_d,skewX:t=>js(Math.atan(t[1])),skewY:t=>js(Math.atan(t[2])),skew:t=>(Math.abs(t[1])+Math.abs(t[2]))/2},wd=t=>(t=t%360,t<0&&(t+=360),t),lv=_d,uv=t=>Math.sqrt(t[0]*t[0]+t[1]*t[1]),cv=t=>Math.sqrt(t[4]*t[4]+t[5]*t[5]),CI={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:uv,scaleY:cv,scale:t=>(uv(t)+cv(t))/2,rotateX:t=>wd(js(Math.atan2(t[6],t[5]))),rotateY:t=>wd(js(Math.atan2(-t[2],t[0]))),rotateZ:lv,rotate:lv,skewX:t=>js(Math.atan(t[4])),skewY:t=>js(Math.atan(t[1])),skew:t=>(Math.abs(t[1])+Math.abs(t[4]))/2};function Ed(t){return t.includes("scale")?1:0}function Td(t,e){if(!t||t==="none")return Ed(e);const n=t.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let i,o;if(n)i=CI,o=n;else{const f=t.match(/^matrix\(([-\d.e\s,]+)\)$/u);i=II,o=f}if(!o)return Ed(e);const a=i[e],u=o[1].split(",").map(RI);return typeof a=="function"?a(u):u[a]}const PI=(t,e)=>{const{transform:n="none"}=getComputedStyle(t);return Td(n,e)};function RI(t){return parseFloat(t.trim())}const oa=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],aa=new Set(oa),hv=t=>t===sa||t===Pe,kI=new Set(["x","y","z"]),VI=oa.filter(t=>!kI.has(t));function bI(t){const e=[];return VI.forEach(n=>{const i=t.getValue(n);i!==void 0&&(e.push([n,i.get()]),i.set(n.startsWith("scale")?1:0))}),e}const Us={width:({x:t},{paddingLeft:e="0",paddingRight:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),height:({y:t},{paddingTop:e="0",paddingBottom:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),top:(t,{top:e})=>parseFloat(e),left:(t,{left:e})=>parseFloat(e),bottom:({y:t},{top:e})=>parseFloat(e)+(t.max-t.min),right:({x:t},{left:e})=>parseFloat(e)+(t.max-t.min),x:(t,{transform:e})=>Td(e,"x"),y:(t,{transform:e})=>Td(e,"y")};Us.translateX=Us.x;Us.translateY=Us.y;const zs=new Set;let Sd=!1,xd=!1,Ad=!1;function _w(){if(xd){const t=Array.from(zs).filter(i=>i.needsMeasurement),e=new Set(t.map(i=>i.element)),n=new Map;e.forEach(i=>{const o=bI(i);o.length&&(n.set(i,o),i.render())}),t.forEach(i=>i.measureInitialState()),e.forEach(i=>{i.render();const o=n.get(i);o&&o.forEach(([a,u])=>{var f;(f=i.getValue(a))==null||f.set(u)})}),t.forEach(i=>i.measureEndState()),t.forEach(i=>{i.suspendedScrollY!==void 0&&window.scrollTo(0,i.suspendedScrollY)})}xd=!1,Sd=!1,zs.forEach(t=>t.complete(Ad)),zs.clear()}function ww(){zs.forEach(t=>{t.readKeyframes(),t.needsMeasurement&&(xd=!0)})}function DI(){Ad=!0,ww(),_w(),Ad=!1}class bp{constructor(e,n,i,o,a,u=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...e],this.onComplete=n,this.name=i,this.motionValue=o,this.element=a,this.isAsync=u}scheduleResolve(){this.state="scheduled",this.isAsync?(zs.add(this),Sd||(Sd=!0,ot.read(ww),ot.resolveKeyframes(_w))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:e,name:n,element:i,motionValue:o}=this;if(e[0]===null){const a=o==null?void 0:o.get(),u=e[e.length-1];if(a!==void 0)e[0]=a;else if(i&&n){const f=i.readValue(n,u);f!=null&&(e[0]=f)}e[0]===void 0&&(e[0]=u),o&&a===void 0&&o.set(e[0])}AI(e)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(e=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,e),zs.delete(this)}cancel(){this.state==="scheduled"&&(zs.delete(this),this.state="pending")}resume(){this.state==="pending"&&this.scheduleResolve()}}const NI=t=>t.startsWith("--");function MI(t,e,n){NI(e)?t.style.setProperty(e,n):t.style[e]=n}const LI=_p(()=>window.ScrollTimeline!==void 0),OI={};function FI(t,e){const n=_p(t);return()=>OI[e]??n()}const Ew=FI(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),il=([t,e,n,i])=>`cubic-bezier(${t}, ${e}, ${n}, ${i})`,fv={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:il([0,.65,.55,1]),circOut:il([.55,0,1,.45]),backIn:il([.31,.01,.66,-.59]),backOut:il([.33,1.53,.69,.99])};function Tw(t,e){if(t)return typeof t=="function"?Ew()?gw(t,e):"ease-out":ow(t)?il(t):Array.isArray(t)?t.map(n=>Tw(n,e)||fv.easeOut):fv[t]}function jI(t,e,n,{delay:i=0,duration:o=300,repeat:a=0,repeatType:u="loop",ease:f="easeOut",times:d}={},m=void 0){const g={[e]:n};d&&(g.offset=d);const y=Tw(f,o);Array.isArray(y)&&(g.easing=y);const E={delay:i,duration:o,easing:Array.isArray(y)?"linear":y,fill:"both",iterations:a+1,direction:u==="reverse"?"alternate":"normal"};return m&&(E.pseudoElement=m),t.animate(g,E)}function Sw(t){return typeof t=="function"&&"applyToOptions"in t}function BI({type:t,...e}){return Sw(t)&&Ew()?t.applyToOptions(e):(e.duration??(e.duration=300),e.ease??(e.ease="easeOut"),e)}class UI extends kp{constructor(e){if(super(),this.finishedTime=null,this.isStopped=!1,!e)return;const{element:n,name:i,keyframes:o,pseudoElement:a,allowFlatten:u=!1,finalKeyframe:f,onComplete:d}=e;this.isPseudoElement=!!a,this.allowFlatten=u,this.options=e,vp(typeof e.type!="string");const m=BI(e);this.animation=jI(n,i,o,m,a),m.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!a){const g=Rp(o,this.options,f,this.speed);this.updateMotionValue?this.updateMotionValue(g):MI(n,i,g),this.animation.cancel()}d==null||d(),this.notifyFinished()}}play(){this.isStopped||(this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){var e,n;(n=(e=this.animation).finish)==null||n.call(e)}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:e}=this;e==="idle"||e==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){var e,n;this.isPseudoElement||(n=(e=this.animation).commitStyles)==null||n.call(e)}get duration(){var n,i;const e=((i=(n=this.animation.effect)==null?void 0:n.getComputedTiming)==null?void 0:i.call(n).duration)||0;return Xn(Number(e))}get iterationDuration(){const{delay:e=0}=this.options||{};return this.duration+Xn(e)}get time(){return Xn(Number(this.animation.currentTime)||0)}set time(e){this.finishedTime=null,this.animation.currentTime=jr(e)}get speed(){return this.animation.playbackRate}set speed(e){e<0&&(this.finishedTime=null),this.animation.playbackRate=e}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return Number(this.animation.startTime)}set startTime(e){this.animation.startTime=e}attachTimeline({timeline:e,observe:n}){var i;return this.allowFlatten&&((i=this.animation.effect)==null||i.updateTiming({easing:"linear"})),this.animation.onfinish=null,e&&LI()?(this.animation.timeline=e,Jn):n(this)}}const xw={anticipate:nw,backInOut:tw,circInOut:iw};function zI(t){return t in xw}function $I(t){typeof t.ease=="string"&&zI(t.ease)&&(t.ease=xw[t.ease])}const dv=10;class HI extends UI{constructor(e){$I(e),vw(e),super(e),e.startTime&&(this.startTime=e.startTime),this.options=e}updateMotionValue(e){const{motionValue:n,onUpdate:i,onComplete:o,element:a,...u}=this.options;if(!n)return;if(e!==void 0){n.set(e);return}const f=new Vp({...u,autoplay:!1}),d=jr(this.finishedTime??this.time);n.setWithVelocity(f.sample(d-dv).value,f.sample(d).value,dv),f.stop()}}const pv=(t,e)=>e==="zIndex"?!1:!!(typeof t=="number"||Array.isArray(t)||typeof t=="string"&&(ts.test(t)||t==="0")&&!t.startsWith("url("));function WI(t){const e=t[0];if(t.length===1)return!0;for(let n=0;n<t.length;n++)if(t[n]!==e)return!0}function qI(t,e,n,i){const o=t[0];if(o===null)return!1;if(e==="display"||e==="visibility")return!0;const a=t[t.length-1],u=pv(o,e),f=pv(a,e);return!u||!f?!1:WI(t)||(n==="spring"||Sw(n))&&i}function Id(t){t.duration=0,t.type="keyframes"}const KI=new Set(["opacity","clipPath","filter","transform"]),GI=_p(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function QI(t){var g;const{motionValue:e,name:n,repeatDelay:i,repeatType:o,damping:a,type:u}=t;if(!(((g=e==null?void 0:e.owner)==null?void 0:g.current)instanceof HTMLElement))return!1;const{onUpdate:d,transformTemplate:m}=e.owner.getProps();return GI()&&n&&KI.has(n)&&(n!=="transform"||!m)&&!d&&!i&&o!=="mirror"&&a!==0&&u!=="inertia"}const YI=40;class XI extends kp{constructor({autoplay:e=!0,delay:n=0,type:i="keyframes",repeat:o=0,repeatDelay:a=0,repeatType:u="loop",keyframes:f,name:d,motionValue:m,element:g,...y}){var M;super(),this.stop=()=>{var b,k;this._animation&&(this._animation.stop(),(b=this.stopTimeline)==null||b.call(this)),(k=this.keyframeResolver)==null||k.cancel()},this.createdAt=Tn.now();const E={autoplay:e,delay:n,type:i,repeat:o,repeatDelay:a,repeatType:u,name:d,motionValue:m,element:g,...y},A=(g==null?void 0:g.KeyframeResolver)||bp;this.keyframeResolver=new A(f,(b,k,O)=>this.onKeyframesResolved(b,k,E,!O),d,m,g),(M=this.keyframeResolver)==null||M.scheduleResolve()}onKeyframesResolved(e,n,i,o){this.keyframeResolver=void 0;const{name:a,type:u,velocity:f,delay:d,isHandoff:m,onUpdate:g}=i;this.resolvedAt=Tn.now(),qI(e,a,u,f)||((pi.instantAnimations||!d)&&(g==null||g(Rp(e,i,n))),e[0]=e[e.length-1],Id(i),i.repeat=0);const E={startTime:o?this.resolvedAt?this.resolvedAt-this.createdAt>YI?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:n,...i,keyframes:e},A=!m&&QI(E)?new HI({...E,element:E.motionValue.owner.current}):new Vp(E);A.finished.then(()=>this.notifyFinished()).catch(Jn),this.pendingTimeline&&(this.stopTimeline=A.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=A}get finished(){return this._animation?this.animation.finished:this._finished}then(e,n){return this.finished.finally(e).then(()=>{})}get animation(){var e;return this._animation||((e=this.keyframeResolver)==null||e.resume(),DI()),this._animation}get duration(){return this.animation.duration}get iterationDuration(){return this.animation.iterationDuration}get time(){return this.animation.time}set time(e){this.animation.time=e}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(e){this.animation.speed=e}get startTime(){return this.animation.startTime}attachTimeline(e){return this._animation?this.stopTimeline=this.animation.attachTimeline(e):this.pendingTimeline=e,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){var e;this._animation&&this.animation.cancel(),(e=this.keyframeResolver)==null||e.cancel()}}const JI=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function ZI(t){const e=JI.exec(t);if(!e)return[,];const[,n,i,o]=e;return[`--${n??i}`,o]}function Aw(t,e,n=1){const[i,o]=ZI(t);if(!i)return;const a=window.getComputedStyle(e).getPropertyValue(i);if(a){const u=a.trim();return K_(u)?parseFloat(u):u}return xp(o)?Aw(o,e,n+1):o}function Dp(t,e){return(t==null?void 0:t[e])??(t==null?void 0:t.default)??t}const Iw=new Set(["width","height","top","left","right","bottom",...oa]),eC={test:t=>t==="auto",parse:t=>t},Cw=t=>e=>e.test(t),Pw=[sa,Pe,Br,qi,WA,HA,eC],mv=t=>Pw.find(Cw(t));function tC(t){return typeof t=="number"?t===0:t!==null?t==="none"||t==="0"||Q_(t):!0}const nC=new Set(["brightness","contrast","saturate","opacity"]);function rC(t){const[e,n]=t.slice(0,-1).split("(");if(e==="drop-shadow")return t;const[i]=n.match(Ap)||[];if(!i)return t;const o=n.replace(i,"");let a=nC.has(e)?1:0;return i!==n&&(a*=100),e+"("+a+o+")"}const iC=/\b([a-z-]*)\(.*?\)/gu,Cd={...ts,getAnimatableNone:t=>{const e=t.match(iC);return e?e.map(rC).join(" "):t}},gv={...sa,transform:Math.round},sC={rotate:qi,rotateX:qi,rotateY:qi,rotateZ:qi,scale:sc,scaleX:sc,scaleY:sc,scaleZ:sc,skew:qi,skewX:qi,skewY:qi,distance:Pe,translateX:Pe,translateY:Pe,translateZ:Pe,x:Pe,y:Pe,z:Pe,perspective:Pe,transformPerspective:Pe,opacity:Tl,originX:rv,originY:rv,originZ:Pe},Np={borderWidth:Pe,borderTopWidth:Pe,borderRightWidth:Pe,borderBottomWidth:Pe,borderLeftWidth:Pe,borderRadius:Pe,radius:Pe,borderTopLeftRadius:Pe,borderTopRightRadius:Pe,borderBottomRightRadius:Pe,borderBottomLeftRadius:Pe,width:Pe,maxWidth:Pe,height:Pe,maxHeight:Pe,top:Pe,right:Pe,bottom:Pe,left:Pe,padding:Pe,paddingTop:Pe,paddingRight:Pe,paddingBottom:Pe,paddingLeft:Pe,margin:Pe,marginTop:Pe,marginRight:Pe,marginBottom:Pe,marginLeft:Pe,backgroundPositionX:Pe,backgroundPositionY:Pe,...sC,zIndex:gv,fillOpacity:Tl,strokeOpacity:Tl,numOctaves:gv},oC={...Np,color:Ct,backgroundColor:Ct,outlineColor:Ct,fill:Ct,stroke:Ct,borderColor:Ct,borderTopColor:Ct,borderRightColor:Ct,borderBottomColor:Ct,borderLeftColor:Ct,filter:Cd,WebkitFilter:Cd},Rw=t=>oC[t];function kw(t,e){let n=Rw(t);return n!==Cd&&(n=ts),n.getAnimatableNone?n.getAnimatableNone(e):void 0}const aC=new Set(["auto","none","0"]);function lC(t,e,n){let i=0,o;for(;i<t.length&&!o;){const a=t[i];typeof a=="string"&&!aC.has(a)&&Sl(a).values.length&&(o=t[i]),i++}if(o&&n)for(const a of e)t[a]=kw(n,o)}class uC extends bp{constructor(e,n,i,o,a){super(e,n,i,o,a,!0)}readKeyframes(){const{unresolvedKeyframes:e,element:n,name:i}=this;if(!n||!n.current)return;super.readKeyframes();for(let d=0;d<e.length;d++){let m=e[d];if(typeof m=="string"&&(m=m.trim(),xp(m))){const g=Aw(m,n.current);g!==void 0&&(e[d]=g),d===e.length-1&&(this.finalKeyframe=m)}}if(this.resolveNoneKeyframes(),!Iw.has(i)||e.length!==2)return;const[o,a]=e,u=mv(o),f=mv(a);if(u!==f)if(hv(u)&&hv(f))for(let d=0;d<e.length;d++){const m=e[d];typeof m=="string"&&(e[d]=parseFloat(m))}else Us[i]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:e,name:n}=this,i=[];for(let o=0;o<e.length;o++)(e[o]===null||tC(e[o]))&&i.push(o);i.length&&lC(e,i,n)}measureInitialState(){const{element:e,unresolvedKeyframes:n,name:i}=this;if(!e||!e.current)return;i==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=Us[i](e.measureViewportBox(),window.getComputedStyle(e.current)),n[0]=this.measuredOrigin;const o=n[n.length-1];o!==void 0&&e.getValue(i,o).jump(o,!1)}measureEndState(){var f;const{element:e,name:n,unresolvedKeyframes:i}=this;if(!e||!e.current)return;const o=e.getValue(n);o&&o.jump(this.measuredOrigin,!1);const a=i.length-1,u=i[a];i[a]=Us[n](e.measureViewportBox(),window.getComputedStyle(e.current)),u!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=u),(f=this.removedTransforms)!=null&&f.length&&this.removedTransforms.forEach(([d,m])=>{e.getValue(d).set(m)}),this.resolveNoneKeyframes()}}function cC(t,e,n){if(t instanceof EventTarget)return[t];if(typeof t=="string"){let i=document;const o=(n==null?void 0:n[t])??i.querySelectorAll(t);return o?Array.from(o):[]}return Array.from(t)}const Vw=(t,e)=>e&&typeof t=="number"?e.transform(t):t;function hC(t){return G_(t)&&"offsetHeight"in t}const yv=30,fC=t=>!isNaN(parseFloat(t));class dC{constructor(e,n={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=i=>{var a;const o=Tn.now();if(this.updatedAt!==o&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(i),this.current!==this.prev&&((a=this.events.change)==null||a.notify(this.current),this.dependents))for(const u of this.dependents)u.dirty()},this.hasAnimated=!1,this.setCurrent(e),this.owner=n.owner}setCurrent(e){this.current=e,this.updatedAt=Tn.now(),this.canTrackVelocity===null&&e!==void 0&&(this.canTrackVelocity=fC(this.current))}setPrevFrameValue(e=this.current){this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt}onChange(e){return this.on("change",e)}on(e,n){this.events[e]||(this.events[e]=new wp);const i=this.events[e].add(n);return e==="change"?()=>{i(),ot.read(()=>{this.events.change.getSize()||this.stop()})}:i}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,n){this.passiveEffect=e,this.stopPassiveEffect=n}set(e){this.passiveEffect?this.passiveEffect(e,this.updateAndNotify):this.updateAndNotify(e)}setWithVelocity(e,n,i){this.set(n),this.prev=void 0,this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt-i}jump(e,n=!0){this.updateAndNotify(e),this.prev=e,this.prevUpdatedAt=this.prevFrameValue=void 0,n&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){var e;(e=this.events.change)==null||e.notify(this.current)}addDependent(e){this.dependents||(this.dependents=new Set),this.dependents.add(e)}removeDependent(e){this.dependents&&this.dependents.delete(e)}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const e=Tn.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||e-this.updatedAt>yv)return 0;const n=Math.min(this.updatedAt-this.prevUpdatedAt,yv);return Y_(parseFloat(this.current)-parseFloat(this.prevFrameValue),n)}start(e){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=e(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){var e,n;(e=this.dependents)==null||e.clear(),(n=this.events.destroy)==null||n.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function Go(t,e){return new dC(t,e)}const{schedule:Mp}=aw(queueMicrotask,!1),dr={x:!1,y:!1};function bw(){return dr.x||dr.y}function pC(t){return t==="x"||t==="y"?dr[t]?null:(dr[t]=!0,()=>{dr[t]=!1}):dr.x||dr.y?null:(dr.x=dr.y=!0,()=>{dr.x=dr.y=!1})}function Dw(t,e){const n=cC(t),i=new AbortController,o={passive:!0,...e,signal:i.signal};return[n,o,()=>i.abort()]}function vv(t){return!(t.pointerType==="touch"||bw())}function mC(t,e,n={}){const[i,o,a]=Dw(t,n),u=f=>{if(!vv(f))return;const{target:d}=f,m=e(d,f);if(typeof m!="function"||!d)return;const g=y=>{vv(y)&&(m(y),d.removeEventListener("pointerleave",g))};d.addEventListener("pointerleave",g,o)};return i.forEach(f=>{f.addEventListener("pointerenter",u,o)}),a}const Nw=(t,e)=>e?t===e?!0:Nw(t,e.parentElement):!1,Lp=t=>t.pointerType==="mouse"?typeof t.button!="number"||t.button<=0:t.isPrimary!==!1,gC=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function yC(t){return gC.has(t.tagName)||t.tabIndex!==-1}const mc=new WeakSet;function _v(t){return e=>{e.key==="Enter"&&t(e)}}function Wf(t,e){t.dispatchEvent(new PointerEvent("pointer"+e,{isPrimary:!0,bubbles:!0}))}const vC=(t,e)=>{const n=t.currentTarget;if(!n)return;const i=_v(()=>{if(mc.has(n))return;Wf(n,"down");const o=_v(()=>{Wf(n,"up")}),a=()=>Wf(n,"cancel");n.addEventListener("keyup",o,e),n.addEventListener("blur",a,e)});n.addEventListener("keydown",i,e),n.addEventListener("blur",()=>n.removeEventListener("keydown",i),e)};function wv(t){return Lp(t)&&!bw()}function _C(t,e,n={}){const[i,o,a]=Dw(t,n),u=f=>{const d=f.currentTarget;if(!wv(f))return;mc.add(d);const m=e(d,f),g=(A,M)=>{window.removeEventListener("pointerup",y),window.removeEventListener("pointercancel",E),mc.has(d)&&mc.delete(d),wv(A)&&typeof m=="function"&&m(A,{success:M})},y=A=>{g(A,d===window||d===document||n.useGlobalTarget||Nw(d,A.target))},E=A=>{g(A,!1)};window.addEventListener("pointerup",y,o),window.addEventListener("pointercancel",E,o)};return i.forEach(f=>{(n.useGlobalTarget?window:f).addEventListener("pointerdown",u,o),hC(f)&&(f.addEventListener("focus",m=>vC(m,o)),!yC(f)&&!f.hasAttribute("tabindex")&&(f.tabIndex=0))}),a}function Mw(t){return G_(t)&&"ownerSVGElement"in t}function wC(t){return Mw(t)&&t.tagName==="svg"}const on=t=>!!(t&&t.getVelocity),EC=[...Pw,Ct,ts],TC=t=>EC.find(Cw(t)),Lw=U.createContext({transformPagePoint:t=>t,isStatic:!1,reducedMotion:"never"});function SC(t=!0){const e=U.useContext(mp);if(e===null)return[!0,null];const{isPresent:n,onExitComplete:i,register:o}=e,a=U.useId();U.useEffect(()=>{if(t)return o(a)},[t]);const u=U.useCallback(()=>t&&i&&i(a),[a,i,t]);return!n&&i?[!1,u]:[!0]}const Ow=U.createContext({strict:!1}),Ev={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},Qo={};for(const t in Ev)Qo[t]={isEnabled:e=>Ev[t].some(n=>!!e[n])};function xC(t){for(const e in t)Qo[e]={...Qo[e],...t[e]}}const AC=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function Pc(t){return t.startsWith("while")||t.startsWith("drag")&&t!=="draggable"||t.startsWith("layout")||t.startsWith("onTap")||t.startsWith("onPan")||t.startsWith("onLayout")||AC.has(t)}let Fw=t=>!Pc(t);function IC(t){typeof t=="function"&&(Fw=e=>e.startsWith("on")?!Pc(e):t(e))}try{IC(require("@emotion/is-prop-valid").default)}catch{}function CC(t,e,n){const i={};for(const o in t)o==="values"&&typeof t.values=="object"||(Fw(o)||n===!0&&Pc(o)||!e&&!Pc(o)||t.draggable&&o.startsWith("onDrag"))&&(i[o]=t[o]);return i}const Kc=U.createContext({});function Gc(t){return t!==null&&typeof t=="object"&&typeof t.start=="function"}function xl(t){return typeof t=="string"||Array.isArray(t)}const Op=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],Fp=["initial",...Op];function Qc(t){return Gc(t.animate)||Fp.some(e=>xl(t[e]))}function jw(t){return!!(Qc(t)||t.variants)}function PC(t,e){if(Qc(t)){const{initial:n,animate:i}=t;return{initial:n===!1||xl(n)?n:void 0,animate:xl(i)?i:void 0}}return t.inherit!==!1?e:{}}function RC(t){const{initial:e,animate:n}=PC(t,U.useContext(Kc));return U.useMemo(()=>({initial:e,animate:n}),[Tv(e),Tv(n)])}function Tv(t){return Array.isArray(t)?t.join(" "):t}const Al={};function kC(t){for(const e in t)Al[e]=t[e],Sp(e)&&(Al[e].isCSSVariable=!0)}function Bw(t,{layout:e,layoutId:n}){return aa.has(t)||t.startsWith("origin")||(e||n!==void 0)&&(!!Al[t]||t==="opacity")}const VC={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},bC=oa.length;function DC(t,e,n){let i="",o=!0;for(let a=0;a<bC;a++){const u=oa[a],f=t[u];if(f===void 0)continue;let d=!0;if(typeof f=="number"?d=f===(u.startsWith("scale")?1:0):d=parseFloat(f)===0,!d||n){const m=Vw(f,Np[u]);if(!d){o=!1;const g=VC[u]||u;i+=`${g}(${m}) `}n&&(e[u]=m)}}return i=i.trim(),n?i=n(e,o?"":i):o&&(i="none"),i}function jp(t,e,n){const{style:i,vars:o,transformOrigin:a}=t;let u=!1,f=!1;for(const d in e){const m=e[d];if(aa.has(d)){u=!0;continue}else if(Sp(d)){o[d]=m;continue}else{const g=Vw(m,Np[d]);d.startsWith("origin")?(f=!0,a[d]=g):i[d]=g}}if(e.transform||(u||n?i.transform=DC(e,t.transform,n):i.transform&&(i.transform="none")),f){const{originX:d="50%",originY:m="50%",originZ:g=0}=a;i.transformOrigin=`${d} ${m} ${g}`}}const Bp=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function Uw(t,e,n){for(const i in e)!on(e[i])&&!Bw(i,n)&&(t[i]=e[i])}function NC({transformTemplate:t},e){return U.useMemo(()=>{const n=Bp();return jp(n,e,t),Object.assign({},n.vars,n.style)},[e])}function MC(t,e){const n=t.style||{},i={};return Uw(i,n,t),Object.assign(i,NC(t,e)),i}function LC(t,e){const n={},i=MC(t,e);return t.drag&&t.dragListener!==!1&&(n.draggable=!1,i.userSelect=i.WebkitUserSelect=i.WebkitTouchCallout="none",i.touchAction=t.drag===!0?"none":`pan-${t.drag==="x"?"y":"x"}`),t.tabIndex===void 0&&(t.onTap||t.onTapStart||t.whileTap)&&(n.tabIndex=0),n.style=i,n}const OC={offset:"stroke-dashoffset",array:"stroke-dasharray"},FC={offset:"strokeDashoffset",array:"strokeDasharray"};function jC(t,e,n=1,i=0,o=!0){t.pathLength=1;const a=o?OC:FC;t[a.offset]=Pe.transform(-i);const u=Pe.transform(e),f=Pe.transform(n);t[a.array]=`${u} ${f}`}function zw(t,{attrX:e,attrY:n,attrScale:i,pathLength:o,pathSpacing:a=1,pathOffset:u=0,...f},d,m,g){if(jp(t,f,m),d){t.style.viewBox&&(t.attrs.viewBox=t.style.viewBox);return}t.attrs=t.style,t.style={};const{attrs:y,style:E}=t;y.transform&&(E.transform=y.transform,delete y.transform),(E.transform||y.transformOrigin)&&(E.transformOrigin=y.transformOrigin??"50% 50%",delete y.transformOrigin),E.transform&&(E.transformBox=(g==null?void 0:g.transformBox)??"fill-box",delete y.transformBox),e!==void 0&&(y.x=e),n!==void 0&&(y.y=n),i!==void 0&&(y.scale=i),o!==void 0&&jC(y,o,a,u,!1)}const $w=()=>({...Bp(),attrs:{}}),Hw=t=>typeof t=="string"&&t.toLowerCase()==="svg";function BC(t,e,n,i){const o=U.useMemo(()=>{const a=$w();return zw(a,e,Hw(i),t.transformTemplate,t.style),{...a.attrs,style:{...a.style}}},[e]);if(t.style){const a={};Uw(a,t.style,t),o.style={...a,...o.style}}return o}const UC=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function Up(t){return typeof t!="string"||t.includes("-")?!1:!!(UC.indexOf(t)>-1||/[A-Z]/u.test(t))}function zC(t,e,n,{latestValues:i},o,a=!1){const f=(Up(t)?BC:LC)(e,i,o,t),d=CC(e,typeof t=="string",a),m=t!==U.Fragment?{...d,...f,ref:n}:{},{children:g}=e,y=U.useMemo(()=>on(g)?g.get():g,[g]);return U.createElement(t,{...m,children:y})}function Sv(t){const e=[{},{}];return t==null||t.values.forEach((n,i)=>{e[0][i]=n.get(),e[1][i]=n.getVelocity()}),e}function zp(t,e,n,i){if(typeof e=="function"){const[o,a]=Sv(i);e=e(n!==void 0?n:t.custom,o,a)}if(typeof e=="string"&&(e=t.variants&&t.variants[e]),typeof e=="function"){const[o,a]=Sv(i);e=e(n!==void 0?n:t.custom,o,a)}return e}function gc(t){return on(t)?t.get():t}function $C({scrapeMotionValuesFromProps:t,createRenderState:e},n,i,o){return{latestValues:HC(n,i,o,t),renderState:e()}}function HC(t,e,n,i){const o={},a=i(t,{});for(const E in a)o[E]=gc(a[E]);let{initial:u,animate:f}=t;const d=Qc(t),m=jw(t);e&&m&&!d&&t.inherit!==!1&&(u===void 0&&(u=e.initial),f===void 0&&(f=e.animate));let g=n?n.initial===!1:!1;g=g||u===!1;const y=g?f:u;if(y&&typeof y!="boolean"&&!Gc(y)){const E=Array.isArray(y)?y:[y];for(let A=0;A<E.length;A++){const M=zp(t,E[A]);if(M){const{transitionEnd:b,transition:k,...O}=M;for(const K in O){let B=O[K];if(Array.isArray(B)){const Z=g?B.length-1:0;B=B[Z]}B!==null&&(o[K]=B)}for(const K in b)o[K]=b[K]}}}return o}const Ww=t=>(e,n)=>{const i=U.useContext(Kc),o=U.useContext(mp),a=()=>$C(t,e,i,o);return n?a():W_(a)};function $p(t,e,n){var a;const{style:i}=t,o={};for(const u in i)(on(i[u])||e.style&&on(e.style[u])||Bw(u,t)||((a=n==null?void 0:n.getValue(u))==null?void 0:a.liveStyle)!==void 0)&&(o[u]=i[u]);return o}const WC=Ww({scrapeMotionValuesFromProps:$p,createRenderState:Bp});function qw(t,e,n){const i=$p(t,e,n);for(const o in t)if(on(t[o])||on(e[o])){const a=oa.indexOf(o)!==-1?"attr"+o.charAt(0).toUpperCase()+o.substring(1):o;i[a]=t[o]}return i}const qC=Ww({scrapeMotionValuesFromProps:qw,createRenderState:$w}),KC=Symbol.for("motionComponentSymbol");function Uo(t){return t&&typeof t=="object"&&Object.prototype.hasOwnProperty.call(t,"current")}function GC(t,e,n){return U.useCallback(i=>{i&&t.onMount&&t.onMount(i),e&&(i?e.mount(i):e.unmount()),n&&(typeof n=="function"?n(i):Uo(n)&&(n.current=i))},[e])}const Hp=t=>t.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),QC="framerAppearId",Kw="data-"+Hp(QC),Gw=U.createContext({});function YC(t,e,n,i,o){var b,k;const{visualElement:a}=U.useContext(Kc),u=U.useContext(Ow),f=U.useContext(mp),d=U.useContext(Lw).reducedMotion,m=U.useRef(null);i=i||u.renderer,!m.current&&i&&(m.current=i(t,{visualState:e,parent:a,props:n,presenceContext:f,blockInitialAnimation:f?f.initial===!1:!1,reducedMotionConfig:d}));const g=m.current,y=U.useContext(Gw);g&&!g.projection&&o&&(g.type==="html"||g.type==="svg")&&XC(m.current,n,o,y);const E=U.useRef(!1);U.useInsertionEffect(()=>{g&&E.current&&g.update(n,f)});const A=n[Kw],M=U.useRef(!!A&&!((b=window.MotionHandoffIsComplete)!=null&&b.call(window,A))&&((k=window.MotionHasOptimisedAnimation)==null?void 0:k.call(window,A)));return q_(()=>{g&&(E.current=!0,window.MotionIsMounted=!0,g.updateFeatures(),g.scheduleRenderMicrotask(),M.current&&g.animationState&&g.animationState.animateChanges())}),U.useEffect(()=>{g&&(!M.current&&g.animationState&&g.animationState.animateChanges(),M.current&&(queueMicrotask(()=>{var O;(O=window.MotionHandoffMarkAsComplete)==null||O.call(window,A)}),M.current=!1),g.enteringChildren=void 0)}),g}function XC(t,e,n,i){const{layoutId:o,layout:a,drag:u,dragConstraints:f,layoutScroll:d,layoutRoot:m,layoutCrossfade:g}=e;t.projection=new n(t.latestValues,e["data-framer-portal-id"]?void 0:Qw(t.parent)),t.projection.setOptions({layoutId:o,layout:a,alwaysMeasureLayout:!!u||f&&Uo(f),visualElement:t,animationType:typeof a=="string"?a:"both",initialPromotionConfig:i,crossfade:g,layoutScroll:d,layoutRoot:m})}function Qw(t){if(t)return t.options.allowProjection!==!1?t.projection:Qw(t.parent)}function qf(t,{forwardMotionProps:e=!1}={},n,i){n&&xC(n);const o=Up(t)?qC:WC;function a(f,d){let m;const g={...U.useContext(Lw),...f,layoutId:JC(f)},{isStatic:y}=g,E=RC(f),A=o(f,y);if(!y&&pp){ZC();const M=eP(g);m=M.MeasureLayout,E.visualElement=YC(t,A,g,i,M.ProjectionNode)}return X.jsxs(Kc.Provider,{value:E,children:[m&&E.visualElement?X.jsx(m,{visualElement:E.visualElement,...g}):null,zC(t,f,GC(A,E.visualElement,d),A,y,e)]})}a.displayName=`motion.${typeof t=="string"?t:`create(${t.displayName??t.name??""})`}`;const u=U.forwardRef(a);return u[KC]=t,u}function JC({layoutId:t}){const e=U.useContext(H_).id;return e&&t!==void 0?e+"-"+t:t}function ZC(t,e){U.useContext(Ow).strict}function eP(t){const{drag:e,layout:n}=Qo;if(!e&&!n)return{};const i={...e,...n};return{MeasureLayout:e!=null&&e.isEnabled(t)||n!=null&&n.isEnabled(t)?i.MeasureLayout:void 0,ProjectionNode:i.ProjectionNode}}function tP(t,e){if(typeof Proxy>"u")return qf;const n=new Map,i=(a,u)=>qf(a,u,t,e),o=(a,u)=>i(a,u);return new Proxy(o,{get:(a,u)=>u==="create"?i:(n.has(u)||n.set(u,qf(u,void 0,t,e)),n.get(u))})}function Yw({top:t,left:e,right:n,bottom:i}){return{x:{min:e,max:n},y:{min:t,max:i}}}function nP({x:t,y:e}){return{top:e.min,right:t.max,bottom:e.max,left:t.min}}function rP(t,e){if(!e)return t;const n=e({x:t.left,y:t.top}),i=e({x:t.right,y:t.bottom});return{top:n.y,left:n.x,bottom:i.y,right:i.x}}function Kf(t){return t===void 0||t===1}function Pd({scale:t,scaleX:e,scaleY:n}){return!Kf(t)||!Kf(e)||!Kf(n)}function Ls(t){return Pd(t)||Xw(t)||t.z||t.rotate||t.rotateX||t.rotateY||t.skewX||t.skewY}function Xw(t){return xv(t.x)||xv(t.y)}function xv(t){return t&&t!=="0%"}function Rc(t,e,n){const i=t-n,o=e*i;return n+o}function Av(t,e,n,i,o){return o!==void 0&&(t=Rc(t,o,i)),Rc(t,n,i)+e}function Rd(t,e=0,n=1,i,o){t.min=Av(t.min,e,n,i,o),t.max=Av(t.max,e,n,i,o)}function Jw(t,{x:e,y:n}){Rd(t.x,e.translate,e.scale,e.originPoint),Rd(t.y,n.translate,n.scale,n.originPoint)}const Iv=.999999999999,Cv=1.0000000000001;function iP(t,e,n,i=!1){const o=n.length;if(!o)return;e.x=e.y=1;let a,u;for(let f=0;f<o;f++){a=n[f],u=a.projectionDelta;const{visualElement:d}=a.options;d&&d.props.style&&d.props.style.display==="contents"||(i&&a.options.layoutScroll&&a.scroll&&a!==a.root&&$o(t,{x:-a.scroll.offset.x,y:-a.scroll.offset.y}),u&&(e.x*=u.x.scale,e.y*=u.y.scale,Jw(t,u)),i&&Ls(a.latestValues)&&$o(t,a.latestValues))}e.x<Cv&&e.x>Iv&&(e.x=1),e.y<Cv&&e.y>Iv&&(e.y=1)}function zo(t,e){t.min=t.min+e,t.max=t.max+e}function Pv(t,e,n,i,o=.5){const a=ct(t.min,t.max,o);Rd(t,e,n,a,i)}function $o(t,e){Pv(t.x,e.x,e.scaleX,e.scale,e.originX),Pv(t.y,e.y,e.scaleY,e.scale,e.originY)}function Zw(t,e){return Yw(rP(t.getBoundingClientRect(),e))}function sP(t,e,n){const i=Zw(t,n),{scroll:o}=e;return o&&(zo(i.x,o.offset.x),zo(i.y,o.offset.y)),i}const Rv=()=>({translate:0,scale:1,origin:0,originPoint:0}),Ho=()=>({x:Rv(),y:Rv()}),kv=()=>({min:0,max:0}),_t=()=>({x:kv(),y:kv()}),kd={current:null},eE={current:!1};function oP(){if(eE.current=!0,!!pp)if(window.matchMedia){const t=window.matchMedia("(prefers-reduced-motion)"),e=()=>kd.current=t.matches;t.addEventListener("change",e),e()}else kd.current=!1}const aP=new WeakMap;function lP(t,e,n){for(const i in e){const o=e[i],a=n[i];if(on(o))t.addValue(i,o);else if(on(a))t.addValue(i,Go(o,{owner:t}));else if(a!==o)if(t.hasValue(i)){const u=t.getValue(i);u.liveStyle===!0?u.jump(o):u.hasAnimated||u.set(o)}else{const u=t.getStaticValue(i);t.addValue(i,Go(u!==void 0?u:o,{owner:t}))}}for(const i in n)e[i]===void 0&&t.removeValue(i);return e}const Vv=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class uP{scrapeMotionValuesFromProps(e,n,i){return{}}constructor({parent:e,props:n,presenceContext:i,reducedMotionConfig:o,blockInitialAnimation:a,visualState:u},f={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=bp,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const E=Tn.now();this.renderScheduledAt<E&&(this.renderScheduledAt=E,ot.render(this.render,!1,!0))};const{latestValues:d,renderState:m}=u;this.latestValues=d,this.baseTarget={...d},this.initialValues=n.initial?{...d}:{},this.renderState=m,this.parent=e,this.props=n,this.presenceContext=i,this.depth=e?e.depth+1:0,this.reducedMotionConfig=o,this.options=f,this.blockInitialAnimation=!!a,this.isControllingVariants=Qc(n),this.isVariantNode=jw(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:g,...y}=this.scrapeMotionValuesFromProps(n,{},this);for(const E in y){const A=y[E];d[E]!==void 0&&on(A)&&A.set(d[E])}}mount(e){var n;this.current=e,aP.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((i,o)=>this.bindToMotionValue(o,i)),eE.current||oP(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:kd.current,(n=this.parent)==null||n.addChild(this),this.update(this.props,this.presenceContext)}unmount(){var e;this.projection&&this.projection.unmount(),es(this.notifyUpdate),es(this.render),this.valueSubscriptions.forEach(n=>n()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),(e=this.parent)==null||e.removeChild(this);for(const n in this.events)this.events[n].clear();for(const n in this.features){const i=this.features[n];i&&(i.unmount(),i.isMounted=!1)}this.current=null}addChild(e){this.children.add(e),this.enteringChildren??(this.enteringChildren=new Set),this.enteringChildren.add(e)}removeChild(e){this.children.delete(e),this.enteringChildren&&this.enteringChildren.delete(e)}bindToMotionValue(e,n){this.valueSubscriptions.has(e)&&this.valueSubscriptions.get(e)();const i=aa.has(e);i&&this.onBindTransform&&this.onBindTransform();const o=n.on("change",u=>{this.latestValues[e]=u,this.props.onUpdate&&ot.preRender(this.notifyUpdate),i&&this.projection&&(this.projection.isTransformDirty=!0),this.scheduleRender()});let a;window.MotionCheckAppearSync&&(a=window.MotionCheckAppearSync(this,e,n)),this.valueSubscriptions.set(e,()=>{o(),a&&a(),n.owner&&n.stop()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}updateFeatures(){let e="animation";for(e in Qo){const n=Qo[e];if(!n)continue;const{isEnabled:i,Feature:o}=n;if(!this.features[e]&&o&&i(this.props)&&(this.features[e]=new o(this)),this.features[e]){const a=this.features[e];a.isMounted?a.update():(a.mount(),a.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):_t()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,n){this.latestValues[e]=n}update(e,n){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let i=0;i<Vv.length;i++){const o=Vv[i];this.propEventSubscriptions[o]&&(this.propEventSubscriptions[o](),delete this.propEventSubscriptions[o]);const a="on"+o,u=e[a];u&&(this.propEventSubscriptions[o]=this.on(o,u))}this.prevMotionValues=lP(this,this.scrapeMotionValuesFromProps(e,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(e){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(e),()=>n.variantChildren.delete(e)}addValue(e,n){const i=this.values.get(e);n!==i&&(i&&this.removeValue(e),this.bindToMotionValue(e,n),this.values.set(e,n),this.latestValues[e]=n.get())}removeValue(e){this.values.delete(e);const n=this.valueSubscriptions.get(e);n&&(n(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,n){if(this.props.values&&this.props.values[e])return this.props.values[e];let i=this.values.get(e);return i===void 0&&n!==void 0&&(i=Go(n===null?void 0:n,{owner:this}),this.addValue(e,i)),i}readValue(e,n){let i=this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:this.getBaseTargetFromProps(this.props,e)??this.readValueFromInstance(this.current,e,this.options);return i!=null&&(typeof i=="string"&&(K_(i)||Q_(i))?i=parseFloat(i):!TC(i)&&ts.test(n)&&(i=kw(e,n)),this.setBaseTarget(e,on(i)?i.get():i)),on(i)?i.get():i}setBaseTarget(e,n){this.baseTarget[e]=n}getBaseTarget(e){var a;const{initial:n}=this.props;let i;if(typeof n=="string"||typeof n=="object"){const u=zp(this.props,n,(a=this.presenceContext)==null?void 0:a.custom);u&&(i=u[e])}if(n&&i!==void 0)return i;const o=this.getBaseTargetFromProps(this.props,e);return o!==void 0&&!on(o)?o:this.initialValues[e]!==void 0&&i===void 0?void 0:this.baseTarget[e]}on(e,n){return this.events[e]||(this.events[e]=new wp),this.events[e].add(n)}notify(e,...n){this.events[e]&&this.events[e].notify(...n)}scheduleRenderMicrotask(){Mp.render(this.render)}}class tE extends uP{constructor(){super(...arguments),this.KeyframeResolver=uC}sortInstanceNodePosition(e,n){return e.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(e,n){return e.style?e.style[n]:void 0}removeValueFromRenderState(e,{vars:n,style:i}){delete n[e],delete i[e]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;on(e)&&(this.childSubscription=e.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}}function nE(t,{style:e,vars:n},i,o){const a=t.style;let u;for(u in e)a[u]=e[u];o==null||o.applyProjectionStyles(a,i);for(u in n)a.setProperty(u,n[u])}function cP(t){return window.getComputedStyle(t)}class hP extends tE{constructor(){super(...arguments),this.type="html",this.renderInstance=nE}readValueFromInstance(e,n){var i;if(aa.has(n))return(i=this.projection)!=null&&i.isProjecting?Ed(n):PI(e,n);{const o=cP(e),a=(Sp(n)?o.getPropertyValue(n):o[n])||0;return typeof a=="string"?a.trim():a}}measureInstanceViewportBox(e,{transformPagePoint:n}){return Zw(e,n)}build(e,n,i){jp(e,n,i.transformTemplate)}scrapeMotionValuesFromProps(e,n,i){return $p(e,n,i)}}const rE=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function fP(t,e,n,i){nE(t,e,void 0,i);for(const o in e.attrs)t.setAttribute(rE.has(o)?o:Hp(o),e.attrs[o])}class dP extends tE{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=_t}getBaseTargetFromProps(e,n){return e[n]}readValueFromInstance(e,n){if(aa.has(n)){const i=Rw(n);return i&&i.default||0}return n=rE.has(n)?n:Hp(n),e.getAttribute(n)}scrapeMotionValuesFromProps(e,n,i){return qw(e,n,i)}build(e,n,i){zw(e,n,this.isSVGTag,i.transformTemplate,i.style)}renderInstance(e,n,i,o){fP(e,n,i,o)}mount(e){this.isSVGTag=Hw(e.tagName),super.mount(e)}}const pP=(t,e)=>Up(t)?new dP(e):new hP(e,{allowProjection:t!==U.Fragment});function Wo(t,e,n){const i=t.getProps();return zp(i,e,n!==void 0?n:i.custom,t)}const Vd=t=>Array.isArray(t);function mP(t,e,n){t.hasValue(e)?t.getValue(e).set(n):t.addValue(e,Go(n))}function gP(t){return Vd(t)?t[t.length-1]||0:t}function Wp(t,e){const n=Wo(t,e);let{transitionEnd:i={},transition:o={},...a}=n||{};a={...a,...i};for(const u in a){const f=gP(a[u]);mP(t,u,f)}}function yP(t){return!!(on(t)&&t.add)}function bd(t,e){const n=t.getValue("willChange");if(yP(n))return n.add(e);if(!n&&pi.WillChange){const i=new pi.WillChange("auto");t.addValue("willChange",i),i.add(e)}}function iE(t){return t.props[Kw]}const vP=t=>t!==null;function _P(t,{repeat:e,repeatType:n="loop"},i){const o=t.filter(vP),a=e&&n!=="loop"&&e%2===1?0:o.length-1;return o[a]}const wP={type:"spring",stiffness:500,damping:25,restSpeed:10},EP=t=>({type:"spring",stiffness:550,damping:t===0?2*Math.sqrt(550):30,restSpeed:10}),TP={type:"keyframes",duration:.8},SP={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},xP=(t,{keyframes:e})=>e.length>2?TP:aa.has(t)?t.startsWith("scale")?EP(e[1]):wP:SP;function AP({when:t,delay:e,delayChildren:n,staggerChildren:i,staggerDirection:o,repeat:a,repeatType:u,repeatDelay:f,from:d,elapsed:m,...g}){return!!Object.keys(g).length}const qp=(t,e,n,i={},o,a)=>u=>{const f=Dp(i,t)||{},d=f.delay||i.delay||0;let{elapsed:m=0}=i;m=m-jr(d);const g={keyframes:Array.isArray(n)?n:[null,n],ease:"easeOut",velocity:e.getVelocity(),...f,delay:-m,onUpdate:E=>{e.set(E),f.onUpdate&&f.onUpdate(E)},onComplete:()=>{u(),f.onComplete&&f.onComplete()},name:t,motionValue:e,element:a?void 0:o};AP(f)||Object.assign(g,xP(t,g)),g.duration&&(g.duration=jr(g.duration)),g.repeatDelay&&(g.repeatDelay=jr(g.repeatDelay)),g.from!==void 0&&(g.keyframes[0]=g.from);let y=!1;if((g.type===!1||g.duration===0&&!g.repeatDelay)&&(Id(g),g.delay===0&&(y=!0)),(pi.instantAnimations||pi.skipAnimations)&&(y=!0,Id(g),g.delay=0),g.allowFlatten=!f.type&&!f.ease,y&&!a&&e.get()!==void 0){const E=_P(g.keyframes,f);if(E!==void 0){ot.update(()=>{g.onUpdate(E),g.onComplete()});return}}return f.isSync?new Vp(g):new XI(g)};function IP({protectedKeys:t,needsAnimating:e},n){const i=t.hasOwnProperty(n)&&e[n]!==!0;return e[n]=!1,i}function sE(t,e,{delay:n=0,transitionOverride:i,type:o}={}){let{transition:a=t.getDefaultTransition(),transitionEnd:u,...f}=e;i&&(a=i);const d=[],m=o&&t.animationState&&t.animationState.getState()[o];for(const g in f){const y=t.getValue(g,t.latestValues[g]??null),E=f[g];if(E===void 0||m&&IP(m,g))continue;const A={delay:n,...Dp(a||{},g)},M=y.get();if(M!==void 0&&!y.isAnimating&&!Array.isArray(E)&&E===M&&!A.velocity)continue;let b=!1;if(window.MotionHandoffAnimation){const O=iE(t);if(O){const K=window.MotionHandoffAnimation(O,g,ot);K!==null&&(A.startTime=K,b=!0)}}bd(t,g),y.start(qp(g,y,E,t.shouldReduceMotion&&Iw.has(g)?{type:!1}:A,t,b));const k=y.animation;k&&d.push(k)}return u&&Promise.all(d).then(()=>{ot.update(()=>{u&&Wp(t,u)})}),d}function oE(t,e,n,i=0,o=1){const a=Array.from(t).sort((m,g)=>m.sortNodePosition(g)).indexOf(e),u=t.size,f=(u-1)*i;return typeof n=="function"?n(a,u):o===1?a*i:f-a*i}function Dd(t,e,n={}){var d;const i=Wo(t,e,n.type==="exit"?(d=t.presenceContext)==null?void 0:d.custom:void 0);let{transition:o=t.getDefaultTransition()||{}}=i||{};n.transitionOverride&&(o=n.transitionOverride);const a=i?()=>Promise.all(sE(t,i,n)):()=>Promise.resolve(),u=t.variantChildren&&t.variantChildren.size?(m=0)=>{const{delayChildren:g=0,staggerChildren:y,staggerDirection:E}=o;return CP(t,e,m,g,y,E,n)}:()=>Promise.resolve(),{when:f}=o;if(f){const[m,g]=f==="beforeChildren"?[a,u]:[u,a];return m().then(()=>g())}else return Promise.all([a(),u(n.delay)])}function CP(t,e,n=0,i=0,o=0,a=1,u){const f=[];for(const d of t.variantChildren)d.notify("AnimationStart",e),f.push(Dd(d,e,{...u,delay:n+(typeof i=="function"?0:i)+oE(t.variantChildren,d,i,o,a)}).then(()=>d.notify("AnimationComplete",e)));return Promise.all(f)}function aE(t,e,n={}){t.notify("AnimationStart",e);let i;if(Array.isArray(e)){const o=e.map(a=>Dd(t,a,n));i=Promise.all(o)}else if(typeof e=="string")i=Dd(t,e,n);else{const o=typeof e=="function"?Wo(t,e,n.custom):e;i=Promise.all(sE(t,o,n))}return i.then(()=>{t.notify("AnimationComplete",e)})}function lE(t,e){if(!Array.isArray(e))return!1;const n=e.length;if(n!==t.length)return!1;for(let i=0;i<n;i++)if(e[i]!==t[i])return!1;return!0}const PP=Fp.length;function uE(t){if(!t)return;if(!t.isControllingVariants){const n=t.parent?uE(t.parent)||{}:{};return t.props.initial!==void 0&&(n.initial=t.props.initial),n}const e={};for(let n=0;n<PP;n++){const i=Fp[n],o=t.props[i];(xl(o)||o===!1)&&(e[i]=o)}return e}const RP=[...Op].reverse(),kP=Op.length;function VP(t){return e=>Promise.all(e.map(({animation:n,options:i})=>aE(t,n,i)))}function bP(t){let e=VP(t),n=bv(),i=!0;const o=d=>(m,g)=>{var E;const y=Wo(t,g,d==="exit"?(E=t.presenceContext)==null?void 0:E.custom:void 0);if(y){const{transition:A,transitionEnd:M,...b}=y;m={...m,...b,...M}}return m};function a(d){e=d(t)}function u(d){const{props:m}=t,g=uE(t.parent)||{},y=[],E=new Set;let A={},M=1/0;for(let k=0;k<kP;k++){const O=RP[k],K=n[O],B=m[O]!==void 0?m[O]:g[O],Z=xl(B),ne=O===d?K.isActive:null;ne===!1&&(M=k);let le=B===g[O]&&B!==m[O]&&Z;if(le&&i&&t.manuallyAnimateOnMount&&(le=!1),K.protectedKeys={...A},!K.isActive&&ne===null||!B&&!K.prevProp||Gc(B)||typeof B=="boolean")continue;const R=DP(K.prevProp,B);let x=R||O===d&&K.isActive&&!le&&Z||k>M&&Z,I=!1;const V=Array.isArray(B)?B:[B];let D=V.reduce(o(O),{});ne===!1&&(D={});const{prevResolvedValues:j={}}=K,P={...j,...D},je=ve=>{x=!0,E.has(ve)&&(I=!0,E.delete(ve)),K.needsAnimating[ve]=!0;const te=t.getValue(ve);te&&(te.liveStyle=!1)};for(const ve in P){const te=D[ve],ce=j[ve];if(A.hasOwnProperty(ve))continue;let se=!1;Vd(te)&&Vd(ce)?se=!lE(te,ce):se=te!==ce,se?te!=null?je(ve):E.add(ve):te!==void 0&&E.has(ve)?je(ve):K.protectedKeys[ve]=!0}K.prevProp=B,K.prevResolvedValues=D,K.isActive&&(A={...A,...D}),i&&t.blockInitialAnimation&&(x=!1);const Qe=le&&R;x&&(!Qe||I)&&y.push(...V.map(ve=>{const te={type:O};if(typeof ve=="string"&&i&&!Qe&&t.manuallyAnimateOnMount&&t.parent){const{parent:ce}=t,se=Wo(ce,ve);if(ce.enteringChildren&&se){const{delayChildren:F}=se.transition||{};te.delay=oE(ce.enteringChildren,t,F)}}return{animation:ve,options:te}}))}if(E.size){const k={};if(typeof m.initial!="boolean"){const O=Wo(t,Array.isArray(m.initial)?m.initial[0]:m.initial);O&&O.transition&&(k.transition=O.transition)}E.forEach(O=>{const K=t.getBaseTarget(O),B=t.getValue(O);B&&(B.liveStyle=!0),k[O]=K??null}),y.push({animation:k})}let b=!!y.length;return i&&(m.initial===!1||m.initial===m.animate)&&!t.manuallyAnimateOnMount&&(b=!1),i=!1,b?e(y):Promise.resolve()}function f(d,m){var y;if(n[d].isActive===m)return Promise.resolve();(y=t.variantChildren)==null||y.forEach(E=>{var A;return(A=E.animationState)==null?void 0:A.setActive(d,m)}),n[d].isActive=m;const g=u(d);for(const E in n)n[E].protectedKeys={};return g}return{animateChanges:u,setActive:f,setAnimateFunction:a,getState:()=>n,reset:()=>{n=bv()}}}function DP(t,e){return typeof e=="string"?e!==t:Array.isArray(e)?!lE(e,t):!1}function Ms(t=!1){return{isActive:t,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function bv(){return{animate:Ms(!0),whileInView:Ms(),whileHover:Ms(),whileTap:Ms(),whileDrag:Ms(),whileFocus:Ms(),exit:Ms()}}class ls{constructor(e){this.isMounted=!1,this.node=e}update(){}}class NP extends ls{constructor(e){super(e),e.animationState||(e.animationState=bP(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();Gc(e)&&(this.unmountControls=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:n}=this.node.prevProps||{};e!==n&&this.updateAnimationControlsSubscription()}unmount(){var e;this.node.animationState.reset(),(e=this.unmountControls)==null||e.call(this)}}let MP=0;class LP extends ls{constructor(){super(...arguments),this.id=MP++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:n}=this.node.presenceContext,{isPresent:i}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===i)return;const o=this.node.animationState.setActive("exit",!e);n&&!e&&o.then(()=>{n(this.id)})}mount(){const{register:e,onExitComplete:n}=this.node.presenceContext||{};n&&n(this.id),e&&(this.unmount=e(this.id))}unmount(){}}const OP={animation:{Feature:NP},exit:{Feature:LP}};function Il(t,e,n,i={passive:!0}){return t.addEventListener(e,n,i),()=>t.removeEventListener(e,n)}function zl(t){return{point:{x:t.pageX,y:t.pageY}}}const FP=t=>e=>Lp(e)&&t(e,zl(e));function fl(t,e,n,i){return Il(t,e,FP(n),i)}const cE=1e-4,jP=1-cE,BP=1+cE,hE=.01,UP=0-hE,zP=0+hE;function hn(t){return t.max-t.min}function $P(t,e,n){return Math.abs(t-e)<=n}function Dv(t,e,n,i=.5){t.origin=i,t.originPoint=ct(e.min,e.max,t.origin),t.scale=hn(n)/hn(e),t.translate=ct(n.min,n.max,t.origin)-t.originPoint,(t.scale>=jP&&t.scale<=BP||isNaN(t.scale))&&(t.scale=1),(t.translate>=UP&&t.translate<=zP||isNaN(t.translate))&&(t.translate=0)}function dl(t,e,n,i){Dv(t.x,e.x,n.x,i?i.originX:void 0),Dv(t.y,e.y,n.y,i?i.originY:void 0)}function Nv(t,e,n){t.min=n.min+e.min,t.max=t.min+hn(e)}function HP(t,e,n){Nv(t.x,e.x,n.x),Nv(t.y,e.y,n.y)}function Mv(t,e,n){t.min=e.min-n.min,t.max=t.min+hn(e)}function pl(t,e,n){Mv(t.x,e.x,n.x),Mv(t.y,e.y,n.y)}function Gn(t){return[t("x"),t("y")]}const fE=({current:t})=>t?t.ownerDocument.defaultView:null,Lv=(t,e)=>Math.abs(t-e);function WP(t,e){const n=Lv(t.x,e.x),i=Lv(t.y,e.y);return Math.sqrt(n**2+i**2)}class dE{constructor(e,n,{transformPagePoint:i,contextWindow:o=window,dragSnapToOrigin:a=!1,distanceThreshold:u=3}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const E=Qf(this.lastMoveEventInfo,this.history),A=this.startEvent!==null,M=WP(E.offset,{x:0,y:0})>=this.distanceThreshold;if(!A&&!M)return;const{point:b}=E,{timestamp:k}=qt;this.history.push({...b,timestamp:k});const{onStart:O,onMove:K}=this.handlers;A||(O&&O(this.lastMoveEvent,E),this.startEvent=this.lastMoveEvent),K&&K(this.lastMoveEvent,E)},this.handlePointerMove=(E,A)=>{this.lastMoveEvent=E,this.lastMoveEventInfo=Gf(A,this.transformPagePoint),ot.update(this.updatePoint,!0)},this.handlePointerUp=(E,A)=>{this.end();const{onEnd:M,onSessionEnd:b,resumeAnimation:k}=this.handlers;if(this.dragSnapToOrigin&&k&&k(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const O=Qf(E.type==="pointercancel"?this.lastMoveEventInfo:Gf(A,this.transformPagePoint),this.history);this.startEvent&&M&&M(E,O),b&&b(E,O)},!Lp(e))return;this.dragSnapToOrigin=a,this.handlers=n,this.transformPagePoint=i,this.distanceThreshold=u,this.contextWindow=o||window;const f=zl(e),d=Gf(f,this.transformPagePoint),{point:m}=d,{timestamp:g}=qt;this.history=[{...m,timestamp:g}];const{onSessionStart:y}=n;y&&y(e,Qf(d,this.history)),this.removeListeners=jl(fl(this.contextWindow,"pointermove",this.handlePointerMove),fl(this.contextWindow,"pointerup",this.handlePointerUp),fl(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),es(this.updatePoint)}}function Gf(t,e){return e?{point:e(t.point)}:t}function Ov(t,e){return{x:t.x-e.x,y:t.y-e.y}}function Qf({point:t},e){return{point:t,delta:Ov(t,pE(e)),offset:Ov(t,qP(e)),velocity:KP(e,.1)}}function qP(t){return t[0]}function pE(t){return t[t.length-1]}function KP(t,e){if(t.length<2)return{x:0,y:0};let n=t.length-1,i=null;const o=pE(t);for(;n>=0&&(i=t[n],!(o.timestamp-i.timestamp>jr(e)));)n--;if(!i)return{x:0,y:0};const a=Xn(o.timestamp-i.timestamp);if(a===0)return{x:0,y:0};const u={x:(o.x-i.x)/a,y:(o.y-i.y)/a};return u.x===1/0&&(u.x=0),u.y===1/0&&(u.y=0),u}function GP(t,{min:e,max:n},i){return e!==void 0&&t<e?t=i?ct(e,t,i.min):Math.max(t,e):n!==void 0&&t>n&&(t=i?ct(n,t,i.max):Math.min(t,n)),t}function Fv(t,e,n){return{min:e!==void 0?t.min+e:void 0,max:n!==void 0?t.max+n-(t.max-t.min):void 0}}function QP(t,{top:e,left:n,bottom:i,right:o}){return{x:Fv(t.x,n,o),y:Fv(t.y,e,i)}}function jv(t,e){let n=e.min-t.min,i=e.max-t.max;return e.max-e.min<t.max-t.min&&([n,i]=[i,n]),{min:n,max:i}}function YP(t,e){return{x:jv(t.x,e.x),y:jv(t.y,e.y)}}function XP(t,e){let n=.5;const i=hn(t),o=hn(e);return o>i?n=El(e.min,e.max-i,t.min):i>o&&(n=El(t.min,t.max-o,e.min)),di(0,1,n)}function JP(t,e){const n={};return e.min!==void 0&&(n.min=e.min-t.min),e.max!==void 0&&(n.max=e.max-t.min),n}const Nd=.35;function ZP(t=Nd){return t===!1?t=0:t===!0&&(t=Nd),{x:Bv(t,"left","right"),y:Bv(t,"top","bottom")}}function Bv(t,e,n){return{min:Uv(t,e),max:Uv(t,n)}}function Uv(t,e){return typeof t=="number"?t:t[e]||0}const eR=new WeakMap;class tR{constructor(e){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=_t(),this.latestPointerEvent=null,this.latestPanInfo=null,this.visualElement=e}start(e,{snapToCursor:n=!1,distanceThreshold:i}={}){const{presenceContext:o}=this.visualElement;if(o&&o.isPresent===!1)return;const a=y=>{const{dragSnapToOrigin:E}=this.getProps();E?this.pauseAnimation():this.stopAnimation(),n&&this.snapToCursor(zl(y).point)},u=(y,E)=>{const{drag:A,dragPropagation:M,onDragStart:b}=this.getProps();if(A&&!M&&(this.openDragLock&&this.openDragLock(),this.openDragLock=pC(A),!this.openDragLock))return;this.latestPointerEvent=y,this.latestPanInfo=E,this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),Gn(O=>{let K=this.getAxisMotionValue(O).get()||0;if(Br.test(K)){const{projection:B}=this.visualElement;if(B&&B.layout){const Z=B.layout.layoutBox[O];Z&&(K=hn(Z)*(parseFloat(K)/100))}}this.originPoint[O]=K}),b&&ot.postRender(()=>b(y,E)),bd(this.visualElement,"transform");const{animationState:k}=this.visualElement;k&&k.setActive("whileDrag",!0)},f=(y,E)=>{this.latestPointerEvent=y,this.latestPanInfo=E;const{dragPropagation:A,dragDirectionLock:M,onDirectionLock:b,onDrag:k}=this.getProps();if(!A&&!this.openDragLock)return;const{offset:O}=E;if(M&&this.currentDirection===null){this.currentDirection=nR(O),this.currentDirection!==null&&b&&b(this.currentDirection);return}this.updateAxis("x",E.point,O),this.updateAxis("y",E.point,O),this.visualElement.render(),k&&k(y,E)},d=(y,E)=>{this.latestPointerEvent=y,this.latestPanInfo=E,this.stop(y,E),this.latestPointerEvent=null,this.latestPanInfo=null},m=()=>Gn(y=>{var E;return this.getAnimationState(y)==="paused"&&((E=this.getAxisMotionValue(y).animation)==null?void 0:E.play())}),{dragSnapToOrigin:g}=this.getProps();this.panSession=new dE(e,{onSessionStart:a,onStart:u,onMove:f,onSessionEnd:d,resumeAnimation:m},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:g,distanceThreshold:i,contextWindow:fE(this.visualElement)})}stop(e,n){const i=e||this.latestPointerEvent,o=n||this.latestPanInfo,a=this.isDragging;if(this.cancel(),!a||!o||!i)return;const{velocity:u}=o;this.startAnimation(u);const{onDragEnd:f}=this.getProps();f&&ot.postRender(()=>f(i,o))}cancel(){this.isDragging=!1;const{projection:e,animationState:n}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:i}=this.getProps();!i&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),n&&n.setActive("whileDrag",!1)}updateAxis(e,n,i){const{drag:o}=this.getProps();if(!i||!oc(e,o,this.currentDirection))return;const a=this.getAxisMotionValue(e);let u=this.originPoint[e]+i[e];this.constraints&&this.constraints[e]&&(u=GP(u,this.constraints[e],this.elastic[e])),a.set(u)}resolveConstraints(){var a;const{dragConstraints:e,dragElastic:n}=this.getProps(),i=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(a=this.visualElement.projection)==null?void 0:a.layout,o=this.constraints;e&&Uo(e)?this.constraints||(this.constraints=this.resolveRefConstraints()):e&&i?this.constraints=QP(i.layoutBox,e):this.constraints=!1,this.elastic=ZP(n),o!==this.constraints&&i&&this.constraints&&!this.hasMutatedConstraints&&Gn(u=>{this.constraints!==!1&&this.getAxisMotionValue(u)&&(this.constraints[u]=JP(i.layoutBox[u],this.constraints[u]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:n}=this.getProps();if(!e||!Uo(e))return!1;const i=e.current,{projection:o}=this.visualElement;if(!o||!o.layout)return!1;const a=sP(i,o.root,this.visualElement.getTransformPagePoint());let u=YP(o.layout.layoutBox,a);if(n){const f=n(nP(u));this.hasMutatedConstraints=!!f,f&&(u=Yw(f))}return u}startAnimation(e){const{drag:n,dragMomentum:i,dragElastic:o,dragTransition:a,dragSnapToOrigin:u,onDragTransitionEnd:f}=this.getProps(),d=this.constraints||{},m=Gn(g=>{if(!oc(g,n,this.currentDirection))return;let y=d&&d[g]||{};u&&(y={min:0,max:0});const E=o?200:1e6,A=o?40:1e7,M={type:"inertia",velocity:i?e[g]:0,bounceStiffness:E,bounceDamping:A,timeConstant:750,restDelta:1,restSpeed:10,...a,...y};return this.startAxisValueAnimation(g,M)});return Promise.all(m).then(f)}startAxisValueAnimation(e,n){const i=this.getAxisMotionValue(e);return bd(this.visualElement,e),i.start(qp(e,i,0,n,this.visualElement,!1))}stopAnimation(){Gn(e=>this.getAxisMotionValue(e).stop())}pauseAnimation(){Gn(e=>{var n;return(n=this.getAxisMotionValue(e).animation)==null?void 0:n.pause()})}getAnimationState(e){var n;return(n=this.getAxisMotionValue(e).animation)==null?void 0:n.state}getAxisMotionValue(e){const n=`_drag${e.toUpperCase()}`,i=this.visualElement.getProps(),o=i[n];return o||this.visualElement.getValue(e,(i.initial?i.initial[e]:void 0)||0)}snapToCursor(e){Gn(n=>{const{drag:i}=this.getProps();if(!oc(n,i,this.currentDirection))return;const{projection:o}=this.visualElement,a=this.getAxisMotionValue(n);if(o&&o.layout){const{min:u,max:f}=o.layout.layoutBox[n];a.set(e[n]-ct(u,f,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:n}=this.getProps(),{projection:i}=this.visualElement;if(!Uo(n)||!i||!this.constraints)return;this.stopAnimation();const o={x:0,y:0};Gn(u=>{const f=this.getAxisMotionValue(u);if(f&&this.constraints!==!1){const d=f.get();o[u]=XP({min:d,max:d},this.constraints[u])}});const{transformTemplate:a}=this.visualElement.getProps();this.visualElement.current.style.transform=a?a({},""):"none",i.root&&i.root.updateScroll(),i.updateLayout(),this.resolveConstraints(),Gn(u=>{if(!oc(u,e,null))return;const f=this.getAxisMotionValue(u),{min:d,max:m}=this.constraints[u];f.set(ct(d,m,o[u]))})}addListeners(){if(!this.visualElement.current)return;eR.set(this.visualElement,this);const e=this.visualElement.current,n=fl(e,"pointerdown",d=>{const{drag:m,dragListener:g=!0}=this.getProps();m&&g&&this.start(d)}),i=()=>{const{dragConstraints:d}=this.getProps();Uo(d)&&d.current&&(this.constraints=this.resolveRefConstraints())},{projection:o}=this.visualElement,a=o.addEventListener("measure",i);o&&!o.layout&&(o.root&&o.root.updateScroll(),o.updateLayout()),ot.read(i);const u=Il(window,"resize",()=>this.scalePositionWithinConstraints()),f=o.addEventListener("didUpdate",(({delta:d,hasLayoutChanged:m})=>{this.isDragging&&m&&(Gn(g=>{const y=this.getAxisMotionValue(g);y&&(this.originPoint[g]+=d[g].translate,y.set(y.get()+d[g].translate))}),this.visualElement.render())}));return()=>{u(),n(),a(),f&&f()}}getProps(){const e=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:i=!1,dragPropagation:o=!1,dragConstraints:a=!1,dragElastic:u=Nd,dragMomentum:f=!0}=e;return{...e,drag:n,dragDirectionLock:i,dragPropagation:o,dragConstraints:a,dragElastic:u,dragMomentum:f}}}function oc(t,e,n){return(e===!0||e===t)&&(n===null||n===t)}function nR(t,e=10){let n=null;return Math.abs(t.y)>e?n="y":Math.abs(t.x)>e&&(n="x"),n}class rR extends ls{constructor(e){super(e),this.removeGroupControls=Jn,this.removeListeners=Jn,this.controls=new tR(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||Jn}unmount(){this.removeGroupControls(),this.removeListeners()}}const zv=t=>(e,n)=>{t&&ot.postRender(()=>t(e,n))};class iR extends ls{constructor(){super(...arguments),this.removePointerDownListener=Jn}onPointerDown(e){this.session=new dE(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:fE(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:n,onPan:i,onPanEnd:o}=this.node.getProps();return{onSessionStart:zv(e),onStart:zv(n),onMove:i,onEnd:(a,u)=>{delete this.session,o&&ot.postRender(()=>o(a,u))}}}mount(){this.removePointerDownListener=fl(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const yc={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function $v(t,e){return e.max===e.min?0:t/(e.max-e.min)*100}const rl={correct:(t,e)=>{if(!e.target)return t;if(typeof t=="string")if(Pe.test(t))t=parseFloat(t);else return t;const n=$v(t,e.target.x),i=$v(t,e.target.y);return`${n}% ${i}%`}},sR={correct:(t,{treeScale:e,projectionDelta:n})=>{const i=t,o=ts.parse(t);if(o.length>5)return i;const a=ts.createTransformer(t),u=typeof o[0]!="number"?1:0,f=n.x.scale*e.x,d=n.y.scale*e.y;o[0+u]/=f,o[1+u]/=d;const m=ct(f,d,.5);return typeof o[2+u]=="number"&&(o[2+u]/=m),typeof o[3+u]=="number"&&(o[3+u]/=m),a(o)}};let Yf=!1;class oR extends U.Component{componentDidMount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:i,layoutId:o}=this.props,{projection:a}=e;kC(aR),a&&(n.group&&n.group.add(a),i&&i.register&&o&&i.register(a),Yf&&a.root.didUpdate(),a.addEventListener("animationComplete",()=>{this.safeToRemove()}),a.setOptions({...a.options,onExitComplete:()=>this.safeToRemove()})),yc.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:n,visualElement:i,drag:o,isPresent:a}=this.props,{projection:u}=i;return u&&(u.isPresent=a,Yf=!0,o||e.layoutDependency!==n||n===void 0||e.isPresent!==a?u.willUpdate():this.safeToRemove(),e.isPresent!==a&&(a?u.promote():u.relegate()||ot.postRender(()=>{const f=u.getStack();(!f||!f.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),Mp.postRender(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:i}=this.props,{projection:o}=e;Yf=!0,o&&(o.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(o),i&&i.deregister&&i.deregister(o))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function mE(t){const[e,n]=SC(),i=U.useContext(H_);return X.jsx(oR,{...t,layoutGroup:i,switchLayoutGroup:U.useContext(Gw),isPresent:e,safeToRemove:n})}const aR={borderRadius:{...rl,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:rl,borderTopRightRadius:rl,borderBottomLeftRadius:rl,borderBottomRightRadius:rl,boxShadow:sR};function lR(t,e,n){const i=on(t)?t:Go(t);return i.start(qp("",i,e,n)),i.animation}const uR=(t,e)=>t.depth-e.depth;class cR{constructor(){this.children=[],this.isDirty=!1}add(e){gp(this.children,e),this.isDirty=!0}remove(e){yp(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(uR),this.isDirty=!1,this.children.forEach(e)}}function hR(t,e){const n=Tn.now(),i=({timestamp:o})=>{const a=o-n;a>=e&&(es(i),t(a-e))};return ot.setup(i,!0),()=>es(i)}const gE=["TopLeft","TopRight","BottomLeft","BottomRight"],fR=gE.length,Hv=t=>typeof t=="string"?parseFloat(t):t,Wv=t=>typeof t=="number"||Pe.test(t);function dR(t,e,n,i,o,a){o?(t.opacity=ct(0,n.opacity??1,pR(i)),t.opacityExit=ct(e.opacity??1,0,mR(i))):a&&(t.opacity=ct(e.opacity??1,n.opacity??1,i));for(let u=0;u<fR;u++){const f=`border${gE[u]}Radius`;let d=qv(e,f),m=qv(n,f);if(d===void 0&&m===void 0)continue;d||(d=0),m||(m=0),d===0||m===0||Wv(d)===Wv(m)?(t[f]=Math.max(ct(Hv(d),Hv(m),i),0),(Br.test(m)||Br.test(d))&&(t[f]+="%")):t[f]=m}(e.rotate||n.rotate)&&(t.rotate=ct(e.rotate||0,n.rotate||0,i))}function qv(t,e){return t[e]!==void 0?t[e]:t.borderRadius}const pR=yE(0,.5,rw),mR=yE(.5,.95,Jn);function yE(t,e,n){return i=>i<t?0:i>e?1:n(El(t,e,i))}function Kv(t,e){t.min=e.min,t.max=e.max}function Kn(t,e){Kv(t.x,e.x),Kv(t.y,e.y)}function Gv(t,e){t.translate=e.translate,t.scale=e.scale,t.originPoint=e.originPoint,t.origin=e.origin}function Qv(t,e,n,i,o){return t-=e,t=Rc(t,1/n,i),o!==void 0&&(t=Rc(t,1/o,i)),t}function gR(t,e=0,n=1,i=.5,o,a=t,u=t){if(Br.test(e)&&(e=parseFloat(e),e=ct(u.min,u.max,e/100)-u.min),typeof e!="number")return;let f=ct(a.min,a.max,i);t===a&&(f-=e),t.min=Qv(t.min,e,n,f,o),t.max=Qv(t.max,e,n,f,o)}function Yv(t,e,[n,i,o],a,u){gR(t,e[n],e[i],e[o],e.scale,a,u)}const yR=["x","scaleX","originX"],vR=["y","scaleY","originY"];function Xv(t,e,n,i){Yv(t.x,e,yR,n?n.x:void 0,i?i.x:void 0),Yv(t.y,e,vR,n?n.y:void 0,i?i.y:void 0)}function Jv(t){return t.translate===0&&t.scale===1}function vE(t){return Jv(t.x)&&Jv(t.y)}function Zv(t,e){return t.min===e.min&&t.max===e.max}function _R(t,e){return Zv(t.x,e.x)&&Zv(t.y,e.y)}function e0(t,e){return Math.round(t.min)===Math.round(e.min)&&Math.round(t.max)===Math.round(e.max)}function _E(t,e){return e0(t.x,e.x)&&e0(t.y,e.y)}function t0(t){return hn(t.x)/hn(t.y)}function n0(t,e){return t.translate===e.translate&&t.scale===e.scale&&t.originPoint===e.originPoint}class wR{constructor(){this.members=[]}add(e){gp(this.members,e),e.scheduleRender()}remove(e){if(yp(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(e){const n=this.members.findIndex(o=>e===o);if(n===0)return!1;let i;for(let o=n;o>=0;o--){const a=this.members[o];if(a.isPresent!==!1){i=a;break}}return i?(this.promote(i),!0):!1}promote(e,n){const i=this.lead;if(e!==i&&(this.prevLead=i,this.lead=e,e.show(),i)){i.instance&&i.scheduleRender(),e.scheduleRender(),e.resumeFrom=i,n&&(e.resumeFrom.preserveOpacity=!0),i.snapshot&&(e.snapshot=i.snapshot,e.snapshot.latestValues=i.animationValues||i.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:o}=e.options;o===!1&&i.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:n,resumingFrom:i}=e;n.onExitComplete&&n.onExitComplete(),i&&i.options.onExitComplete&&i.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function ER(t,e,n){let i="";const o=t.x.translate/e.x,a=t.y.translate/e.y,u=(n==null?void 0:n.z)||0;if((o||a||u)&&(i=`translate3d(${o}px, ${a}px, ${u}px) `),(e.x!==1||e.y!==1)&&(i+=`scale(${1/e.x}, ${1/e.y}) `),n){const{transformPerspective:m,rotate:g,rotateX:y,rotateY:E,skewX:A,skewY:M}=n;m&&(i=`perspective(${m}px) ${i}`),g&&(i+=`rotate(${g}deg) `),y&&(i+=`rotateX(${y}deg) `),E&&(i+=`rotateY(${E}deg) `),A&&(i+=`skewX(${A}deg) `),M&&(i+=`skewY(${M}deg) `)}const f=t.x.scale*e.x,d=t.y.scale*e.y;return(f!==1||d!==1)&&(i+=`scale(${f}, ${d})`),i||"none"}const Xf=["","X","Y","Z"],TR=1e3;let SR=0;function Jf(t,e,n,i){const{latestValues:o}=e;o[t]&&(n[t]=o[t],e.setStaticValue(t,0),i&&(i[t]=0))}function wE(t){if(t.hasCheckedOptimisedAppear=!0,t.root===t)return;const{visualElement:e}=t.options;if(!e)return;const n=iE(e);if(window.MotionHasOptimisedAnimation(n,"transform")){const{layout:o,layoutId:a}=t.options;window.MotionCancelOptimisedAnimation(n,"transform",ot,!(o||a))}const{parent:i}=t;i&&!i.hasCheckedOptimisedAppear&&wE(i)}function EE({attachResizeListener:t,defaultParent:e,measureScroll:n,checkIsScrollRoot:i,resetTransform:o}){return class{constructor(u={},f=e==null?void 0:e()){this.id=SR++,this.animationId=0,this.animationCommitId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(IR),this.nodes.forEach(kR),this.nodes.forEach(VR),this.nodes.forEach(CR)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=u,this.root=f?f.root||f:this,this.path=f?[...f.path,f]:[],this.parent=f,this.depth=f?f.depth+1:0;for(let d=0;d<this.path.length;d++)this.path[d].shouldResetTransform=!0;this.root===this&&(this.nodes=new cR)}addEventListener(u,f){return this.eventHandlers.has(u)||this.eventHandlers.set(u,new wp),this.eventHandlers.get(u).add(f)}notifyListeners(u,...f){const d=this.eventHandlers.get(u);d&&d.notify(...f)}hasListeners(u){return this.eventHandlers.has(u)}mount(u){if(this.instance)return;this.isSVG=Mw(u)&&!wC(u),this.instance=u;const{layoutId:f,layout:d,visualElement:m}=this.options;if(m&&!m.current&&m.mount(u),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(d||f)&&(this.isLayoutDirty=!0),t){let g,y=0;const E=()=>this.root.updateBlockedByResize=!1;ot.read(()=>{y=window.innerWidth}),t(u,()=>{const A=window.innerWidth;A!==y&&(y=A,this.root.updateBlockedByResize=!0,g&&g(),g=hR(E,250),yc.hasAnimatedSinceResize&&(yc.hasAnimatedSinceResize=!1,this.nodes.forEach(s0)))})}f&&this.root.registerSharedNode(f,this),this.options.animate!==!1&&m&&(f||d)&&this.addEventListener("didUpdate",({delta:g,hasLayoutChanged:y,hasRelativeLayoutChanged:E,layout:A})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const M=this.options.transition||m.getDefaultTransition()||LR,{onLayoutAnimationStart:b,onLayoutAnimationComplete:k}=m.getProps(),O=!this.targetLayout||!_E(this.targetLayout,A),K=!y&&E;if(this.options.layoutRoot||this.resumeFrom||K||y&&(O||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0);const B={...Dp(M,"layout"),onPlay:b,onComplete:k};(m.shouldReduceMotion||this.options.layoutRoot)&&(B.delay=0,B.type=!1),this.startAnimation(B),this.setAnimationOrigin(g,K)}else y||s0(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=A})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const u=this.getStack();u&&u.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),es(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(bR),this.animationId++)}getTransformTemplate(){const{visualElement:u}=this.options;return u&&u.getProps().transformTemplate}willUpdate(u=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&wE(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let g=0;g<this.path.length;g++){const y=this.path[g];y.shouldResetTransform=!0,y.updateScroll("snapshot"),y.options.layoutRoot&&y.willUpdate(!1)}const{layoutId:f,layout:d}=this.options;if(f===void 0&&!d)return;const m=this.getTransformTemplate();this.prevTransformTemplateValue=m?m(this.latestValues,""):void 0,this.updateSnapshot(),u&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(r0);return}if(this.animationId<=this.animationCommitId){this.nodes.forEach(i0);return}this.animationCommitId=this.animationId,this.isUpdating?(this.isUpdating=!1,this.nodes.forEach(RR),this.nodes.forEach(xR),this.nodes.forEach(AR)):this.nodes.forEach(i0),this.clearAllSnapshots();const f=Tn.now();qt.delta=di(0,1e3/60,f-qt.timestamp),qt.timestamp=f,qt.isProcessing=!0,Bf.update.process(qt),Bf.preRender.process(qt),Bf.render.process(qt),qt.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,Mp.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(PR),this.sharedNodes.forEach(DR)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,ot.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){ot.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!hn(this.snapshot.measuredBox.x)&&!hn(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let d=0;d<this.path.length;d++)this.path[d].updateScroll();const u=this.layout;this.layout=this.measure(!1),this.layoutCorrected=_t(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:f}=this.options;f&&f.notify("LayoutMeasure",this.layout.layoutBox,u?u.layoutBox:void 0)}updateScroll(u="measure"){let f=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===u&&(f=!1),f&&this.instance){const d=i(this.instance);this.scroll={animationId:this.root.animationId,phase:u,isRoot:d,offset:n(this.instance),wasRoot:this.scroll?this.scroll.isRoot:d}}}resetTransform(){if(!o)return;const u=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,f=this.projectionDelta&&!vE(this.projectionDelta),d=this.getTransformTemplate(),m=d?d(this.latestValues,""):void 0,g=m!==this.prevTransformTemplateValue;u&&this.instance&&(f||Ls(this.latestValues)||g)&&(o(this.instance,m),this.shouldResetTransform=!1,this.scheduleRender())}measure(u=!0){const f=this.measurePageBox();let d=this.removeElementScroll(f);return u&&(d=this.removeTransform(d)),OR(d),{animationId:this.root.animationId,measuredBox:f,layoutBox:d,latestValues:{},source:this.id}}measurePageBox(){var m;const{visualElement:u}=this.options;if(!u)return _t();const f=u.measureViewportBox();if(!(((m=this.scroll)==null?void 0:m.wasRoot)||this.path.some(FR))){const{scroll:g}=this.root;g&&(zo(f.x,g.offset.x),zo(f.y,g.offset.y))}return f}removeElementScroll(u){var d;const f=_t();if(Kn(f,u),(d=this.scroll)!=null&&d.wasRoot)return f;for(let m=0;m<this.path.length;m++){const g=this.path[m],{scroll:y,options:E}=g;g!==this.root&&y&&E.layoutScroll&&(y.wasRoot&&Kn(f,u),zo(f.x,y.offset.x),zo(f.y,y.offset.y))}return f}applyTransform(u,f=!1){const d=_t();Kn(d,u);for(let m=0;m<this.path.length;m++){const g=this.path[m];!f&&g.options.layoutScroll&&g.scroll&&g!==g.root&&$o(d,{x:-g.scroll.offset.x,y:-g.scroll.offset.y}),Ls(g.latestValues)&&$o(d,g.latestValues)}return Ls(this.latestValues)&&$o(d,this.latestValues),d}removeTransform(u){const f=_t();Kn(f,u);for(let d=0;d<this.path.length;d++){const m=this.path[d];if(!m.instance||!Ls(m.latestValues))continue;Pd(m.latestValues)&&m.updateSnapshot();const g=_t(),y=m.measurePageBox();Kn(g,y),Xv(f,m.latestValues,m.snapshot?m.snapshot.layoutBox:void 0,g)}return Ls(this.latestValues)&&Xv(f,this.latestValues),f}setTargetDelta(u){this.targetDelta=u,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(u){this.options={...this.options,...u,crossfade:u.crossfade!==void 0?u.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==qt.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(u=!1){var E;const f=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=f.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=f.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=f.isSharedProjectionDirty);const d=!!this.resumingFrom||this!==f;if(!(u||d&&this.isSharedProjectionDirty||this.isProjectionDirty||(E=this.parent)!=null&&E.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:g,layoutId:y}=this.options;if(!(!this.layout||!(g||y))){if(this.resolvedRelativeTargetAt=qt.timestamp,!this.targetDelta&&!this.relativeTarget){const A=this.getClosestProjectingParent();A&&A.layout&&this.animationProgress!==1?(this.relativeParent=A,this.forceRelativeParentToResolveTarget(),this.relativeTarget=_t(),this.relativeTargetOrigin=_t(),pl(this.relativeTargetOrigin,this.layout.layoutBox,A.layout.layoutBox),Kn(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=_t(),this.targetWithTransforms=_t()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),HP(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):Kn(this.target,this.layout.layoutBox),Jw(this.target,this.targetDelta)):Kn(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget)){this.attemptToResolveRelativeTarget=!1;const A=this.getClosestProjectingParent();A&&!!A.resumingFrom==!!this.resumingFrom&&!A.options.layoutScroll&&A.target&&this.animationProgress!==1?(this.relativeParent=A,this.forceRelativeParentToResolveTarget(),this.relativeTarget=_t(),this.relativeTargetOrigin=_t(),pl(this.relativeTargetOrigin,this.target,A.target),Kn(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}}}getClosestProjectingParent(){if(!(!this.parent||Pd(this.parent.latestValues)||Xw(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var M;const u=this.getLead(),f=!!this.resumingFrom||this!==u;let d=!0;if((this.isProjectionDirty||(M=this.parent)!=null&&M.isProjectionDirty)&&(d=!1),f&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(d=!1),this.resolvedRelativeTargetAt===qt.timestamp&&(d=!1),d)return;const{layout:m,layoutId:g}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(m||g))return;Kn(this.layoutCorrected,this.layout.layoutBox);const y=this.treeScale.x,E=this.treeScale.y;iP(this.layoutCorrected,this.treeScale,this.path,f),u.layout&&!u.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(u.target=u.layout.layoutBox,u.targetWithTransforms=_t());const{target:A}=u;if(!A){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(Gv(this.prevProjectionDelta.x,this.projectionDelta.x),Gv(this.prevProjectionDelta.y,this.projectionDelta.y)),dl(this.projectionDelta,this.layoutCorrected,A,this.latestValues),(this.treeScale.x!==y||this.treeScale.y!==E||!n0(this.projectionDelta.x,this.prevProjectionDelta.x)||!n0(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",A))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(u=!0){var f;if((f=this.options.visualElement)==null||f.scheduleRender(),u){const d=this.getStack();d&&d.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=Ho(),this.projectionDelta=Ho(),this.projectionDeltaWithTransform=Ho()}setAnimationOrigin(u,f=!1){const d=this.snapshot,m=d?d.latestValues:{},g={...this.latestValues},y=Ho();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!f;const E=_t(),A=d?d.source:void 0,M=this.layout?this.layout.source:void 0,b=A!==M,k=this.getStack(),O=!k||k.members.length<=1,K=!!(b&&!O&&this.options.crossfade===!0&&!this.path.some(MR));this.animationProgress=0;let B;this.mixTargetDelta=Z=>{const ne=Z/1e3;o0(y.x,u.x,ne),o0(y.y,u.y,ne),this.setTargetDelta(y),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(pl(E,this.layout.layoutBox,this.relativeParent.layout.layoutBox),NR(this.relativeTarget,this.relativeTargetOrigin,E,ne),B&&_R(this.relativeTarget,B)&&(this.isProjectionDirty=!1),B||(B=_t()),Kn(B,this.relativeTarget)),b&&(this.animationValues=g,dR(g,m,this.latestValues,ne,K,O)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=ne},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(u){var f,d,m;this.notifyListeners("animationStart"),(f=this.currentAnimation)==null||f.stop(),(m=(d=this.resumingFrom)==null?void 0:d.currentAnimation)==null||m.stop(),this.pendingAnimation&&(es(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=ot.update(()=>{yc.hasAnimatedSinceResize=!0,this.motionValue||(this.motionValue=Go(0)),this.currentAnimation=lR(this.motionValue,[0,1e3],{...u,velocity:0,isSync:!0,onUpdate:g=>{this.mixTargetDelta(g),u.onUpdate&&u.onUpdate(g)},onStop:()=>{},onComplete:()=>{u.onComplete&&u.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const u=this.getStack();u&&u.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(TR),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const u=this.getLead();let{targetWithTransforms:f,target:d,layout:m,latestValues:g}=u;if(!(!f||!d||!m)){if(this!==u&&this.layout&&m&&TE(this.options.animationType,this.layout.layoutBox,m.layoutBox)){d=this.target||_t();const y=hn(this.layout.layoutBox.x);d.x.min=u.target.x.min,d.x.max=d.x.min+y;const E=hn(this.layout.layoutBox.y);d.y.min=u.target.y.min,d.y.max=d.y.min+E}Kn(f,d),$o(f,g),dl(this.projectionDeltaWithTransform,this.layoutCorrected,f,g)}}registerSharedNode(u,f){this.sharedNodes.has(u)||this.sharedNodes.set(u,new wR),this.sharedNodes.get(u).add(f);const m=f.options.initialPromotionConfig;f.promote({transition:m?m.transition:void 0,preserveFollowOpacity:m&&m.shouldPreserveFollowOpacity?m.shouldPreserveFollowOpacity(f):void 0})}isLead(){const u=this.getStack();return u?u.lead===this:!0}getLead(){var f;const{layoutId:u}=this.options;return u?((f=this.getStack())==null?void 0:f.lead)||this:this}getPrevLead(){var f;const{layoutId:u}=this.options;return u?(f=this.getStack())==null?void 0:f.prevLead:void 0}getStack(){const{layoutId:u}=this.options;if(u)return this.root.sharedNodes.get(u)}promote({needsReset:u,transition:f,preserveFollowOpacity:d}={}){const m=this.getStack();m&&m.promote(this,d),u&&(this.projectionDelta=void 0,this.needsReset=!0),f&&this.setOptions({transition:f})}relegate(){const u=this.getStack();return u?u.relegate(this):!1}resetSkewAndRotation(){const{visualElement:u}=this.options;if(!u)return;let f=!1;const{latestValues:d}=u;if((d.z||d.rotate||d.rotateX||d.rotateY||d.rotateZ||d.skewX||d.skewY)&&(f=!0),!f)return;const m={};d.z&&Jf("z",u,m,this.animationValues);for(let g=0;g<Xf.length;g++)Jf(`rotate${Xf[g]}`,u,m,this.animationValues),Jf(`skew${Xf[g]}`,u,m,this.animationValues);u.render();for(const g in m)u.setStaticValue(g,m[g]),this.animationValues&&(this.animationValues[g]=m[g]);u.scheduleRender()}applyProjectionStyles(u,f){if(!this.instance||this.isSVG)return;if(!this.isVisible){u.visibility="hidden";return}const d=this.getTransformTemplate();if(this.needsReset){this.needsReset=!1,u.visibility="",u.opacity="",u.pointerEvents=gc(f==null?void 0:f.pointerEvents)||"",u.transform=d?d(this.latestValues,""):"none";return}const m=this.getLead();if(!this.projectionDelta||!this.layout||!m.target){this.options.layoutId&&(u.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,u.pointerEvents=gc(f==null?void 0:f.pointerEvents)||""),this.hasProjected&&!Ls(this.latestValues)&&(u.transform=d?d({},""):"none",this.hasProjected=!1);return}u.visibility="";const g=m.animationValues||m.latestValues;this.applyTransformsToTarget();let y=ER(this.projectionDeltaWithTransform,this.treeScale,g);d&&(y=d(g,y)),u.transform=y;const{x:E,y:A}=this.projectionDelta;u.transformOrigin=`${E.origin*100}% ${A.origin*100}% 0`,m.animationValues?u.opacity=m===this?g.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:g.opacityExit:u.opacity=m===this?g.opacity!==void 0?g.opacity:"":g.opacityExit!==void 0?g.opacityExit:0;for(const M in Al){if(g[M]===void 0)continue;const{correct:b,applyTo:k,isCSSVariable:O}=Al[M],K=y==="none"?g[M]:b(g[M],m);if(k){const B=k.length;for(let Z=0;Z<B;Z++)u[k[Z]]=K}else O?this.options.visualElement.renderState.vars[M]=K:u[M]=K}this.options.layoutId&&(u.pointerEvents=m===this?gc(f==null?void 0:f.pointerEvents)||"":"none")}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(u=>{var f;return(f=u.currentAnimation)==null?void 0:f.stop()}),this.root.nodes.forEach(r0),this.root.sharedNodes.clear()}}}function xR(t){t.updateLayout()}function AR(t){var n;const e=((n=t.resumeFrom)==null?void 0:n.snapshot)||t.snapshot;if(t.isLead()&&t.layout&&e&&t.hasListeners("didUpdate")){const{layoutBox:i,measuredBox:o}=t.layout,{animationType:a}=t.options,u=e.source!==t.layout.source;a==="size"?Gn(y=>{const E=u?e.measuredBox[y]:e.layoutBox[y],A=hn(E);E.min=i[y].min,E.max=E.min+A}):TE(a,e.layoutBox,i)&&Gn(y=>{const E=u?e.measuredBox[y]:e.layoutBox[y],A=hn(i[y]);E.max=E.min+A,t.relativeTarget&&!t.currentAnimation&&(t.isProjectionDirty=!0,t.relativeTarget[y].max=t.relativeTarget[y].min+A)});const f=Ho();dl(f,i,e.layoutBox);const d=Ho();u?dl(d,t.applyTransform(o,!0),e.measuredBox):dl(d,i,e.layoutBox);const m=!vE(f);let g=!1;if(!t.resumeFrom){const y=t.getClosestProjectingParent();if(y&&!y.resumeFrom){const{snapshot:E,layout:A}=y;if(E&&A){const M=_t();pl(M,e.layoutBox,E.layoutBox);const b=_t();pl(b,i,A.layoutBox),_E(M,b)||(g=!0),y.options.layoutRoot&&(t.relativeTarget=b,t.relativeTargetOrigin=M,t.relativeParent=y)}}}t.notifyListeners("didUpdate",{layout:i,snapshot:e,delta:d,layoutDelta:f,hasLayoutChanged:m,hasRelativeLayoutChanged:g})}else if(t.isLead()){const{onExitComplete:i}=t.options;i&&i()}t.options.transition=void 0}function IR(t){t.parent&&(t.isProjecting()||(t.isProjectionDirty=t.parent.isProjectionDirty),t.isSharedProjectionDirty||(t.isSharedProjectionDirty=!!(t.isProjectionDirty||t.parent.isProjectionDirty||t.parent.isSharedProjectionDirty)),t.isTransformDirty||(t.isTransformDirty=t.parent.isTransformDirty))}function CR(t){t.isProjectionDirty=t.isSharedProjectionDirty=t.isTransformDirty=!1}function PR(t){t.clearSnapshot()}function r0(t){t.clearMeasurements()}function i0(t){t.isLayoutDirty=!1}function RR(t){const{visualElement:e}=t.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),t.resetTransform()}function s0(t){t.finishAnimation(),t.targetDelta=t.relativeTarget=t.target=void 0,t.isProjectionDirty=!0}function kR(t){t.resolveTargetDelta()}function VR(t){t.calcProjection()}function bR(t){t.resetSkewAndRotation()}function DR(t){t.removeLeadSnapshot()}function o0(t,e,n){t.translate=ct(e.translate,0,n),t.scale=ct(e.scale,1,n),t.origin=e.origin,t.originPoint=e.originPoint}function a0(t,e,n,i){t.min=ct(e.min,n.min,i),t.max=ct(e.max,n.max,i)}function NR(t,e,n,i){a0(t.x,e.x,n.x,i),a0(t.y,e.y,n.y,i)}function MR(t){return t.animationValues&&t.animationValues.opacityExit!==void 0}const LR={duration:.45,ease:[.4,0,.1,1]},l0=t=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(t),u0=l0("applewebkit/")&&!l0("chrome/")?Math.round:Jn;function c0(t){t.min=u0(t.min),t.max=u0(t.max)}function OR(t){c0(t.x),c0(t.y)}function TE(t,e,n){return t==="position"||t==="preserve-aspect"&&!$P(t0(e),t0(n),.2)}function FR(t){var e;return t!==t.root&&((e=t.scroll)==null?void 0:e.wasRoot)}const jR=EE({attachResizeListener:(t,e)=>Il(t,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),Zf={current:void 0},SE=EE({measureScroll:t=>({x:t.scrollLeft,y:t.scrollTop}),defaultParent:()=>{if(!Zf.current){const t=new jR({});t.mount(window),t.setOptions({layoutScroll:!0}),Zf.current=t}return Zf.current},resetTransform:(t,e)=>{t.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:t=>window.getComputedStyle(t).position==="fixed"}),BR={pan:{Feature:iR},drag:{Feature:rR,ProjectionNode:SE,MeasureLayout:mE}};function h0(t,e,n){const{props:i}=t;t.animationState&&i.whileHover&&t.animationState.setActive("whileHover",n==="Start");const o="onHover"+n,a=i[o];a&&ot.postRender(()=>a(e,zl(e)))}class UR extends ls{mount(){const{current:e}=this.node;e&&(this.unmount=mC(e,(n,i)=>(h0(this.node,i,"Start"),o=>h0(this.node,o,"End"))))}unmount(){}}class zR extends ls{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=jl(Il(this.node.current,"focus",()=>this.onFocus()),Il(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function f0(t,e,n){const{props:i}=t;if(t.current instanceof HTMLButtonElement&&t.current.disabled)return;t.animationState&&i.whileTap&&t.animationState.setActive("whileTap",n==="Start");const o="onTap"+(n==="End"?"":n),a=i[o];a&&ot.postRender(()=>a(e,zl(e)))}class $R extends ls{mount(){const{current:e}=this.node;e&&(this.unmount=_C(e,(n,i)=>(f0(this.node,i,"Start"),(o,{success:a})=>f0(this.node,o,a?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const Md=new WeakMap,ed=new WeakMap,HR=t=>{const e=Md.get(t.target);e&&e(t)},WR=t=>{t.forEach(HR)};function qR({root:t,...e}){const n=t||document;ed.has(n)||ed.set(n,{});const i=ed.get(n),o=JSON.stringify(e);return i[o]||(i[o]=new IntersectionObserver(WR,{root:t,...e})),i[o]}function KR(t,e,n){const i=qR(e);return Md.set(t,n),i.observe(t),()=>{Md.delete(t),i.unobserve(t)}}const GR={some:0,all:1};class QR extends ls{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:n,margin:i,amount:o="some",once:a}=e,u={root:n?n.current:void 0,rootMargin:i,threshold:typeof o=="number"?o:GR[o]},f=d=>{const{isIntersecting:m}=d;if(this.isInView===m||(this.isInView=m,a&&!m&&this.hasEnteredView))return;m&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",m);const{onViewportEnter:g,onViewportLeave:y}=this.node.getProps(),E=m?g:y;E&&E(d)};return KR(this.node.current,u,f)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:n}=this.node;["amount","margin","root"].some(YR(e,n))&&this.startObserver()}unmount(){}}function YR({viewport:t={}},{viewport:e={}}={}){return n=>t[n]!==e[n]}const XR={inView:{Feature:QR},tap:{Feature:$R},focus:{Feature:zR},hover:{Feature:UR}},JR={layout:{ProjectionNode:SE,MeasureLayout:mE}},ZR={...OP,...XR,...BR,...JR},Ut=tP(ZR,pP);function e2(t){t.values.forEach(e=>e.stop())}function Ld(t,e){[...e].reverse().forEach(i=>{const o=t.getVariant(i);o&&Wp(t,o),t.variantChildren&&t.variantChildren.forEach(a=>{Ld(a,e)})})}function t2(t,e){if(Array.isArray(e))return Ld(t,e);if(typeof e=="string")return Ld(t,[e]);Wp(t,e)}function n2(){const t=new Set,e={subscribe(n){return t.add(n),()=>void t.delete(n)},start(n,i){const o=[];return t.forEach(a=>{o.push(aE(a,n,{transitionOverride:i}))}),Promise.all(o)},set(n){return t.forEach(i=>{t2(i,n)})},stop(){t.forEach(n=>{e2(n)})},mount(){return()=>{e.stop()}}};return e}function r2(){const t=W_(n2);return q_(t.mount,[]),t}const i2=r2,s2=t=>Array.from({length:t},(e,n)=>({id:n,x:Math.random()*100,y:Math.random()*100,size:Math.random()*2+1,opacity:Math.random()*.8+.2,twinkleRate:Math.random()*3+2})),o2=({className:t})=>{i2();const e=U.useRef(null),n=s2(200);return U.useEffect(()=>{const i=e.current;if(!i)return;const o=i.getContext("2d");if(!o)return;const a=()=>{i.width=window.innerWidth,i.height=window.innerHeight};return a(),window.addEventListener("resize",a),(()=>{if(!o)return;o.clearRect(0,0,i.width,i.height);const f=o.createLinearGradient(0,0,i.width,i.height);f.addColorStop(0,"#0a0a1a"),f.addColorStop(.5,"#1a0a2a"),f.addColorStop(1,"#0a0a1a"),o.fillStyle=f,o.fillRect(0,0,i.width,i.height);const d=(m,g,y,E)=>{o.beginPath(),o.arc(m,g,y,0,Math.PI*2),o.fillStyle=`rgba(100, 100, 200, ${E})`,o.fill()};for(let m=0;m<5;m++)d(Math.random()*i.width,Math.random()*i.height,Math.random()*100+50,Math.random()*.1+.02)})(),()=>{window.removeEventListener("resize",a)}},[]),X.jsxs("div",{className:`relative w-full h-full overflow-hidden ${t}`,children:[X.jsx("canvas",{ref:e,className:"absolute inset-0 w-full h-full z-0"}),n.map(i=>X.jsx(Ut.div,{className:"absolute bg-white rounded-full",style:{left:`${i.x}%`,top:`${i.y}%`,width:`${i.size}px`,height:`${i.size}px`,boxShadow:`0 0 ${i.size*2}px ${i.size}px rgba(255, 255, 255, ${i.opacity/2})`},animate:{opacity:[i.opacity*.7,i.opacity,i.opacity*.7],scale:[1,1.1,1]},transition:{duration:i.twinkleRate,repeat:1/0,ease:"easeInOut",times:[0,.5,1]}},i.id)),X.jsx("div",{className:"absolute inset-0 bg-gradient-to-b from-transparent via-blue-900/5 to-transparent z-0 pointer-events-none"})]})},a2=({onSubmit:t})=>{const[e,n]=U.useState({nickname:"",message:"",color:"#FFD700",shape:"star"}),[i,o]=U.useState(!1),[a,u]=U.useState(!1),f=["#FFD700","#FFFFFF","#87CEEB","#FF69B4","#32CD32","#FF6347","#9370DB","#FFA500","#20B2AA","#FF4500","#98FB98","#DDA0DD"],d=[{value:"star",label:""},{value:"star-half-stroke",label:""},{value:"circle",label:""},{value:"circle-half-stroke",label:""},{value:"diamond",label:""},{value:"heart",label:""},{value:"heart-half-stroke",label:""},{value:"moon",label:""},{value:"sun",label:""},{value:"bolt",label:""},{value:"star-of-david",label:""},{value:"asterisk",label:""},{value:"music",label:""},{value:"guitar",label:""},{value:"microphone",label:""},{value:"palette",label:""},{value:"brush",label:""},{value:"camera",label:""},{value:"film",label:""},{value:"book",label:""},{value:"pencil",label:""},{value:"pen-fancy",label:""},{value:"feather",label:""},{value:"anchor",label:""},{value:"cross",label:""},{value:"star-and-crescent",label:""},{value:"yin-yang",label:""},{value:"atom",label:""},{value:"dna",label:"DNA"},{value:"cloud",label:""},{value:"cloud-rain",label:""},{value:"snowflake",label:""},{value:"droplet",label:""},{value:"fire",label:""},{value:"leaf",label:""},{value:"flower",label:""},{value:"carrot",label:""},{value:"apple-whole",label:""},{value:"mushroom",label:""},{value:"paw",label:""},{value:"fish",label:""},{value:"bird",label:""},{value:"cat",label:""},{value:"dog",label:""},{value:"butterfly",label:""},{value:"dragon",label:""},{value:"unicorn",label:""},{value:"magic",label:""},{value:"wand-magic-sparkles",label:""},{value:"sparkles",label:""},{value:"gem",label:""},{value:"gem-dollar",label:""},{value:"coin",label:""},{value:"gift",label:""},{value:"bell",label:""},{value:"balloon",label:""},{value:"cake-candles",label:""},{value:"confetti-ball",label:""},{value:"tada",label:""},{value:"medal",label:""},{value:"trophy",label:""},{value:"thumbs-up",label:""},{value:"thumbs-down",label:""},{value:"hand-peace",label:""},{value:"hand-sparkles",label:""},{value:"hand-heart",label:""},{value:"chevron-up",label:""},{value:"chevron-down",label:""},{value:"chevron-left",label:""},{value:"chevron-right",label:""},{value:"play",label:""},{value:"pause",label:""},{value:"stop",label:""},{value:"volume-high",label:""},{value:"volume-low",label:""},{value:"volume-xmark",label:""},{value:"headphones",label:""},{value:"radio",label:""},{value:"record-vinyl",label:""},{value:"compact-disc",label:""},{value:"tape",label:""},{value:"walkie-talkie",label:""},{value:"plane",label:""},{value:"rocket",label:""},{value:"spaceship",label:""},{value:"ufo",label:""},{value:"satellite",label:""},{value:"comet",label:""},{value:"zodiac-aquarius",label:""},{value:"zodiac-pisces",label:""},{value:"zodiac-aries",label:""},{value:"zodiac-taurus",label:""},{value:"zodiac-gemini",label:""},{value:"zodiac-cancer",label:""},{value:"zodiac-leo",label:""},{value:"zodiac-virgo",label:""},{value:"zodiac-libra",label:""},{value:"zodiac-scorpio",label:""},{value:"zodiac-sagittarius",label:""},{value:"zodiac-capricorn",label:""}],m=d.slice(0,16),g=a?d:m,y=b=>{const{name:k,value:O}=b.target;n(K=>({...K,[k]:O}))},E=b=>{n(k=>({...k,color:b}))},A=b=>{n(k=>({...k,shape:b}))},M=b=>{if(b.preventDefault(),!e.nickname.trim()){ul.error("");return}if(!e.message.trim()){ul.error("");return}o(!0),setTimeout(()=>{t(e),n({nickname:"",message:"",color:"#FFD700",shape:"star"}),u(!1),ul.success(""),o(!1)},500)};return X.jsxs(Ut.div,{className:"bg-black/50 backdrop-blur-md rounded-xl p-5 border border-white/10",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},children:[X.jsx("h2",{className:"text-xl font-bold mb-4 text-white text-center",children:""}),X.jsxs("form",{onSubmit:M,className:"space-y-4",children:[X.jsxs("div",{children:[X.jsx("label",{htmlFor:"nickname",className:"block text-sm font-medium text-gray-300 mb-1",children:""}),X.jsx("input",{type:"text",id:"nickname",name:"nickname",value:e.nickname,onChange:y,placeholder:"",className:"w-full px-3 py-2 bg-white/10 border border-white/20 rounded-lg text-white placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-white/30",maxLength:20})]}),X.jsxs("div",{children:[X.jsx("label",{htmlFor:"message",className:"block text-sm font-medium text-gray-300 mb-1",children:""}),X.jsx("textarea",{id:"message",name:"message",value:e.message,onChange:y,placeholder:"",className:"w-full px-3 py-2 bg-white/10 border border-white/20 rounded-lg text-white placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-white/30 h-24 resize-none",maxLength:100}),X.jsxs("p",{className:"text-xs text-gray-400 mt-1 text-right",children:[e.message.length,"/100"]})]}),X.jsxs("div",{children:[X.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:""}),X.jsxs("div",{className:"flex gap-2 flex-wrap items-center",children:[f.map(b=>X.jsx(Ut.button,{type:"button",className:`w-8 h-8 rounded-full ${e.color===b?"ring-2 ring-white/50":""}`,style:{backgroundColor:b},onClick:()=>E(b),whileHover:{scale:1.1},whileTap:{scale:.95},"aria-label":`${b}`},b)),X.jsxs(Ut.div,{className:"relative",whileHover:{scale:1.05},children:[X.jsx("input",{type:"color",value:e.color,onChange:b=>E(b.target.value),className:"w-10 h-10 rounded-full cursor-pointer bg-transparent border border-white/20"}),X.jsx("span",{className:"absolute inset-0 flex items-center justify-center text-xs text-black font-bold",children:"+"})]})]})]}),X.jsxs("div",{children:[X.jsxs("div",{className:"flex justify-between items-center mb-2",children:[X.jsx("label",{className:"block text-sm font-medium text-gray-300",children:""}),X.jsxs(Ut.button,{type:"button",className:"text-xs text-gray-300 hover:text-white flex items-center gap-1",onClick:()=>u(!a),whileHover:{scale:1.05},whileTap:{scale:.95},children:[a?"":"",X.jsx("i",{className:`fa-solid fa-chevron-${a?"up":"down"} text-xs`})]})]}),X.jsxs(Ut.div,{className:"grid grid-cols-4 sm:grid-cols-5 md:grid-cols-8 gap-2",initial:!1,animate:{height:a?"auto":"120px",overflow:a?"visible":"hidden"},transition:{duration:.3},children:[g.map(b=>X.jsxs(Ut.button,{type:"button",className:`flex flex-col items-center justify-center p-2 rounded-lg transition-colors aspect-square ${e.shape===b.value?"bg-white/20 text-white":"bg-white/10 text-white/60 hover:bg-white/15"}`,onClick:()=>A(b.value),whileHover:{scale:1.05},whileTap:{scale:.95},"aria-label":`${b.label}`,children:[X.jsx("i",{className:`fa-solid fa-${b.value} text-lg mb-1`}),X.jsx("span",{className:"text-xs truncate max-w-full text-center",children:b.label})]},b.value)),!a&&X.jsx("div",{className:"absolute bottom-0 left-0 right-0 h-20 bg-gradient-to-t from-black/50 to-transparent pointer-events-none"})]})]}),X.jsx(Ut.button,{type:"submit",className:"w-full py-3 bg-gradient-to-r from-purple-600 to-blue-500 rounded-lg text-white font-medium hover:opacity-90 focus:outline-none focus:ring-2 focus:ring-white/30 disabled:opacity-50 disabled:cursor-not-allowed",disabled:i,whileHover:{scale:1.02},whileTap:{scale:.98},children:i?X.jsxs("span",{className:"flex items-center justify-center",children:[X.jsx("i",{className:"fa-solid fa-spinner fa-spin mr-2"}),"..."]}):X.jsxs("span",{className:"flex items-center justify-center",children:[X.jsx("i",{className:"fa-solid fa-rocket mr-2"}),""]})})]})]})},l2=({star:t,onDelete:e,onFocus:n,isHighlighted:i=!1})=>{const[o,a]=U.useState(!1),[u,f]=U.useState(!1),d=y=>{const E=new Date(y);return new Intl.DateTimeFormat("zh-CN",{year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit"}).format(E)},m=()=>{e(t.id),ul.success(` ${t.nickname} `),f(!1)},g=y=>{y.target instanceof HTMLElement&&y.target.closest(".delete-controls")||n&&n(t.id)};return X.jsx(Ut.div,{className:"absolute cursor-pointer",style:{left:`${t.position.x}%`,top:`${t.position.y}%`,zIndex:10},initial:{scale:0,opacity:0},animate:{scale:1,opacity:1,transition:{duration:.5,type:"spring"}},whileHover:{scale:i?1.4:1.2},onMouseEnter:()=>a(!0),onClick:g,children:X.jsxs(Ut.div,{className:`relative ${i?"ring-4 ring-white/30 rounded-full":""}`,style:{color:t.color},animate:{scale:[1,i?1.2:1.1,1],opacity:[.8,1,.8]},transition:{duration:t.twinkleRate,repeat:1/0,ease:"easeInOut"},children:[X.jsx("i",{className:`fa-solid fa-${t.shape}`,style:{fontSize:`${t.size}px`}}),o&&X.jsxs(Ut.div,{className:"absolute -bottom-32 left-1/2 transform -translate-x-1/2 bg-black/80 text-white text-xs p-2 rounded-md w-48 shadow-lg z-20",initial:{opacity:0,y:10},animate:{opacity:1,y:0},exit:{opacity:0,y:10},onMouseEnter:()=>a(!0),onMouseLeave:()=>{a(!1),f(!1)},children:[X.jsx("p",{className:"font-bold mb-1",children:t.nickname}),X.jsx("p",{className:"mb-1 text-gray-300 text-[10px]",children:d(t.timestamp)}),X.jsx("p",{className:"text-[10px] mb-2",children:t.message}),X.jsx("div",{className:"delete-controls flex justify-end mt-1 gap-2",children:X.jsxs("button",{onClick:()=>f(!u),className:"text-[10px] px-2 py-1 bg-red-500/20 hover:bg-red-500/30 rounded",children:[X.jsx("i",{className:"fa-solid fa-trash-can mr-1"}),""]})}),u&&X.jsxs(Ut.div,{className:"absolute -bottom-14 left-1/2 transform -translate-x-1/2 bg-black/90 border border-red-500/50 text-white text-[10px] p-2 rounded-md z-30 w-40",initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},onMouseEnter:()=>a(!0),onMouseLeave:()=>{a(!1),f(!1)},children:[X.jsx("p",{className:"mb-2",children:""}),X.jsxs("div",{className:"flex gap-1",children:[X.jsx("button",{onClick:m,className:"flex-1 text-[10px] px-2 py-1 bg-red-500 hover:bg-red-600 rounded",children:""}),X.jsx("button",{onClick:()=>f(!1),className:"flex-1 text-[10px] px-2 py-1 bg-gray-600 hover:bg-gray-700 rounded",children:""})]})]})]})]})})},u2=()=>{};var d0={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xE=function(t){const e=[];let n=0;for(let i=0;i<t.length;i++){let o=t.charCodeAt(i);o<128?e[n++]=o:o<2048?(e[n++]=o>>6|192,e[n++]=o&63|128):(o&64512)===55296&&i+1<t.length&&(t.charCodeAt(i+1)&64512)===56320?(o=65536+((o&1023)<<10)+(t.charCodeAt(++i)&1023),e[n++]=o>>18|240,e[n++]=o>>12&63|128,e[n++]=o>>6&63|128,e[n++]=o&63|128):(e[n++]=o>>12|224,e[n++]=o>>6&63|128,e[n++]=o&63|128)}return e},c2=function(t){const e=[];let n=0,i=0;for(;n<t.length;){const o=t[n++];if(o<128)e[i++]=String.fromCharCode(o);else if(o>191&&o<224){const a=t[n++];e[i++]=String.fromCharCode((o&31)<<6|a&63)}else if(o>239&&o<365){const a=t[n++],u=t[n++],f=t[n++],d=((o&7)<<18|(a&63)<<12|(u&63)<<6|f&63)-65536;e[i++]=String.fromCharCode(55296+(d>>10)),e[i++]=String.fromCharCode(56320+(d&1023))}else{const a=t[n++],u=t[n++];e[i++]=String.fromCharCode((o&15)<<12|(a&63)<<6|u&63)}}return e.join("")},AE={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,i=[];for(let o=0;o<t.length;o+=3){const a=t[o],u=o+1<t.length,f=u?t[o+1]:0,d=o+2<t.length,m=d?t[o+2]:0,g=a>>2,y=(a&3)<<4|f>>4;let E=(f&15)<<2|m>>6,A=m&63;d||(A=64,u||(E=64)),i.push(n[g],n[y],n[E],n[A])}return i.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(xE(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):c2(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,i=[];for(let o=0;o<t.length;){const a=n[t.charAt(o++)],f=o<t.length?n[t.charAt(o)]:0;++o;const m=o<t.length?n[t.charAt(o)]:64;++o;const y=o<t.length?n[t.charAt(o)]:64;if(++o,a==null||f==null||m==null||y==null)throw new h2;const E=a<<2|f>>4;if(i.push(E),m!==64){const A=f<<4&240|m>>2;if(i.push(A),y!==64){const M=m<<6&192|y;i.push(M)}}}return i},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class h2 extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const f2=function(t){const e=xE(t);return AE.encodeByteArray(e,!0)},kc=function(t){return f2(t).replace(/\./g,"")},d2=function(t){try{return AE.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function p2(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const m2=()=>p2().__FIREBASE_DEFAULTS__,g2=()=>{if(typeof process>"u"||typeof d0>"u")return;const t=d0.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},y2=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&d2(t[1]);return e&&JSON.parse(e)},Kp=()=>{try{return u2()||m2()||g2()||y2()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},v2=t=>{var e,n;return(n=(e=Kp())==null?void 0:e.emulatorHosts)==null?void 0:n[t]},_2=t=>{const e=v2(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const i=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),i]:[e.substring(0,n),i]},IE=()=>{var t;return(t=Kp())==null?void 0:t.config};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class w2{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,i)=>{n?this.reject(n):this.resolve(i),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,i))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gp(t){try{return(t.startsWith("http://")||t.startsWith("https://")?new URL(t).hostname:t).endsWith(".cloudworkstations.dev")}catch{return!1}}async function E2(t){return(await fetch(t,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function T2(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},i=e||"demo-project",o=t.iat||0,a=t.sub||t.user_id;if(!a)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const u={iss:`https://securetoken.google.com/${i}`,aud:i,iat:o,exp:o+3600,auth_time:o,sub:a,user_id:a,firebase:{sign_in_provider:"custom",identities:{}},...t};return[kc(JSON.stringify(n)),kc(JSON.stringify(u)),""].join(".")}const ml={};function S2(){const t={prod:[],emulator:[]};for(const e of Object.keys(ml))ml[e]?t.emulator.push(e):t.prod.push(e);return t}function x2(t){let e=document.getElementById(t),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",t),n=!0),{created:n,element:e}}let p0=!1;function A2(t,e){if(typeof window>"u"||typeof document>"u"||!Gp(window.location.host)||ml[t]===e||ml[t]||p0)return;ml[t]=e;function n(E){return`__firebase__banner__${E}`}const i="__firebase__banner",a=S2().prod.length>0;function u(){const E=document.getElementById(i);E&&E.remove()}function f(E){E.style.display="flex",E.style.background="#7faaf0",E.style.position="fixed",E.style.bottom="5px",E.style.left="5px",E.style.padding=".5em",E.style.borderRadius="5px",E.style.alignItems="center"}function d(E,A){E.setAttribute("width","24"),E.setAttribute("id",A),E.setAttribute("height","24"),E.setAttribute("viewBox","0 0 24 24"),E.setAttribute("fill","none"),E.style.marginLeft="-6px"}function m(){const E=document.createElement("span");return E.style.cursor="pointer",E.style.marginLeft="16px",E.style.fontSize="24px",E.innerHTML=" &times;",E.onclick=()=>{p0=!0,u()},E}function g(E,A){E.setAttribute("id",A),E.innerText="Learn more",E.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",E.setAttribute("target","__blank"),E.style.paddingLeft="5px",E.style.textDecoration="underline"}function y(){const E=x2(i),A=n("text"),M=document.getElementById(A)||document.createElement("span"),b=n("learnmore"),k=document.getElementById(b)||document.createElement("a"),O=n("preprendIcon"),K=document.getElementById(O)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(E.created){const B=E.element;f(B),g(k,b);const Z=m();d(K,O),B.append(K,M,k,Z),document.body.appendChild(B)}a?(M.innerText="Preview backend disconnected.",K.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(K.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,M.innerText="Preview backend running in this workspace."),M.setAttribute("id",A)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",y):y()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function I2(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function C2(){var e;const t=(e=Kp())==null?void 0:e.forceEnvironment;if(t==="node")return!0;if(t==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function P2(){return!C2()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function R2(){try{return typeof indexedDB=="object"}catch{return!1}}function k2(){return new Promise((t,e)=>{try{let n=!0;const i="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(i);o.onsuccess=()=>{o.result.close(),n||self.indexedDB.deleteDatabase(i),t(!0)},o.onupgradeneeded=()=>{n=!1},o.onerror=()=>{var a;e(((a=o.error)==null?void 0:a.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const V2="FirebaseError";class la extends Error{constructor(e,n,i){super(n),this.code=e,this.customData=i,this.name=V2,Object.setPrototypeOf(this,la.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,CE.prototype.create)}}class CE{constructor(e,n,i){this.service=e,this.serviceName=n,this.errors=i}create(e,...n){const i=n[0]||{},o=`${this.service}/${e}`,a=this.errors[e],u=a?b2(a,i):"Error",f=`${this.serviceName}: ${u} (${o}).`;return new la(o,f,i)}}function b2(t,e){return t.replace(D2,(n,i)=>{const o=e[i];return o!=null?String(o):`<${i}?>`})}const D2=/\{\$([^}]+)}/g;function Vc(t,e){if(t===e)return!0;const n=Object.keys(t),i=Object.keys(e);for(const o of n){if(!i.includes(o))return!1;const a=t[o],u=e[o];if(m0(a)&&m0(u)){if(!Vc(a,u))return!1}else if(a!==u)return!1}for(const o of i)if(!n.includes(o))return!1;return!0}function m0(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ws(t){return t&&t._delegate?t._delegate:t}class Cl{constructor(e,n,i){this.name=e,this.instanceFactory=n,this.type=i,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Os="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class N2{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const i=new w2;if(this.instancesDeferred.set(n,i),this.isInitialized(n)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:n});o&&i.resolve(o)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){const n=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),i=(e==null?void 0:e.optional)??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(o){if(i)return null;throw o}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(L2(e))try{this.getOrInitializeService({instanceIdentifier:Os})}catch{}for(const[n,i]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(n);try{const a=this.getOrInitializeService({instanceIdentifier:o});i.resolve(a)}catch{}}}}clearInstance(e=Os){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Os){return this.instances.has(e)}getOptions(e=Os){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,i=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(i))throw Error(`${this.name}(${i}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:i,options:n});for(const[a,u]of this.instancesDeferred.entries()){const f=this.normalizeInstanceIdentifier(a);i===f&&u.resolve(o)}return o}onInit(e,n){const i=this.normalizeInstanceIdentifier(n),o=this.onInitCallbacks.get(i)??new Set;o.add(e),this.onInitCallbacks.set(i,o);const a=this.instances.get(i);return a&&e(a,i),()=>{o.delete(e)}}invokeOnInitCallbacks(e,n){const i=this.onInitCallbacks.get(n);if(i)for(const o of i)try{o(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let i=this.instances.get(e);if(!i&&this.component&&(i=this.component.instanceFactory(this.container,{instanceIdentifier:M2(e),options:n}),this.instances.set(e,i),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(i,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,i)}catch{}return i||null}normalizeInstanceIdentifier(e=Os){return this.component?this.component.multipleInstances?e:Os:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function M2(t){return t===Os?void 0:t}function L2(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class O2{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new N2(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ze;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(ze||(ze={}));const F2={debug:ze.DEBUG,verbose:ze.VERBOSE,info:ze.INFO,warn:ze.WARN,error:ze.ERROR,silent:ze.SILENT},j2=ze.INFO,B2={[ze.DEBUG]:"log",[ze.VERBOSE]:"log",[ze.INFO]:"info",[ze.WARN]:"warn",[ze.ERROR]:"error"},U2=(t,e,...n)=>{if(e<t.logLevel)return;const i=new Date().toISOString(),o=B2[e];if(o)console[o](`[${i}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class PE{constructor(e){this.name=e,this._logLevel=j2,this._logHandler=U2,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in ze))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?F2[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,ze.DEBUG,...e),this._logHandler(this,ze.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,ze.VERBOSE,...e),this._logHandler(this,ze.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,ze.INFO,...e),this._logHandler(this,ze.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,ze.WARN,...e),this._logHandler(this,ze.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,ze.ERROR,...e),this._logHandler(this,ze.ERROR,...e)}}const z2=(t,e)=>e.some(n=>t instanceof n);let g0,y0;function $2(){return g0||(g0=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function H2(){return y0||(y0=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const RE=new WeakMap,Od=new WeakMap,kE=new WeakMap,td=new WeakMap,Qp=new WeakMap;function W2(t){const e=new Promise((n,i)=>{const o=()=>{t.removeEventListener("success",a),t.removeEventListener("error",u)},a=()=>{n(Gi(t.result)),o()},u=()=>{i(t.error),o()};t.addEventListener("success",a),t.addEventListener("error",u)});return e.then(n=>{n instanceof IDBCursor&&RE.set(n,t)}).catch(()=>{}),Qp.set(e,t),e}function q2(t){if(Od.has(t))return;const e=new Promise((n,i)=>{const o=()=>{t.removeEventListener("complete",a),t.removeEventListener("error",u),t.removeEventListener("abort",u)},a=()=>{n(),o()},u=()=>{i(t.error||new DOMException("AbortError","AbortError")),o()};t.addEventListener("complete",a),t.addEventListener("error",u),t.addEventListener("abort",u)});Od.set(t,e)}let Fd={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return Od.get(t);if(e==="objectStoreNames")return t.objectStoreNames||kE.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Gi(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function K2(t){Fd=t(Fd)}function G2(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const i=t.call(nd(this),e,...n);return kE.set(i,e.sort?e.sort():[e]),Gi(i)}:H2().includes(t)?function(...e){return t.apply(nd(this),e),Gi(RE.get(this))}:function(...e){return Gi(t.apply(nd(this),e))}}function Q2(t){return typeof t=="function"?G2(t):(t instanceof IDBTransaction&&q2(t),z2(t,$2())?new Proxy(t,Fd):t)}function Gi(t){if(t instanceof IDBRequest)return W2(t);if(td.has(t))return td.get(t);const e=Q2(t);return e!==t&&(td.set(t,e),Qp.set(e,t)),e}const nd=t=>Qp.get(t);function Y2(t,e,{blocked:n,upgrade:i,blocking:o,terminated:a}={}){const u=indexedDB.open(t,e),f=Gi(u);return i&&u.addEventListener("upgradeneeded",d=>{i(Gi(u.result),d.oldVersion,d.newVersion,Gi(u.transaction),d)}),n&&u.addEventListener("blocked",d=>n(d.oldVersion,d.newVersion,d)),f.then(d=>{a&&d.addEventListener("close",()=>a()),o&&d.addEventListener("versionchange",m=>o(m.oldVersion,m.newVersion,m))}).catch(()=>{}),f}const X2=["get","getKey","getAll","getAllKeys","count"],J2=["put","add","delete","clear"],rd=new Map;function v0(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(rd.get(e))return rd.get(e);const n=e.replace(/FromIndex$/,""),i=e!==n,o=J2.includes(n);if(!(n in(i?IDBIndex:IDBObjectStore).prototype)||!(o||X2.includes(n)))return;const a=async function(u,...f){const d=this.transaction(u,o?"readwrite":"readonly");let m=d.store;return i&&(m=m.index(f.shift())),(await Promise.all([m[n](...f),o&&d.done]))[0]};return rd.set(e,a),a}K2(t=>({...t,get:(e,n,i)=>v0(e,n)||t.get(e,n,i),has:(e,n)=>!!v0(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Z2{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(ek(n)){const i=n.getImmediate();return`${i.library}/${i.version}`}else return null}).filter(n=>n).join(" ")}}function ek(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const jd="@firebase/app",_0="0.14.5";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mi=new PE("@firebase/app"),tk="@firebase/app-compat",nk="@firebase/analytics-compat",rk="@firebase/analytics",ik="@firebase/app-check-compat",sk="@firebase/app-check",ok="@firebase/auth",ak="@firebase/auth-compat",lk="@firebase/database",uk="@firebase/data-connect",ck="@firebase/database-compat",hk="@firebase/functions",fk="@firebase/functions-compat",dk="@firebase/installations",pk="@firebase/installations-compat",mk="@firebase/messaging",gk="@firebase/messaging-compat",yk="@firebase/performance",vk="@firebase/performance-compat",_k="@firebase/remote-config",wk="@firebase/remote-config-compat",Ek="@firebase/storage",Tk="@firebase/storage-compat",Sk="@firebase/firestore",xk="@firebase/ai",Ak="@firebase/firestore-compat",Ik="firebase",Ck="12.5.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bd="[DEFAULT]",Pk={[jd]:"fire-core",[tk]:"fire-core-compat",[rk]:"fire-analytics",[nk]:"fire-analytics-compat",[sk]:"fire-app-check",[ik]:"fire-app-check-compat",[ok]:"fire-auth",[ak]:"fire-auth-compat",[lk]:"fire-rtdb",[uk]:"fire-data-connect",[ck]:"fire-rtdb-compat",[hk]:"fire-fn",[fk]:"fire-fn-compat",[dk]:"fire-iid",[pk]:"fire-iid-compat",[mk]:"fire-fcm",[gk]:"fire-fcm-compat",[yk]:"fire-perf",[vk]:"fire-perf-compat",[_k]:"fire-rc",[wk]:"fire-rc-compat",[Ek]:"fire-gcs",[Tk]:"fire-gcs-compat",[Sk]:"fire-fst",[Ak]:"fire-fst-compat",[xk]:"fire-vertex","fire-js":"fire-js",[Ik]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bc=new Map,Rk=new Map,Ud=new Map;function w0(t,e){try{t.container.addComponent(e)}catch(n){mi.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function Dc(t){const e=t.name;if(Ud.has(e))return mi.debug(`There were multiple attempts to register component ${e}.`),!1;Ud.set(e,t);for(const n of bc.values())w0(n,t);for(const n of Rk.values())w0(n,t);return!0}function kk(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function Vk(t){return t==null?!1:t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bk={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Qi=new CE("app","Firebase",bk);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dk{constructor(e,n,i){this._isDeleted=!1,this._options={...e},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=i,this.container.addComponent(new Cl("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Qi.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nk=Ck;function VE(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const i={name:Bd,automaticDataCollectionEnabled:!0,...e},o=i.name;if(typeof o!="string"||!o)throw Qi.create("bad-app-name",{appName:String(o)});if(n||(n=IE()),!n)throw Qi.create("no-options");const a=bc.get(o);if(a){if(Vc(n,a.options)&&Vc(i,a.config))return a;throw Qi.create("duplicate-app",{appName:o})}const u=new O2(o);for(const d of Ud.values())u.addComponent(d);const f=new Dk(n,i,u);return bc.set(o,f),f}function Mk(t=Bd){const e=bc.get(t);if(!e&&t===Bd&&IE())return VE();if(!e)throw Qi.create("no-app",{appName:t});return e}function qo(t,e,n){let i=Pk[t]??t;n&&(i+=`-${n}`);const o=i.match(/\s|\//),a=e.match(/\s|\//);if(o||a){const u=[`Unable to register library "${i}" with version "${e}":`];o&&u.push(`library name "${i}" contains illegal characters (whitespace or "/")`),o&&a&&u.push("and"),a&&u.push(`version name "${e}" contains illegal characters (whitespace or "/")`),mi.warn(u.join(" "));return}Dc(new Cl(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Lk="firebase-heartbeat-database",Ok=1,Pl="firebase-heartbeat-store";let id=null;function bE(){return id||(id=Y2(Lk,Ok,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(Pl)}catch(n){console.warn(n)}}}}).catch(t=>{throw Qi.create("idb-open",{originalErrorMessage:t.message})})),id}async function Fk(t){try{const n=(await bE()).transaction(Pl),i=await n.objectStore(Pl).get(DE(t));return await n.done,i}catch(e){if(e instanceof la)mi.warn(e.message);else{const n=Qi.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});mi.warn(n.message)}}}async function E0(t,e){try{const i=(await bE()).transaction(Pl,"readwrite");await i.objectStore(Pl).put(e,DE(t)),await i.done}catch(n){if(n instanceof la)mi.warn(n.message);else{const i=Qi.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});mi.warn(i.message)}}}function DE(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jk=1024,Bk=30;class Uk{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new $k(n),this._heartbeatsCachePromise=this._storage.read().then(i=>(this._heartbeatsCache=i,i))}async triggerHeartbeat(){var e,n;try{const o=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),a=T0();if(((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)==null?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===a||this._heartbeatsCache.heartbeats.some(u=>u.date===a))return;if(this._heartbeatsCache.heartbeats.push({date:a,agent:o}),this._heartbeatsCache.heartbeats.length>Bk){const u=Hk(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(u,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(i){mi.warn(i)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=T0(),{heartbeatsToSend:i,unsentEntries:o}=zk(this._heartbeatsCache.heartbeats),a=kc(JSON.stringify({version:2,heartbeats:i}));return this._heartbeatsCache.lastSentHeartbeatDate=n,o.length>0?(this._heartbeatsCache.heartbeats=o,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),a}catch(n){return mi.warn(n),""}}}function T0(){return new Date().toISOString().substring(0,10)}function zk(t,e=jk){const n=[];let i=t.slice();for(const o of t){const a=n.find(u=>u.agent===o.agent);if(a){if(a.dates.push(o.date),S0(n)>e){a.dates.pop();break}}else if(n.push({agent:o.agent,dates:[o.date]}),S0(n)>e){n.pop();break}i=i.slice(1)}return{heartbeatsToSend:n,unsentEntries:i}}class $k{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return R2()?k2().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await Fk(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const i=await this.read();return E0(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const i=await this.read();return E0(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function S0(t){return kc(JSON.stringify({version:2,heartbeats:t})).length}function Hk(t){if(t.length===0)return-1;let e=0,n=t[0].date;for(let i=1;i<t.length;i++)t[i].date<n&&(n=t[i].date,e=i);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wk(t){Dc(new Cl("platform-logger",e=>new Z2(e),"PRIVATE")),Dc(new Cl("heartbeat",e=>new Uk(e),"PRIVATE")),qo(jd,_0,t),qo(jd,_0,"esm2020"),qo("fire-js","")}Wk("");var qk="firebase",Kk="12.5.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */qo(qk,Kk,"app");var x0=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Yi,NE;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(R,x){function I(){}I.prototype=x.prototype,R.F=x.prototype,R.prototype=new I,R.prototype.constructor=R,R.D=function(V,D,j){for(var P=Array(arguments.length-2),je=2;je<arguments.length;je++)P[je-2]=arguments[je];return x.prototype[D].apply(V,P)}}function n(){this.blockSize=-1}function i(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(i,n),i.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(R,x,I){I||(I=0);const V=Array(16);if(typeof x=="string")for(var D=0;D<16;++D)V[D]=x.charCodeAt(I++)|x.charCodeAt(I++)<<8|x.charCodeAt(I++)<<16|x.charCodeAt(I++)<<24;else for(D=0;D<16;++D)V[D]=x[I++]|x[I++]<<8|x[I++]<<16|x[I++]<<24;x=R.g[0],I=R.g[1],D=R.g[2];let j=R.g[3],P;P=x+(j^I&(D^j))+V[0]+3614090360&4294967295,x=I+(P<<7&4294967295|P>>>25),P=j+(D^x&(I^D))+V[1]+3905402710&4294967295,j=x+(P<<12&4294967295|P>>>20),P=D+(I^j&(x^I))+V[2]+606105819&4294967295,D=j+(P<<17&4294967295|P>>>15),P=I+(x^D&(j^x))+V[3]+3250441966&4294967295,I=D+(P<<22&4294967295|P>>>10),P=x+(j^I&(D^j))+V[4]+4118548399&4294967295,x=I+(P<<7&4294967295|P>>>25),P=j+(D^x&(I^D))+V[5]+1200080426&4294967295,j=x+(P<<12&4294967295|P>>>20),P=D+(I^j&(x^I))+V[6]+2821735955&4294967295,D=j+(P<<17&4294967295|P>>>15),P=I+(x^D&(j^x))+V[7]+4249261313&4294967295,I=D+(P<<22&4294967295|P>>>10),P=x+(j^I&(D^j))+V[8]+1770035416&4294967295,x=I+(P<<7&4294967295|P>>>25),P=j+(D^x&(I^D))+V[9]+2336552879&4294967295,j=x+(P<<12&4294967295|P>>>20),P=D+(I^j&(x^I))+V[10]+4294925233&4294967295,D=j+(P<<17&4294967295|P>>>15),P=I+(x^D&(j^x))+V[11]+2304563134&4294967295,I=D+(P<<22&4294967295|P>>>10),P=x+(j^I&(D^j))+V[12]+1804603682&4294967295,x=I+(P<<7&4294967295|P>>>25),P=j+(D^x&(I^D))+V[13]+4254626195&4294967295,j=x+(P<<12&4294967295|P>>>20),P=D+(I^j&(x^I))+V[14]+2792965006&4294967295,D=j+(P<<17&4294967295|P>>>15),P=I+(x^D&(j^x))+V[15]+1236535329&4294967295,I=D+(P<<22&4294967295|P>>>10),P=x+(D^j&(I^D))+V[1]+4129170786&4294967295,x=I+(P<<5&4294967295|P>>>27),P=j+(I^D&(x^I))+V[6]+3225465664&4294967295,j=x+(P<<9&4294967295|P>>>23),P=D+(x^I&(j^x))+V[11]+643717713&4294967295,D=j+(P<<14&4294967295|P>>>18),P=I+(j^x&(D^j))+V[0]+3921069994&4294967295,I=D+(P<<20&4294967295|P>>>12),P=x+(D^j&(I^D))+V[5]+3593408605&4294967295,x=I+(P<<5&4294967295|P>>>27),P=j+(I^D&(x^I))+V[10]+38016083&4294967295,j=x+(P<<9&4294967295|P>>>23),P=D+(x^I&(j^x))+V[15]+3634488961&4294967295,D=j+(P<<14&4294967295|P>>>18),P=I+(j^x&(D^j))+V[4]+3889429448&4294967295,I=D+(P<<20&4294967295|P>>>12),P=x+(D^j&(I^D))+V[9]+568446438&4294967295,x=I+(P<<5&4294967295|P>>>27),P=j+(I^D&(x^I))+V[14]+3275163606&4294967295,j=x+(P<<9&4294967295|P>>>23),P=D+(x^I&(j^x))+V[3]+4107603335&4294967295,D=j+(P<<14&4294967295|P>>>18),P=I+(j^x&(D^j))+V[8]+1163531501&4294967295,I=D+(P<<20&4294967295|P>>>12),P=x+(D^j&(I^D))+V[13]+2850285829&4294967295,x=I+(P<<5&4294967295|P>>>27),P=j+(I^D&(x^I))+V[2]+4243563512&4294967295,j=x+(P<<9&4294967295|P>>>23),P=D+(x^I&(j^x))+V[7]+1735328473&4294967295,D=j+(P<<14&4294967295|P>>>18),P=I+(j^x&(D^j))+V[12]+2368359562&4294967295,I=D+(P<<20&4294967295|P>>>12),P=x+(I^D^j)+V[5]+4294588738&4294967295,x=I+(P<<4&4294967295|P>>>28),P=j+(x^I^D)+V[8]+2272392833&4294967295,j=x+(P<<11&4294967295|P>>>21),P=D+(j^x^I)+V[11]+1839030562&4294967295,D=j+(P<<16&4294967295|P>>>16),P=I+(D^j^x)+V[14]+4259657740&4294967295,I=D+(P<<23&4294967295|P>>>9),P=x+(I^D^j)+V[1]+2763975236&4294967295,x=I+(P<<4&4294967295|P>>>28),P=j+(x^I^D)+V[4]+1272893353&4294967295,j=x+(P<<11&4294967295|P>>>21),P=D+(j^x^I)+V[7]+4139469664&4294967295,D=j+(P<<16&4294967295|P>>>16),P=I+(D^j^x)+V[10]+3200236656&4294967295,I=D+(P<<23&4294967295|P>>>9),P=x+(I^D^j)+V[13]+681279174&4294967295,x=I+(P<<4&4294967295|P>>>28),P=j+(x^I^D)+V[0]+3936430074&4294967295,j=x+(P<<11&4294967295|P>>>21),P=D+(j^x^I)+V[3]+3572445317&4294967295,D=j+(P<<16&4294967295|P>>>16),P=I+(D^j^x)+V[6]+76029189&4294967295,I=D+(P<<23&4294967295|P>>>9),P=x+(I^D^j)+V[9]+3654602809&4294967295,x=I+(P<<4&4294967295|P>>>28),P=j+(x^I^D)+V[12]+3873151461&4294967295,j=x+(P<<11&4294967295|P>>>21),P=D+(j^x^I)+V[15]+530742520&4294967295,D=j+(P<<16&4294967295|P>>>16),P=I+(D^j^x)+V[2]+3299628645&4294967295,I=D+(P<<23&4294967295|P>>>9),P=x+(D^(I|~j))+V[0]+4096336452&4294967295,x=I+(P<<6&4294967295|P>>>26),P=j+(I^(x|~D))+V[7]+1126891415&4294967295,j=x+(P<<10&4294967295|P>>>22),P=D+(x^(j|~I))+V[14]+2878612391&4294967295,D=j+(P<<15&4294967295|P>>>17),P=I+(j^(D|~x))+V[5]+4237533241&4294967295,I=D+(P<<21&4294967295|P>>>11),P=x+(D^(I|~j))+V[12]+1700485571&4294967295,x=I+(P<<6&4294967295|P>>>26),P=j+(I^(x|~D))+V[3]+2399980690&4294967295,j=x+(P<<10&4294967295|P>>>22),P=D+(x^(j|~I))+V[10]+4293915773&4294967295,D=j+(P<<15&4294967295|P>>>17),P=I+(j^(D|~x))+V[1]+2240044497&4294967295,I=D+(P<<21&4294967295|P>>>11),P=x+(D^(I|~j))+V[8]+1873313359&4294967295,x=I+(P<<6&4294967295|P>>>26),P=j+(I^(x|~D))+V[15]+4264355552&4294967295,j=x+(P<<10&4294967295|P>>>22),P=D+(x^(j|~I))+V[6]+2734768916&4294967295,D=j+(P<<15&4294967295|P>>>17),P=I+(j^(D|~x))+V[13]+1309151649&4294967295,I=D+(P<<21&4294967295|P>>>11),P=x+(D^(I|~j))+V[4]+4149444226&4294967295,x=I+(P<<6&4294967295|P>>>26),P=j+(I^(x|~D))+V[11]+3174756917&4294967295,j=x+(P<<10&4294967295|P>>>22),P=D+(x^(j|~I))+V[2]+718787259&4294967295,D=j+(P<<15&4294967295|P>>>17),P=I+(j^(D|~x))+V[9]+3951481745&4294967295,R.g[0]=R.g[0]+x&4294967295,R.g[1]=R.g[1]+(D+(P<<21&4294967295|P>>>11))&4294967295,R.g[2]=R.g[2]+D&4294967295,R.g[3]=R.g[3]+j&4294967295}i.prototype.v=function(R,x){x===void 0&&(x=R.length);const I=x-this.blockSize,V=this.C;let D=this.h,j=0;for(;j<x;){if(D==0)for(;j<=I;)o(this,R,j),j+=this.blockSize;if(typeof R=="string"){for(;j<x;)if(V[D++]=R.charCodeAt(j++),D==this.blockSize){o(this,V),D=0;break}}else for(;j<x;)if(V[D++]=R[j++],D==this.blockSize){o(this,V),D=0;break}}this.h=D,this.o+=x},i.prototype.A=function(){var R=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);R[0]=128;for(var x=1;x<R.length-8;++x)R[x]=0;x=this.o*8;for(var I=R.length-8;I<R.length;++I)R[I]=x&255,x/=256;for(this.v(R),R=Array(16),x=0,I=0;I<4;++I)for(let V=0;V<32;V+=8)R[x++]=this.g[I]>>>V&255;return R};function a(R,x){var I=f;return Object.prototype.hasOwnProperty.call(I,R)?I[R]:I[R]=x(R)}function u(R,x){this.h=x;const I=[];let V=!0;for(let D=R.length-1;D>=0;D--){const j=R[D]|0;V&&j==x||(I[D]=j,V=!1)}this.g=I}var f={};function d(R){return-128<=R&&R<128?a(R,function(x){return new u([x|0],x<0?-1:0)}):new u([R|0],R<0?-1:0)}function m(R){if(isNaN(R)||!isFinite(R))return y;if(R<0)return k(m(-R));const x=[];let I=1;for(let V=0;R>=I;V++)x[V]=R/I|0,I*=4294967296;return new u(x,0)}function g(R,x){if(R.length==0)throw Error("number format error: empty string");if(x=x||10,x<2||36<x)throw Error("radix out of range: "+x);if(R.charAt(0)=="-")return k(g(R.substring(1),x));if(R.indexOf("-")>=0)throw Error('number format error: interior "-" character');const I=m(Math.pow(x,8));let V=y;for(let j=0;j<R.length;j+=8){var D=Math.min(8,R.length-j);const P=parseInt(R.substring(j,j+D),x);D<8?(D=m(Math.pow(x,D)),V=V.j(D).add(m(P))):(V=V.j(I),V=V.add(m(P)))}return V}var y=d(0),E=d(1),A=d(16777216);t=u.prototype,t.m=function(){if(b(this))return-k(this).m();let R=0,x=1;for(let I=0;I<this.g.length;I++){const V=this.i(I);R+=(V>=0?V:4294967296+V)*x,x*=4294967296}return R},t.toString=function(R){if(R=R||10,R<2||36<R)throw Error("radix out of range: "+R);if(M(this))return"0";if(b(this))return"-"+k(this).toString(R);const x=m(Math.pow(R,6));var I=this;let V="";for(;;){const D=Z(I,x).g;I=O(I,D.j(x));let j=((I.g.length>0?I.g[0]:I.h)>>>0).toString(R);if(I=D,M(I))return j+V;for(;j.length<6;)j="0"+j;V=j+V}},t.i=function(R){return R<0?0:R<this.g.length?this.g[R]:this.h};function M(R){if(R.h!=0)return!1;for(let x=0;x<R.g.length;x++)if(R.g[x]!=0)return!1;return!0}function b(R){return R.h==-1}t.l=function(R){return R=O(this,R),b(R)?-1:M(R)?0:1};function k(R){const x=R.g.length,I=[];for(let V=0;V<x;V++)I[V]=~R.g[V];return new u(I,~R.h).add(E)}t.abs=function(){return b(this)?k(this):this},t.add=function(R){const x=Math.max(this.g.length,R.g.length),I=[];let V=0;for(let D=0;D<=x;D++){let j=V+(this.i(D)&65535)+(R.i(D)&65535),P=(j>>>16)+(this.i(D)>>>16)+(R.i(D)>>>16);V=P>>>16,j&=65535,P&=65535,I[D]=P<<16|j}return new u(I,I[I.length-1]&-2147483648?-1:0)};function O(R,x){return R.add(k(x))}t.j=function(R){if(M(this)||M(R))return y;if(b(this))return b(R)?k(this).j(k(R)):k(k(this).j(R));if(b(R))return k(this.j(k(R)));if(this.l(A)<0&&R.l(A)<0)return m(this.m()*R.m());const x=this.g.length+R.g.length,I=[];for(var V=0;V<2*x;V++)I[V]=0;for(V=0;V<this.g.length;V++)for(let D=0;D<R.g.length;D++){const j=this.i(V)>>>16,P=this.i(V)&65535,je=R.i(D)>>>16,Qe=R.i(D)&65535;I[2*V+2*D]+=P*Qe,K(I,2*V+2*D),I[2*V+2*D+1]+=j*Qe,K(I,2*V+2*D+1),I[2*V+2*D+1]+=P*je,K(I,2*V+2*D+1),I[2*V+2*D+2]+=j*je,K(I,2*V+2*D+2)}for(R=0;R<x;R++)I[R]=I[2*R+1]<<16|I[2*R];for(R=x;R<2*x;R++)I[R]=0;return new u(I,0)};function K(R,x){for(;(R[x]&65535)!=R[x];)R[x+1]+=R[x]>>>16,R[x]&=65535,x++}function B(R,x){this.g=R,this.h=x}function Z(R,x){if(M(x))throw Error("division by zero");if(M(R))return new B(y,y);if(b(R))return x=Z(k(R),x),new B(k(x.g),k(x.h));if(b(x))return x=Z(R,k(x)),new B(k(x.g),x.h);if(R.g.length>30){if(b(R)||b(x))throw Error("slowDivide_ only works with positive integers.");for(var I=E,V=x;V.l(R)<=0;)I=ne(I),V=ne(V);var D=le(I,1),j=le(V,1);for(V=le(V,2),I=le(I,2);!M(V);){var P=j.add(V);P.l(R)<=0&&(D=D.add(I),j=P),V=le(V,1),I=le(I,1)}return x=O(R,D.j(x)),new B(D,x)}for(D=y;R.l(x)>=0;){for(I=Math.max(1,Math.floor(R.m()/x.m())),V=Math.ceil(Math.log(I)/Math.LN2),V=V<=48?1:Math.pow(2,V-48),j=m(I),P=j.j(x);b(P)||P.l(R)>0;)I-=V,j=m(I),P=j.j(x);M(j)&&(j=E),D=D.add(j),R=O(R,P)}return new B(D,R)}t.B=function(R){return Z(this,R).h},t.and=function(R){const x=Math.max(this.g.length,R.g.length),I=[];for(let V=0;V<x;V++)I[V]=this.i(V)&R.i(V);return new u(I,this.h&R.h)},t.or=function(R){const x=Math.max(this.g.length,R.g.length),I=[];for(let V=0;V<x;V++)I[V]=this.i(V)|R.i(V);return new u(I,this.h|R.h)},t.xor=function(R){const x=Math.max(this.g.length,R.g.length),I=[];for(let V=0;V<x;V++)I[V]=this.i(V)^R.i(V);return new u(I,this.h^R.h)};function ne(R){const x=R.g.length+1,I=[];for(let V=0;V<x;V++)I[V]=R.i(V)<<1|R.i(V-1)>>>31;return new u(I,R.h)}function le(R,x){const I=x>>5;x%=32;const V=R.g.length-I,D=[];for(let j=0;j<V;j++)D[j]=x>0?R.i(j+I)>>>x|R.i(j+I+1)<<32-x:R.i(j+I);return new u(D,R.h)}i.prototype.digest=i.prototype.A,i.prototype.reset=i.prototype.u,i.prototype.update=i.prototype.v,NE=i,u.prototype.add=u.prototype.add,u.prototype.multiply=u.prototype.j,u.prototype.modulo=u.prototype.B,u.prototype.compare=u.prototype.l,u.prototype.toNumber=u.prototype.m,u.prototype.toString=u.prototype.toString,u.prototype.getBits=u.prototype.i,u.fromNumber=m,u.fromString=g,Yi=u}).apply(typeof x0<"u"?x0:typeof self<"u"?self:typeof window<"u"?window:{});var ac=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var ME,sl,LE,vc,zd,OE,FE,jE;(function(){var t,e=Object.defineProperty;function n(c){c=[typeof globalThis=="object"&&globalThis,c,typeof window=="object"&&window,typeof self=="object"&&self,typeof ac=="object"&&ac];for(var _=0;_<c.length;++_){var w=c[_];if(w&&w.Math==Math)return w}throw Error("Cannot find global object")}var i=n(this);function o(c,_){if(_)e:{var w=i;c=c.split(".");for(var S=0;S<c.length-1;S++){var $=c[S];if(!($ in w))break e;w=w[$]}c=c[c.length-1],S=w[c],_=_(S),_!=S&&_!=null&&e(w,c,{configurable:!0,writable:!0,value:_})}}o("Symbol.dispose",function(c){return c||Symbol("Symbol.dispose")}),o("Array.prototype.values",function(c){return c||function(){return this[Symbol.iterator]()}}),o("Object.entries",function(c){return c||function(_){var w=[],S;for(S in _)Object.prototype.hasOwnProperty.call(_,S)&&w.push([S,_[S]]);return w}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var a=a||{},u=this||self;function f(c){var _=typeof c;return _=="object"&&c!=null||_=="function"}function d(c,_,w){return c.call.apply(c.bind,arguments)}function m(c,_,w){return m=d,m.apply(null,arguments)}function g(c,_){var w=Array.prototype.slice.call(arguments,1);return function(){var S=w.slice();return S.push.apply(S,arguments),c.apply(this,S)}}function y(c,_){function w(){}w.prototype=_.prototype,c.Z=_.prototype,c.prototype=new w,c.prototype.constructor=c,c.Ob=function(S,$,q){for(var oe=Array(arguments.length-2),be=2;be<arguments.length;be++)oe[be-2]=arguments[be];return _.prototype[$].apply(S,oe)}}var E=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?c=>c&&AsyncContext.Snapshot.wrap(c):c=>c;function A(c){const _=c.length;if(_>0){const w=Array(_);for(let S=0;S<_;S++)w[S]=c[S];return w}return[]}function M(c,_){for(let S=1;S<arguments.length;S++){const $=arguments[S];var w=typeof $;if(w=w!="object"?w:$?Array.isArray($)?"array":w:"null",w=="array"||w=="object"&&typeof $.length=="number"){w=c.length||0;const q=$.length||0;c.length=w+q;for(let oe=0;oe<q;oe++)c[w+oe]=$[oe]}else c.push($)}}class b{constructor(_,w){this.i=_,this.j=w,this.h=0,this.g=null}get(){let _;return this.h>0?(this.h--,_=this.g,this.g=_.next,_.next=null):_=this.i(),_}}function k(c){u.setTimeout(()=>{throw c},0)}function O(){var c=R;let _=null;return c.g&&(_=c.g,c.g=c.g.next,c.g||(c.h=null),_.next=null),_}class K{constructor(){this.h=this.g=null}add(_,w){const S=B.get();S.set(_,w),this.h?this.h.next=S:this.g=S,this.h=S}}var B=new b(()=>new Z,c=>c.reset());class Z{constructor(){this.next=this.g=this.h=null}set(_,w){this.h=_,this.g=w,this.next=null}reset(){this.next=this.g=this.h=null}}let ne,le=!1,R=new K,x=()=>{const c=Promise.resolve(void 0);ne=()=>{c.then(I)}};function I(){for(var c;c=O();){try{c.h.call(c.g)}catch(w){k(w)}var _=B;_.j(c),_.h<100&&(_.h++,c.next=_.g,_.g=c)}le=!1}function V(){this.u=this.u,this.C=this.C}V.prototype.u=!1,V.prototype.dispose=function(){this.u||(this.u=!0,this.N())},V.prototype[Symbol.dispose]=function(){this.dispose()},V.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function D(c,_){this.type=c,this.g=this.target=_,this.defaultPrevented=!1}D.prototype.h=function(){this.defaultPrevented=!0};var j=(function(){if(!u.addEventListener||!Object.defineProperty)return!1;var c=!1,_=Object.defineProperty({},"passive",{get:function(){c=!0}});try{const w=()=>{};u.addEventListener("test",w,_),u.removeEventListener("test",w,_)}catch{}return c})();function P(c){return/^[\s\xa0]*$/.test(c)}function je(c,_){D.call(this,c?c.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,c&&this.init(c,_)}y(je,D),je.prototype.init=function(c,_){const w=this.type=c.type,S=c.changedTouches&&c.changedTouches.length?c.changedTouches[0]:null;this.target=c.target||c.srcElement,this.g=_,_=c.relatedTarget,_||(w=="mouseover"?_=c.fromElement:w=="mouseout"&&(_=c.toElement)),this.relatedTarget=_,S?(this.clientX=S.clientX!==void 0?S.clientX:S.pageX,this.clientY=S.clientY!==void 0?S.clientY:S.pageY,this.screenX=S.screenX||0,this.screenY=S.screenY||0):(this.clientX=c.clientX!==void 0?c.clientX:c.pageX,this.clientY=c.clientY!==void 0?c.clientY:c.pageY,this.screenX=c.screenX||0,this.screenY=c.screenY||0),this.button=c.button,this.key=c.key||"",this.ctrlKey=c.ctrlKey,this.altKey=c.altKey,this.shiftKey=c.shiftKey,this.metaKey=c.metaKey,this.pointerId=c.pointerId||0,this.pointerType=c.pointerType,this.state=c.state,this.i=c,c.defaultPrevented&&je.Z.h.call(this)},je.prototype.h=function(){je.Z.h.call(this);const c=this.i;c.preventDefault?c.preventDefault():c.returnValue=!1};var Qe="closure_listenable_"+(Math.random()*1e6|0),Ve=0;function ve(c,_,w,S,$){this.listener=c,this.proxy=null,this.src=_,this.type=w,this.capture=!!S,this.ha=$,this.key=++Ve,this.da=this.fa=!1}function te(c){c.da=!0,c.listener=null,c.proxy=null,c.src=null,c.ha=null}function ce(c,_,w){for(const S in c)_.call(w,c[S],S,c)}function se(c,_){for(const w in c)_.call(void 0,c[w],w,c)}function F(c){const _={};for(const w in c)_[w]=c[w];return _}const Y="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function ue(c,_){let w,S;for(let $=1;$<arguments.length;$++){S=arguments[$];for(w in S)c[w]=S[w];for(let q=0;q<Y.length;q++)w=Y[q],Object.prototype.hasOwnProperty.call(S,w)&&(c[w]=S[w])}}function me(c){this.src=c,this.g={},this.h=0}me.prototype.add=function(c,_,w,S,$){const q=c.toString();c=this.g[q],c||(c=this.g[q]=[],this.h++);const oe=Ie(c,_,S,$);return oe>-1?(_=c[oe],w||(_.fa=!1)):(_=new ve(_,this.src,q,!!S,$),_.fa=w,c.push(_)),_};function we(c,_){const w=_.type;if(w in c.g){var S=c.g[w],$=Array.prototype.indexOf.call(S,_,void 0),q;(q=$>=0)&&Array.prototype.splice.call(S,$,1),q&&(te(_),c.g[w].length==0&&(delete c.g[w],c.h--))}}function Ie(c,_,w,S){for(let $=0;$<c.length;++$){const q=c[$];if(!q.da&&q.listener==_&&q.capture==!!w&&q.ha==S)return $}return-1}var Me="closure_lm_"+(Math.random()*1e6|0),Ee={};function Be(c,_,w,S,$){if(Array.isArray(_)){for(let q=0;q<_.length;q++)Be(c,_[q],w,S,$);return null}return w=_i(w),c&&c[Qe]?c.J(_,w,f(S)?!!S.capture:!1,$):Et(c,_,w,!1,S,$)}function Et(c,_,w,S,$,q){if(!_)throw Error("Invalid event type");const oe=f($)?!!$.capture:!!$;let be=Qr(c);if(be||(c[Me]=be=new me(c)),w=be.add(_,w,S,oe,q),w.proxy)return w;if(S=Zn(),w.proxy=S,S.src=c,S.listener=w,c.addEventListener)j||($=oe),$===void 0&&($=!1),c.addEventListener(_.toString(),S,$);else if(c.attachEvent)c.attachEvent(yr(_.toString()),S);else if(c.addListener&&c.removeListener)c.addListener(S);else throw Error("addEventListener and attachEvent are unavailable.");return w}function Zn(){function c(w){return _.call(c.src,c.listener,w)}const _=Zs;return c}function Mn(c,_,w,S,$){if(Array.isArray(_))for(var q=0;q<_.length;q++)Mn(c,_[q],w,S,$);else S=f(S)?!!S.capture:!!S,w=_i(w),c&&c[Qe]?(c=c.i,q=String(_).toString(),q in c.g&&(_=c.g[q],w=Ie(_,w,S,$),w>-1&&(te(_[w]),Array.prototype.splice.call(_,w,1),_.length==0&&(delete c.g[q],c.h--)))):c&&(c=Qr(c))&&(_=c.g[_.toString()],c=-1,_&&(c=Ie(_,w,S,$)),(w=c>-1?_[c]:null)&&gr(w))}function gr(c){if(typeof c!="number"&&c&&!c.da){var _=c.src;if(_&&_[Qe])we(_.i,c);else{var w=c.type,S=c.proxy;_.removeEventListener?_.removeEventListener(w,S,c.capture):_.detachEvent?_.detachEvent(yr(w),S):_.addListener&&_.removeListener&&_.removeListener(S),(w=Qr(_))?(we(w,c),w.h==0&&(w.src=null,_[Me]=null)):te(c)}}}function yr(c){return c in Ee?Ee[c]:Ee[c]="on"+c}function Zs(c,_){if(c.da)c=!0;else{_=new je(_,this);const w=c.listener,S=c.ha||c.src;c.fa&&gr(c),c=w.call(S,_)}return c}function Qr(c){return c=c[Me],c instanceof me?c:null}var Sn="__closure_events_fn_"+(Math.random()*1e9>>>0);function _i(c){return typeof c=="function"?c:(c[Sn]||(c[Sn]=function(_){return c.handleEvent(_)}),c[Sn])}function qe(){V.call(this),this.i=new me(this),this.M=this,this.G=null}y(qe,V),qe.prototype[Qe]=!0,qe.prototype.removeEventListener=function(c,_,w,S){Mn(this,c,_,w,S)};function at(c,_){var w,S=c.G;if(S)for(w=[];S;S=S.G)w.push(S);if(c=c.M,S=_.type||_,typeof _=="string")_=new D(_,c);else if(_ instanceof D)_.target=_.target||c;else{var $=_;_=new D(S,c),ue(_,$)}$=!0;let q,oe;if(w)for(oe=w.length-1;oe>=0;oe--)q=_.g=w[oe],$=xn(q,S,!0,_)&&$;if(q=_.g=c,$=xn(q,S,!0,_)&&$,$=xn(q,S,!1,_)&&$,w)for(oe=0;oe<w.length;oe++)q=_.g=w[oe],$=xn(q,S,!1,_)&&$}qe.prototype.N=function(){if(qe.Z.N.call(this),this.i){var c=this.i;for(const _ in c.g){const w=c.g[_];for(let S=0;S<w.length;S++)te(w[S]);delete c.g[_],c.h--}}this.G=null},qe.prototype.J=function(c,_,w,S){return this.i.add(String(c),_,!1,w,S)},qe.prototype.K=function(c,_,w,S){return this.i.add(String(c),_,!0,w,S)};function xn(c,_,w,S){if(_=c.i.g[String(_)],!_)return!0;_=_.concat();let $=!0;for(let q=0;q<_.length;++q){const oe=_[q];if(oe&&!oe.da&&oe.capture==w){const be=oe.listener,yt=oe.ha||oe.src;oe.fa&&we(c.i,oe),$=be.call(yt,S)!==!1&&$}}return $&&!S.defaultPrevented}function kt(c,_){if(typeof c!="function")if(c&&typeof c.handleEvent=="function")c=m(c.handleEvent,c);else throw Error("Invalid listener argument");return Number(_)>2147483647?-1:u.setTimeout(c,_||0)}function Ln(c){c.g=kt(()=>{c.g=null,c.i&&(c.i=!1,Ln(c))},c.l);const _=c.h;c.h=null,c.m.apply(null,_)}class eo extends V{constructor(_,w){super(),this.m=_,this.l=w,this.h=null,this.i=!1,this.g=null}j(_){this.h=arguments,this.g?this.i=!0:Ln(this)}N(){super.N(),this.g&&(u.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function vr(c){V.call(this),this.h=c,this.g={}}y(vr,V);var _r=[];function wi(c){ce(c.g,function(_,w){this.g.hasOwnProperty(w)&&gr(_)},c),c.g={}}vr.prototype.N=function(){vr.Z.N.call(this),wi(this)},vr.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var er=u.JSON.stringify,Ei=u.JSON.parse,fn=class{stringify(c){return u.JSON.stringify(c,void 0)}parse(c){return u.JSON.parse(c,void 0)}};function tr(){}function nr(){}var wr={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function Ti(){D.call(this,"d")}y(Ti,D);function Si(){D.call(this,"c")}y(Si,D);var dn={},xi=null;function On(){return xi=xi||new qe}dn.Ia="serverreachability";function an(c){D.call(this,dn.Ia,c)}y(an,D);function rr(c){const _=On();at(_,new an(_))}dn.STAT_EVENT="statevent";function ir(c,_){D.call(this,dn.STAT_EVENT,c),this.stat=_}y(ir,D);function et(c){const _=On();at(_,new ir(_,c))}dn.Ja="timingevent";function Ai(c,_){D.call(this,dn.Ja,c),this.size=_}y(Ai,D);function Ae(c,_){if(typeof c!="function")throw Error("Fn must not be null and must be a function");return u.setTimeout(function(){c()},_)}function Ye(){this.g=!0}Ye.prototype.ua=function(){this.g=!1};function gt(c,_,w,S,$,q){c.info(function(){if(c.g)if(q){var oe="",be=q.split("&");for(let Ge=0;Ge<be.length;Ge++){var yt=be[Ge].split("=");if(yt.length>1){const xt=yt[0];yt=yt[1];const Vn=xt.split("_");oe=Vn.length>=2&&Vn[1]=="type"?oe+(xt+"="+yt+"&"):oe+(xt+"=redacted&")}}}else oe=null;else oe=q;return"XMLHTTP REQ ("+S+") [attempt "+$+"]: "+_+`
`+w+`
`+oe})}function Mt(c,_,w,S,$,q,oe){c.info(function(){return"XMLHTTP RESP ("+S+") [ attempt "+$+"]: "+_+`
`+w+`
`+q+" "+oe})}function ln(c,_,w,S){c.info(function(){return"XMLHTTP TEXT ("+_+"): "+Tt(c,w)+(S?" "+S:"")})}function dt(c,_){c.info(function(){return"TIMEOUT: "+_})}Ye.prototype.info=function(){};function Tt(c,_){if(!c.g)return _;if(!_)return null;try{const q=JSON.parse(_);if(q){for(c=0;c<q.length;c++)if(Array.isArray(q[c])){var w=q[c];if(!(w.length<2)){var S=w[1];if(Array.isArray(S)&&!(S.length<1)){var $=S[0];if($!="noop"&&$!="stop"&&$!="close")for(let oe=1;oe<S.length;oe++)S[oe]=""}}}}return er(q)}catch{return _}}var An={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},St={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},Yt;function Fn(){}y(Fn,tr),Fn.prototype.g=function(){return new XMLHttpRequest},Yt=new Fn;function Lt(c){return encodeURIComponent(String(c))}function cs(c){var _=1;c=c.split(":");const w=[];for(;_>0&&c.length;)w.push(c.shift()),_--;return c.length&&w.push(c.join(":")),w}function jn(c,_,w,S){this.j=c,this.i=_,this.l=w,this.S=S||1,this.V=new vr(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new Gl}function Gl(){this.i=null,this.g="",this.h=!1}var Ql={},pa={};function sr(c,_,w){c.M=1,c.A=Xr(Bn(_)),c.u=w,c.R=!0,ma(c,null)}function ma(c,_){c.F=Date.now(),hs(c),c.B=Bn(c.A);var w=c.B,S=c.S;Array.isArray(S)||(S=[String(S)]),Aa(w.i,"t",S),c.C=0,w=c.j.L,c.h=new Gl,c.g=su(c.j,w?_:null,!c.u),c.P>0&&(c.O=new eo(m(c.Y,c,c.g),c.P)),_=c.V,w=c.g,S=c.ba;var $="readystatechange";Array.isArray($)||($&&(_r[0]=$.toString()),$=_r);for(let q=0;q<$.length;q++){const oe=Be(w,$[q],S||_.handleEvent,!1,_.h||_);if(!oe)break;_.g[oe.key]=oe}_=c.J?F(c.J):{},c.u?(c.v||(c.v="POST"),_["Content-Type"]="application/x-www-form-urlencoded",c.g.ea(c.B,c.v,c.u,_)):(c.v="GET",c.g.ea(c.B,c.v,null,_)),rr(),gt(c.i,c.v,c.B,c.l,c.S,c.u)}jn.prototype.ba=function(c){c=c.target;const _=this.O;_&&Cr(c)==3?_.j():this.Y(c)},jn.prototype.Y=function(c){try{if(c==this.g)e:{const be=Cr(this.g),yt=this.g.ya(),Ge=this.g.ca();if(!(be<3)&&(be!=3||this.g&&(this.h.h||this.g.la()||ru(this.g)))){this.K||be!=4||yt==7||(yt==8||Ge<=0?rr(3):rr(2)),to(this);var _=this.g.ca();this.X=_;var w=Yl(this);if(this.o=_==200,Mt(this.i,this.v,this.B,this.l,this.S,be,_),this.o){if(this.U&&!this.L){t:{if(this.g){var S,$=this.g;if((S=$.g?$.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!P(S)){var q=S;break t}}q=null}if(c=q)ln(this.i,this.l,c,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,tt(this,c);else{this.o=!1,this.m=3,et(12),Yr(this),fs(this);break e}}if(this.R){c=!0;let xt;for(;!this.K&&this.C<w.length;)if(xt=Jl(this,w),xt==pa){be==4&&(this.m=4,et(14),c=!1),ln(this.i,this.l,null,"[Incomplete Response]");break}else if(xt==Ql){this.m=4,et(15),ln(this.i,this.l,w,"[Invalid Chunk]"),c=!1;break}else ln(this.i,this.l,xt,null),tt(this,xt);if(Xl(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),be!=4||w.length!=0||this.h.h||(this.m=1,et(16),c=!1),this.o=this.o&&c,!c)ln(this.i,this.l,w,"[Invalid Chunked Response]"),Yr(this),fs(this);else if(w.length>0&&!this.W){this.W=!0;var oe=this.j;oe.g==this&&oe.aa&&!oe.P&&(oe.j.info("Great, no buffering proxy detected. Bytes received: "+w.length),Es(oe),oe.P=!0,et(11))}}else ln(this.i,this.l,w,null),tt(this,w);be==4&&Yr(this),this.o&&!this.K&&(be==4?ho(this.j,this):(this.o=!1,hs(this)))}else Ca(this.g),_==400&&w.indexOf("Unknown SID")>0?(this.m=3,et(12)):(this.m=0,et(13)),Yr(this),fs(this)}}}catch{}finally{}};function Yl(c){if(!Xl(c))return c.g.la();const _=ru(c.g);if(_==="")return"";let w="";const S=_.length,$=Cr(c.g)==4;if(!c.h.i){if(typeof TextDecoder>"u")return Yr(c),fs(c),"";c.h.i=new u.TextDecoder}for(let q=0;q<S;q++)c.h.h=!0,w+=c.h.i.decode(_[q],{stream:!($&&q==S-1)});return _.length=0,c.h.g+=w,c.C=0,c.h.g}function Xl(c){return c.g?c.v=="GET"&&c.M!=2&&c.j.Aa:!1}function Jl(c,_){var w=c.C,S=_.indexOf(`
`,w);return S==-1?pa:(w=Number(_.substring(w,S)),isNaN(w)?Ql:(S+=1,S+w>_.length?pa:(_=_.slice(S,S+w),c.C=S+w,_)))}jn.prototype.cancel=function(){this.K=!0,Yr(this)};function hs(c){c.T=Date.now()+c.H,ga(c,c.H)}function ga(c,_){if(c.D!=null)throw Error("WatchDog timer not null");c.D=Ae(m(c.aa,c),_)}function to(c){c.D&&(u.clearTimeout(c.D),c.D=null)}jn.prototype.aa=function(){this.D=null;const c=Date.now();c-this.T>=0?(dt(this.i,this.B),this.M!=2&&(rr(),et(17)),Yr(this),this.m=2,fs(this)):ga(this,this.T-c)};function fs(c){c.j.I==0||c.K||ho(c.j,c)}function Yr(c){to(c);var _=c.O;_&&typeof _.dispose=="function"&&_.dispose(),c.O=null,wi(c.V),c.g&&(_=c.g,c.g=null,_.abort(),_.dispose())}function tt(c,_){try{var w=c.j;if(w.I!=0&&(w.g==c||va(w.h,c))){if(!c.L&&va(w.h,c)&&w.I==3){try{var S=w.Ba.g.parse(_)}catch{S=null}if(Array.isArray(S)&&S.length==3){var $=S;if($[0]==0){e:if(!w.v){if(w.g)if(w.g.F+3e3<c.F)co(w),Rn(w);else break e;kr(w),et(18)}}else w.xa=$[1],0<w.xa-w.K&&$[2]<37500&&w.F&&w.A==0&&!w.C&&(w.C=Ae(m(w.Va,w),6e3));ds(w.h)<=1&&w.ta&&(w.ta=void 0)}else kn(w,11)}else if((c.L||w.g==c)&&co(w),!P(_))for($=w.Ba.g.parse(_),_=0;_<$.length;_++){let Ge=$[_];const xt=Ge[0];if(!(xt<=w.K))if(w.K=xt,Ge=Ge[1],w.I==2)if(Ge[0]=="c"){w.M=Ge[1],w.ba=Ge[2];const Vn=Ge[3];Vn!=null&&(w.ka=Vn,w.j.info("VER="+w.ka));const ni=Ge[4];ni!=null&&(w.za=ni,w.j.info("SVER="+w.za));const Vr=Ge[5];Vr!=null&&typeof Vr=="number"&&Vr>0&&(S=1.5*Vr,w.O=S,w.j.info("backChannelRequestTimeoutMs_="+S)),S=w;const br=c.g;if(br){const mo=br.g?br.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(mo){var q=S.h;q.g||mo.indexOf("spdy")==-1&&mo.indexOf("quic")==-1&&mo.indexOf("h2")==-1||(q.j=q.l,q.g=new Set,q.h&&(ro(q,q.h),q.h=null))}if(S.G){const ka=br.g?br.g.getResponseHeader("X-HTTP-Session-Id"):null;ka&&(S.wa=ka,We(S.J,S.G,ka))}}w.I=3,w.l&&w.l.ra(),w.aa&&(w.T=Date.now()-c.F,w.j.info("Handshake RTT: "+w.T+"ms")),S=w;var oe=c;if(S.na=Ra(S,S.L?S.ba:null,S.W),oe.L){ps(S.h,oe);var be=oe,yt=S.O;yt&&(be.H=yt),be.D&&(to(be),hs(be)),S.g=oe}else Xt(S);w.i.length>0&&ti(w)}else Ge[0]!="stop"&&Ge[0]!="close"||kn(w,7);else w.I==3&&(Ge[0]=="stop"||Ge[0]=="close"?Ge[0]=="stop"?kn(w,7):lo(w):Ge[0]!="noop"&&w.l&&w.l.qa(Ge),w.A=0)}}rr(4)}catch{}}var uh=class{constructor(c,_){this.g=c,this.map=_}};function no(c){this.l=c||10,u.PerformanceNavigationTiming?(c=u.performance.getEntriesByType("navigation"),c=c.length>0&&(c[0].nextHopProtocol=="hq"||c[0].nextHopProtocol=="h2")):c=!!(u.chrome&&u.chrome.loadTimes&&u.chrome.loadTimes()&&u.chrome.loadTimes().wasFetchedViaSpdy),this.j=c?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function ya(c){return c.h?!0:c.g?c.g.size>=c.j:!1}function ds(c){return c.h?1:c.g?c.g.size:0}function va(c,_){return c.h?c.h==_:c.g?c.g.has(_):!1}function ro(c,_){c.g?c.g.add(_):c.h=_}function ps(c,_){c.h&&c.h==_?c.h=null:c.g&&c.g.has(_)&&c.g.delete(_)}no.prototype.cancel=function(){if(this.i=In(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const c of this.g.values())c.cancel();this.g.clear()}};function In(c){if(c.h!=null)return c.i.concat(c.h.G);if(c.g!=null&&c.g.size!==0){let _=c.i;for(const w of c.g.values())_=_.concat(w.G);return _}return A(c.i)}var Zl=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Cn(c,_){if(c){c=c.split("&");for(let w=0;w<c.length;w++){const S=c[w].indexOf("=");let $,q=null;S>=0?($=c[w].substring(0,S),q=c[w].substring(S+1)):$=c[w],_($,q?decodeURIComponent(q.replace(/\+/g," ")):"")}}}function Er(c){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let _;c instanceof Er?(this.l=c.l,ms(this,c.j),this.o=c.o,this.g=c.g,Tr(this,c.u),this.h=c.h,Ii(this,Ia(c.i)),this.m=c.m):c&&(_=String(c).match(Zl))?(this.l=!1,ms(this,_[1]||"",!0),this.o=gs(_[2]||""),this.g=gs(_[3]||"",!0),Tr(this,_[4]),this.h=gs(_[5]||"",!0),Ii(this,_[6]||"",!0),this.m=gs(_[7]||"")):(this.l=!1,this.i=new Fe(null,this.l))}Er.prototype.toString=function(){const c=[];var _=this.j;_&&c.push(ys(_,wa,!0),":");var w=this.g;return(w||_=="file")&&(c.push("//"),(_=this.o)&&c.push(ys(_,wa,!0),"@"),c.push(Lt(w).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),w=this.u,w!=null&&c.push(":",String(w))),(w=this.h)&&(this.g&&w.charAt(0)!="/"&&c.push("/"),c.push(ys(w,w.charAt(0)=="/"?vs:Ea,!0))),(w=this.i.toString())&&c.push("?",w),(w=this.m)&&c.push("#",ys(w,Ta)),c.join("")},Er.prototype.resolve=function(c){const _=Bn(this);let w=!!c.j;w?ms(_,c.j):w=!!c.o,w?_.o=c.o:w=!!c.g,w?_.g=c.g:w=c.u!=null;var S=c.h;if(w)Tr(_,c.u);else if(w=!!c.h){if(S.charAt(0)!="/")if(this.g&&!this.h)S="/"+S;else{var $=_.h.lastIndexOf("/");$!=-1&&(S=_.h.slice(0,$+1)+S)}if($=S,$==".."||$==".")S="";else if($.indexOf("./")!=-1||$.indexOf("/.")!=-1){S=$.lastIndexOf("/",0)==0,$=$.split("/");const q=[];for(let oe=0;oe<$.length;){const be=$[oe++];be=="."?S&&oe==$.length&&q.push(""):be==".."?((q.length>1||q.length==1&&q[0]!="")&&q.pop(),S&&oe==$.length&&q.push("")):(q.push(be),S=!0)}S=q.join("/")}else S=$}return w?_.h=S:w=c.i.toString()!=="",w?Ii(_,Ia(c.i)):w=!!c.m,w&&(_.m=c.m),_};function Bn(c){return new Er(c)}function ms(c,_,w){c.j=w?gs(_,!0):_,c.j&&(c.j=c.j.replace(/:$/,""))}function Tr(c,_){if(_){if(_=Number(_),isNaN(_)||_<0)throw Error("Bad port number "+_);c.u=_}else c.u=null}function Ii(c,_,w){_ instanceof Fe?(c.i=_,so(c.i,c.l)):(w||(_=ys(_,ch)),c.i=new Fe(_,c.l))}function We(c,_,w){c.i.set(_,w)}function Xr(c){return We(c,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),c}function gs(c,_){return c?_?decodeURI(c.replace(/%25/g,"%2525")):decodeURIComponent(c):""}function ys(c,_,w){return typeof c=="string"?(c=encodeURI(c).replace(_,_a),w&&(c=c.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),c):null}function _a(c){return c=c.charCodeAt(0),"%"+(c>>4&15).toString(16)+(c&15).toString(16)}var wa=/[#\/\?@]/g,Ea=/[#\?:]/g,vs=/[#\?]/g,ch=/[#\?@]/g,Ta=/#/g;function Fe(c,_){this.h=this.g=null,this.i=c||null,this.j=!!_}function Sr(c){c.g||(c.g=new Map,c.h=0,c.i&&Cn(c.i,function(_,w){c.add(decodeURIComponent(_.replace(/\+/g," ")),w)}))}t=Fe.prototype,t.add=function(c,_){Sr(this),this.i=null,c=xr(this,c);let w=this.g.get(c);return w||this.g.set(c,w=[]),w.push(_),this.h+=1,this};function Sa(c,_){Sr(c),_=xr(c,_),c.g.has(_)&&(c.i=null,c.h-=c.g.get(_).length,c.g.delete(_))}function io(c,_){return Sr(c),_=xr(c,_),c.g.has(_)}t.forEach=function(c,_){Sr(this),this.g.forEach(function(w,S){w.forEach(function($){c.call(_,$,S,this)},this)},this)};function xa(c,_){Sr(c);let w=[];if(typeof _=="string")io(c,_)&&(w=w.concat(c.g.get(xr(c,_))));else for(c=Array.from(c.g.values()),_=0;_<c.length;_++)w=w.concat(c[_]);return w}t.set=function(c,_){return Sr(this),this.i=null,c=xr(this,c),io(this,c)&&(this.h-=this.g.get(c).length),this.g.set(c,[_]),this.h+=1,this},t.get=function(c,_){return c?(c=xa(this,c),c.length>0?String(c[0]):_):_};function Aa(c,_,w){Sa(c,_),w.length>0&&(c.i=null,c.g.set(xr(c,_),A(w)),c.h+=w.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const c=[],_=Array.from(this.g.keys());for(let S=0;S<_.length;S++){var w=_[S];const $=Lt(w);w=xa(this,w);for(let q=0;q<w.length;q++){let oe=$;w[q]!==""&&(oe+="="+Lt(w[q])),c.push(oe)}}return this.i=c.join("&")};function Ia(c){const _=new Fe;return _.i=c.i,c.g&&(_.g=new Map(c.g),_.h=c.h),_}function xr(c,_){return _=String(_),c.j&&(_=_.toLowerCase()),_}function so(c,_){_&&!c.j&&(Sr(c),c.i=null,c.g.forEach(function(w,S){const $=S.toLowerCase();S!=$&&(Sa(this,S),Aa(this,$,w))},c)),c.j=_}function Ar(c,_){const w=new Ye;if(u.Image){const S=new Image;S.onload=g(zt,w,"TestLoadImage: loaded",!0,_,S),S.onerror=g(zt,w,"TestLoadImage: error",!1,_,S),S.onabort=g(zt,w,"TestLoadImage: abort",!1,_,S),S.ontimeout=g(zt,w,"TestLoadImage: timeout",!1,_,S),u.setTimeout(function(){S.ontimeout&&S.ontimeout()},1e4),S.src=c}else _(!1)}function Ir(c,_){const w=new Ye,S=new AbortController,$=setTimeout(()=>{S.abort(),zt(w,"TestPingServer: timeout",!1,_)},1e4);fetch(c,{signal:S.signal}).then(q=>{clearTimeout($),q.ok?zt(w,"TestPingServer: ok",!0,_):zt(w,"TestPingServer: server error",!1,_)}).catch(()=>{clearTimeout($),zt(w,"TestPingServer: error",!1,_)})}function zt(c,_,w,S,$){try{$&&($.onload=null,$.onerror=null,$.onabort=null,$.ontimeout=null),S(w)}catch{}}function _s(){this.g=new fn}function Jr(c){this.i=c.Sb||null,this.h=c.ab||!1}y(Jr,tr),Jr.prototype.g=function(){return new Pn(this.i,this.h)};function Pn(c,_){qe.call(this),this.H=c,this.o=_,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}y(Pn,qe),t=Pn.prototype,t.open=function(c,_){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=c,this.D=_,this.readyState=1,or(this)},t.send=function(c){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const _={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};c&&(_.body=c),(this.H||u).fetch(new Request(this.D,_)).then(this.Pa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,Ci(this)),this.readyState=0},t.Pa=function(c){if(this.g&&(this.l=c,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=c.headers,this.readyState=2,or(this)),this.g&&(this.readyState=3,or(this),this.g)))if(this.responseType==="arraybuffer")c.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof u.ReadableStream<"u"&&"body"in c){if(this.j=c.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;eu(this)}else c.text().then(this.Oa.bind(this),this.ga.bind(this))};function eu(c){c.j.read().then(c.Ma.bind(c)).catch(c.ga.bind(c))}t.Ma=function(c){if(this.g){if(this.o&&c.value)this.response.push(c.value);else if(!this.o){var _=c.value?c.value:new Uint8Array(0);(_=this.B.decode(_,{stream:!c.done}))&&(this.response=this.responseText+=_)}c.done?Ci(this):or(this),this.readyState==3&&eu(this)}},t.Oa=function(c){this.g&&(this.response=this.responseText=c,Ci(this))},t.Na=function(c){this.g&&(this.response=c,Ci(this))},t.ga=function(){this.g&&Ci(this)};function Ci(c){c.readyState=4,c.l=null,c.j=null,c.B=null,or(c)}t.setRequestHeader=function(c,_){this.A.append(c,_)},t.getResponseHeader=function(c){return this.h&&this.h.get(c.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const c=[],_=this.h.entries();for(var w=_.next();!w.done;)w=w.value,c.push(w[0]+": "+w[1]),w=_.next();return c.join(`\r
`)};function or(c){c.onreadystatechange&&c.onreadystatechange.call(c)}Object.defineProperty(Pn.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(c){this.m=c?"include":"same-origin"}});function tu(c){let _="";return ce(c,function(w,S){_+=S,_+=":",_+=w,_+=`\r
`}),_}function oo(c,_,w){e:{for(S in w){var S=!1;break e}S=!0}S||(w=tu(w),typeof c=="string"?w!=null&&Lt(w):We(c,_,w))}function Xe(c){qe.call(this),this.headers=new Map,this.L=c||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}y(Xe,qe);var nu=/^https?$/i,hh=["POST","PUT"];t=Xe.prototype,t.Fa=function(c){this.H=c},t.ea=function(c,_,w,S){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+c);_=_?_.toUpperCase():"GET",this.D=c,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():Yt.g(),this.g.onreadystatechange=E(m(this.Ca,this));try{this.B=!0,this.g.open(_,String(c),!0),this.B=!1}catch(q){Pi(this,q);return}if(c=w||"",w=new Map(this.headers),S)if(Object.getPrototypeOf(S)===Object.prototype)for(var $ in S)w.set($,S[$]);else if(typeof S.keys=="function"&&typeof S.get=="function")for(const q of S.keys())w.set(q,S.get(q));else throw Error("Unknown input type for opt_headers: "+String(S));S=Array.from(w.keys()).find(q=>q.toLowerCase()=="content-type"),$=u.FormData&&c instanceof u.FormData,!(Array.prototype.indexOf.call(hh,_,void 0)>=0)||S||$||w.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[q,oe]of w)this.g.setRequestHeader(q,oe);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(c),this.v=!1}catch(q){Pi(this,q)}};function Pi(c,_){c.h=!1,c.g&&(c.j=!0,c.g.abort(),c.j=!1),c.l=_,c.o=5,Ri(c),ei(c)}function Ri(c){c.A||(c.A=!0,at(c,"complete"),at(c,"error"))}t.abort=function(c){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=c||7,at(this,"complete"),at(this,"abort"),ei(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),ei(this,!0)),Xe.Z.N.call(this)},t.Ca=function(){this.u||(this.B||this.v||this.j?Zr(this):this.Xa())},t.Xa=function(){Zr(this)};function Zr(c){if(c.h&&typeof a<"u"){if(c.v&&Cr(c)==4)setTimeout(c.Ca.bind(c),0);else if(at(c,"readystatechange"),Cr(c)==4){c.h=!1;try{const q=c.ca();e:switch(q){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var _=!0;break e;default:_=!1}var w;if(!(w=_)){var S;if(S=q===0){let oe=String(c.D).match(Zl)[1]||null;!oe&&u.self&&u.self.location&&(oe=u.self.location.protocol.slice(0,-1)),S=!nu.test(oe?oe.toLowerCase():"")}w=S}if(w)at(c,"complete"),at(c,"success");else{c.o=6;try{var $=Cr(c)>2?c.g.statusText:""}catch{$=""}c.l=$+" ["+c.ca()+"]",Ri(c)}}finally{ei(c)}}}}function ei(c,_){if(c.g){c.m&&(clearTimeout(c.m),c.m=null);const w=c.g;c.g=null,_||at(c,"ready");try{w.onreadystatechange=null}catch{}}}t.isActive=function(){return!!this.g};function Cr(c){return c.g?c.g.readyState:0}t.ca=function(){try{return Cr(this)>2?this.g.status:-1}catch{return-1}},t.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.La=function(c){if(this.g){var _=this.g.responseText;return c&&_.indexOf(c)==0&&(_=_.substring(c.length)),Ei(_)}};function ru(c){try{if(!c.g)return null;if("response"in c.g)return c.g.response;switch(c.F){case"":case"text":return c.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in c.g)return c.g.mozResponseArrayBuffer}return null}catch{return null}}function Ca(c){const _={};c=(c.g&&Cr(c)>=2&&c.g.getAllResponseHeaders()||"").split(`\r
`);for(let S=0;S<c.length;S++){if(P(c[S]))continue;var w=cs(c[S]);const $=w[0];if(w=w[1],typeof w!="string")continue;w=w.trim();const q=_[$]||[];_[$]=q,q.push(w)}se(_,function(S){return S.join(", ")})}t.ya=function(){return this.o},t.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function Pr(c,_,w){return w&&w.internalChannelParams&&w.internalChannelParams[c]||_}function ao(c){this.za=0,this.i=[],this.j=new Ye,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=Pr("failFast",!1,c),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=Pr("baseRetryDelayMs",5e3,c),this.Za=Pr("retryDelaySeedMs",1e4,c),this.Ta=Pr("forwardChannelMaxRetries",2,c),this.va=Pr("forwardChannelRequestTimeoutMs",2e4,c),this.ma=c&&c.xmlHttpFactory||void 0,this.Ua=c&&c.Rb||void 0,this.Aa=c&&c.useFetchStreams||!1,this.O=void 0,this.L=c&&c.supportsCrossDomainXhr||!1,this.M="",this.h=new no(c&&c.concurrentRequestLimit),this.Ba=new _s,this.S=c&&c.fastHandshake||!1,this.R=c&&c.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=c&&c.Pb||!1,c&&c.ua&&this.j.ua(),c&&c.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&c&&c.detectBufferingProxy||!1,this.ia=void 0,c&&c.longPollingTimeout&&c.longPollingTimeout>0&&(this.ia=c.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}t=ao.prototype,t.ka=8,t.I=1,t.connect=function(c,_,w,S){et(0),this.W=c,this.H=_||{},w&&S!==void 0&&(this.H.OSID=w,this.H.OAID=S),this.F=this.X,this.J=Ra(this,null,this.W),ti(this)};function lo(c){if(uo(c),c.I==3){var _=c.V++,w=Bn(c.J);if(We(w,"SID",c.M),We(w,"RID",_),We(w,"TYPE","terminate"),Rr(c,w),_=new jn(c,c.j,_),_.M=2,_.A=Xr(Bn(w)),w=!1,u.navigator&&u.navigator.sendBeacon)try{w=u.navigator.sendBeacon(_.A.toString(),"")}catch{}!w&&u.Image&&(new Image().src=_.A,w=!0),w||(_.g=su(_.j,null),_.g.ea(_.A)),_.F=Date.now(),hs(_)}Ts(c)}function Rn(c){c.g&&(Es(c),c.g.cancel(),c.g=null)}function uo(c){Rn(c),c.v&&(u.clearTimeout(c.v),c.v=null),co(c),c.h.cancel(),c.m&&(typeof c.m=="number"&&u.clearTimeout(c.m),c.m=null)}function ti(c){if(!ya(c.h)&&!c.m){c.m=!0;var _=c.Ea;ne||x(),le||(ne(),le=!0),R.add(_,c),c.D=0}}function iu(c,_){return ds(c.h)>=c.h.j-(c.m?1:0)?!1:c.m?(c.i=_.G.concat(c.i),!0):c.I==1||c.I==2||c.D>=(c.Sa?0:c.Ta)?!1:(c.m=Ae(m(c.Ea,c,_),fo(c,c.D)),c.D++,!0)}t.Ea=function(c){if(this.m)if(this.m=null,this.I==1){if(!c){this.V=Math.floor(Math.random()*1e5),c=this.V++;const $=new jn(this,this.j,c);let q=this.o;if(this.U&&(q?(q=F(q),ue(q,this.U)):q=this.U),this.u!==null||this.R||($.J=q,q=null),this.S)e:{for(var _=0,w=0;w<this.i.length;w++){t:{var S=this.i[w];if("__data__"in S.map&&(S=S.map.__data__,typeof S=="string")){S=S.length;break t}S=void 0}if(S===void 0)break;if(_+=S,_>4096){_=w;break e}if(_===4096||w===this.i.length-1){_=w+1;break e}}_=1e3}else _=1e3;_=Pa(this,$,_),w=Bn(this.J),We(w,"RID",c),We(w,"CVER",22),this.G&&We(w,"X-HTTP-Session-Id",this.G),Rr(this,w),q&&(this.R?_="headers="+Lt(tu(q))+"&"+_:this.u&&oo(w,this.u,q)),ro(this.h,$),this.Ra&&We(w,"TYPE","init"),this.S?(We(w,"$req",_),We(w,"SID","null"),$.U=!0,sr($,w,null)):sr($,w,_),this.I=2}}else this.I==3&&(c?ws(this,c):this.i.length==0||ya(this.h)||ws(this))};function ws(c,_){var w;_?w=_.l:w=c.V++;const S=Bn(c.J);We(S,"SID",c.M),We(S,"RID",w),We(S,"AID",c.K),Rr(c,S),c.u&&c.o&&oo(S,c.u,c.o),w=new jn(c,c.j,w,c.D+1),c.u===null&&(w.J=c.o),_&&(c.i=_.G.concat(c.i)),_=Pa(c,w,1e3),w.H=Math.round(c.va*.5)+Math.round(c.va*.5*Math.random()),ro(c.h,w),sr(w,S,_)}function Rr(c,_){c.H&&ce(c.H,function(w,S){We(_,S,w)}),c.l&&ce({},function(w,S){We(_,S,w)})}function Pa(c,_,w){w=Math.min(c.i.length,w);const S=c.l?m(c.l.Ka,c.l,c):null;e:{var $=c.i;let be=-1;for(;;){const yt=["count="+w];be==-1?w>0?(be=$[0].g,yt.push("ofs="+be)):be=0:yt.push("ofs="+be);let Ge=!0;for(let xt=0;xt<w;xt++){var q=$[xt].g;const Vn=$[xt].map;if(q-=be,q<0)be=Math.max(0,$[xt].g-100),Ge=!1;else try{q="req"+q+"_"||"";try{var oe=Vn instanceof Map?Vn:Object.entries(Vn);for(const[ni,Vr]of oe){let br=Vr;f(Vr)&&(br=er(Vr)),yt.push(q+ni+"="+encodeURIComponent(br))}}catch(ni){throw yt.push(q+"type="+encodeURIComponent("_badmap")),ni}}catch{S&&S(Vn)}}if(Ge){oe=yt.join("&");break e}}oe=void 0}return c=c.i.splice(0,w),_.G=c,oe}function Xt(c){if(!c.g&&!c.v){c.Y=1;var _=c.Da;ne||x(),le||(ne(),le=!0),R.add(_,c),c.A=0}}function kr(c){return c.g||c.v||c.A>=3?!1:(c.Y++,c.v=Ae(m(c.Da,c),fo(c,c.A)),c.A++,!0)}t.Da=function(){if(this.v=null,ki(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var c=4*this.T;this.j.info("BP detection timer enabled: "+c),this.B=Ae(m(this.Wa,this),c)}},t.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,et(10),Rn(this),ki(this))};function Es(c){c.B!=null&&(u.clearTimeout(c.B),c.B=null)}function ki(c){c.g=new jn(c,c.j,"rpc",c.Y),c.u===null&&(c.g.J=c.o),c.g.P=0;var _=Bn(c.na);We(_,"RID","rpc"),We(_,"SID",c.M),We(_,"AID",c.K),We(_,"CI",c.F?"0":"1"),!c.F&&c.ia&&We(_,"TO",c.ia),We(_,"TYPE","xmlhttp"),Rr(c,_),c.u&&c.o&&oo(_,c.u,c.o),c.O&&(c.g.H=c.O);var w=c.g;c=c.ba,w.M=1,w.A=Xr(Bn(_)),w.u=null,w.R=!0,ma(w,c)}t.Va=function(){this.C!=null&&(this.C=null,Rn(this),kr(this),et(19))};function co(c){c.C!=null&&(u.clearTimeout(c.C),c.C=null)}function ho(c,_){var w=null;if(c.g==_){co(c),Es(c),c.g=null;var S=2}else if(va(c.h,_))w=_.G,ps(c.h,_),S=1;else return;if(c.I!=0){if(_.o)if(S==1){w=_.u?_.u.length:0,_=Date.now()-_.F;var $=c.D;S=On(),at(S,new Ai(S,w)),ti(c)}else Xt(c);else if($=_.m,$==3||$==0&&_.X>0||!(S==1&&iu(c,_)||S==2&&kr(c)))switch(w&&w.length>0&&(_=c.h,_.i=_.i.concat(w)),$){case 1:kn(c,5);break;case 4:kn(c,10);break;case 3:kn(c,6);break;default:kn(c,2)}}}function fo(c,_){let w=c.Qa+Math.floor(Math.random()*c.Za);return c.isActive()||(w*=2),w*_}function kn(c,_){if(c.j.info("Error code "+_),_==2){var w=m(c.bb,c),S=c.Ua;const $=!S;S=new Er(S||"//www.google.com/images/cleardot.gif"),u.location&&u.location.protocol=="http"||ms(S,"https"),Xr(S),$?Ar(S.toString(),w):Ir(S.toString(),w)}else et(2);c.I=0,c.l&&c.l.pa(_),Ts(c),uo(c)}t.bb=function(c){c?(this.j.info("Successfully pinged google.com"),et(2)):(this.j.info("Failed to ping google.com"),et(1))};function Ts(c){if(c.I=0,c.ja=[],c.l){const _=In(c.h);(_.length!=0||c.i.length!=0)&&(M(c.ja,_),M(c.ja,c.i),c.h.i.length=0,A(c.i),c.i.length=0),c.l.oa()}}function Ra(c,_,w){var S=w instanceof Er?Bn(w):new Er(w);if(S.g!="")_&&(S.g=_+"."+S.g),Tr(S,S.u);else{var $=u.location;S=$.protocol,_=_?_+"."+$.hostname:$.hostname,$=+$.port;const q=new Er(null);S&&ms(q,S),_&&(q.g=_),$&&Tr(q,$),w&&(q.h=w),S=q}return w=c.G,_=c.wa,w&&_&&We(S,w,_),We(S,"VER",c.ka),Rr(c,S),S}function su(c,_,w){if(_&&!c.L)throw Error("Can't create secondary domain capable XhrIo object.");return _=c.Aa&&!c.ma?new Xe(new Jr({ab:w})):new Xe(c.ma),_.Fa(c.L),_}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function ou(){}t=ou.prototype,t.ra=function(){},t.qa=function(){},t.pa=function(){},t.oa=function(){},t.isActive=function(){return!0},t.Ka=function(){};function po(){}po.prototype.g=function(c,_){return new $t(c,_)};function $t(c,_){qe.call(this),this.g=new ao(_),this.l=c,this.h=_&&_.messageUrlParams||null,c=_&&_.messageHeaders||null,_&&_.clientProtocolHeaderRequired&&(c?c["X-Client-Protocol"]="webchannel":c={"X-Client-Protocol":"webchannel"}),this.g.o=c,c=_&&_.initMessageHeaders||null,_&&_.messageContentType&&(c?c["X-WebChannel-Content-Type"]=_.messageContentType:c={"X-WebChannel-Content-Type":_.messageContentType}),_&&_.sa&&(c?c["X-WebChannel-Client-Profile"]=_.sa:c={"X-WebChannel-Client-Profile":_.sa}),this.g.U=c,(c=_&&_.Qb)&&!P(c)&&(this.g.u=c),this.A=_&&_.supportsCrossDomainXhr||!1,this.v=_&&_.sendRawJson||!1,(_=_&&_.httpSessionIdParam)&&!P(_)&&(this.g.G=_,c=this.h,c!==null&&_ in c&&(c=this.h,_ in c&&delete c[_])),this.j=new Vi(this)}y($t,qe),$t.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},$t.prototype.close=function(){lo(this.g)},$t.prototype.o=function(c){var _=this.g;if(typeof c=="string"){var w={};w.__data__=c,c=w}else this.v&&(w={},w.__data__=er(c),c=w);_.i.push(new uh(_.Ya++,c)),_.I==3&&ti(_)},$t.prototype.N=function(){this.g.l=null,delete this.j,lo(this.g),delete this.g,$t.Z.N.call(this)};function au(c){Ti.call(this),c.__headers__&&(this.headers=c.__headers__,this.statusCode=c.__status__,delete c.__headers__,delete c.__status__);var _=c.__sm__;if(_){e:{for(const w in _){c=w;break e}c=void 0}(this.i=c)&&(c=this.i,_=_!==null&&c in _?_[c]:void 0),this.data=_}else this.data=c}y(au,Ti);function lu(){Si.call(this),this.status=1}y(lu,Si);function Vi(c){this.g=c}y(Vi,ou),Vi.prototype.ra=function(){at(this.g,"a")},Vi.prototype.qa=function(c){at(this.g,new au(c))},Vi.prototype.pa=function(c){at(this.g,new lu)},Vi.prototype.oa=function(){at(this.g,"b")},po.prototype.createWebChannel=po.prototype.g,$t.prototype.send=$t.prototype.o,$t.prototype.open=$t.prototype.m,$t.prototype.close=$t.prototype.close,jE=function(){return new po},FE=function(){return On()},OE=dn,zd={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},An.NO_ERROR=0,An.TIMEOUT=8,An.HTTP_ERROR=6,vc=An,St.COMPLETE="complete",LE=St,nr.EventType=wr,wr.OPEN="a",wr.CLOSE="b",wr.ERROR="c",wr.MESSAGE="d",qe.prototype.listen=qe.prototype.J,sl=nr,Xe.prototype.listenOnce=Xe.prototype.K,Xe.prototype.getLastError=Xe.prototype.Ha,Xe.prototype.getLastErrorCode=Xe.prototype.ya,Xe.prototype.getStatus=Xe.prototype.ca,Xe.prototype.getResponseJson=Xe.prototype.La,Xe.prototype.getResponseText=Xe.prototype.la,Xe.prototype.send=Xe.prototype.ea,Xe.prototype.setWithCredentials=Xe.prototype.Fa,ME=Xe}).apply(typeof ac<"u"?ac:typeof self<"u"?self:typeof window<"u"?window:{});const A0="@firebase/firestore",I0="4.9.2";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rn{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}rn.UNAUTHENTICATED=new rn(null),rn.GOOGLE_CREDENTIALS=new rn("google-credentials-uid"),rn.FIRST_PARTY=new rn("first-party-uid"),rn.MOCK_USER=new rn("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ua="12.3.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qs=new PE("@firebase/firestore");function Lo(){return qs.logLevel}function de(t,...e){if(qs.logLevel<=ze.DEBUG){const n=e.map(Yp);qs.debug(`Firestore (${ua}): ${t}`,...n)}}function gi(t,...e){if(qs.logLevel<=ze.ERROR){const n=e.map(Yp);qs.error(`Firestore (${ua}): ${t}`,...n)}}function Yo(t,...e){if(qs.logLevel<=ze.WARN){const n=e.map(Yp);qs.warn(`Firestore (${ua}): ${t}`,...n)}}function Yp(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return(function(n){return JSON.stringify(n)})(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ce(t,e,n){let i="Unexpected state";typeof e=="string"?i=e:n=e,BE(t,i,n)}function BE(t,e,n){let i=`FIRESTORE (${ua}) INTERNAL ASSERTION FAILED: ${e} (ID: ${t.toString(16)})`;if(n!==void 0)try{i+=" CONTEXT: "+JSON.stringify(n)}catch{i+=" CONTEXT: "+n}throw gi(i),new Error(i)}function Ke(t,e,n,i){let o="Unexpected state";typeof n=="string"?o=n:i=n,t||BE(e,o,i)}function De(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const G={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class fe extends la{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xi{constructor(){this.promise=new Promise(((e,n)=>{this.resolve=e,this.reject=n}))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UE{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class Gk{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable((()=>n(rn.UNAUTHENTICATED)))}shutdown(){}}class Qk{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable((()=>n(this.token.user)))}shutdown(){this.changeListener=null}}class Yk{constructor(e){this.t=e,this.currentUser=rn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){Ke(this.o===void 0,42304);let i=this.i;const o=d=>this.i!==i?(i=this.i,n(d)):Promise.resolve();let a=new Xi;this.o=()=>{this.i++,this.currentUser=this.u(),a.resolve(),a=new Xi,e.enqueueRetryable((()=>o(this.currentUser)))};const u=()=>{const d=a;e.enqueueRetryable((async()=>{await d.promise,await o(this.currentUser)}))},f=d=>{de("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=d,this.o&&(this.auth.addAuthTokenListener(this.o),u())};this.t.onInit((d=>f(d))),setTimeout((()=>{if(!this.auth){const d=this.t.getImmediate({optional:!0});d?f(d):(de("FirebaseAuthCredentialsProvider","Auth not yet detected"),a.resolve(),a=new Xi)}}),0),u()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((i=>this.i!==e?(de("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):i?(Ke(typeof i.accessToken=="string",31837,{l:i}),new UE(i.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Ke(e===null||typeof e=="string",2055,{h:e}),new rn(e)}}class Xk{constructor(e,n,i){this.P=e,this.T=n,this.I=i,this.type="FirstParty",this.user=rn.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class Jk{constructor(e,n,i){this.P=e,this.T=n,this.I=i}getToken(){return Promise.resolve(new Xk(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable((()=>n(rn.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class C0{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class Zk{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Vk(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){Ke(this.o===void 0,3512);const i=a=>{a.error!=null&&de("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${a.error.message}`);const u=a.token!==this.m;return this.m=a.token,de("FirebaseAppCheckTokenProvider",`Received ${u?"new":"existing"} token.`),u?n(a.token):Promise.resolve()};this.o=a=>{e.enqueueRetryable((()=>i(a)))};const o=a=>{de("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=a,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((a=>o(a))),setTimeout((()=>{if(!this.appCheck){const a=this.V.getImmediate({optional:!0});a?o(a):de("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new C0(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((n=>n?(Ke(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new C0(n.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eV(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let i=0;i<t;i++)n[i]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xp{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let i="";for(;i.length<20;){const o=eV(40);for(let a=0;a<o.length;++a)i.length<20&&o[a]<n&&(i+=e.charAt(o[a]%62))}return i}}function Le(t,e){return t<e?-1:t>e?1:0}function $d(t,e){const n=Math.min(t.length,e.length);for(let i=0;i<n;i++){const o=t.charAt(i),a=e.charAt(i);if(o!==a)return sd(o)===sd(a)?Le(o,a):sd(o)?1:-1}return Le(t.length,e.length)}const tV=55296,nV=57343;function sd(t){const e=t.charCodeAt(0);return e>=tV&&e<=nV}function Xo(t,e,n){return t.length===e.length&&t.every(((i,o)=>n(i,e[o])))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const P0="__name__";class Fr{constructor(e,n,i){n===void 0?n=0:n>e.length&&Ce(637,{offset:n,range:e.length}),i===void 0?i=e.length-n:i>e.length-n&&Ce(1746,{length:i,range:e.length-n}),this.segments=e,this.offset=n,this.len=i}get length(){return this.len}isEqual(e){return Fr.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Fr?e.forEach((i=>{n.push(i)})):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,i=this.limit();n<i;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const i=Math.min(e.length,n.length);for(let o=0;o<i;o++){const a=Fr.compareSegments(e.get(o),n.get(o));if(a!==0)return a}return Le(e.length,n.length)}static compareSegments(e,n){const i=Fr.isNumericId(e),o=Fr.isNumericId(n);return i&&!o?-1:!i&&o?1:i&&o?Fr.extractNumericId(e).compare(Fr.extractNumericId(n)):$d(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Yi.fromString(e.substring(4,e.length-2))}}class Ze extends Fr{construct(e,n,i){return new Ze(e,n,i)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const i of e){if(i.indexOf("//")>=0)throw new fe(G.INVALID_ARGUMENT,`Invalid segment (${i}). Paths must not contain // in them.`);n.push(...i.split("/").filter((o=>o.length>0)))}return new Ze(n)}static emptyPath(){return new Ze([])}}const rV=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Gt extends Fr{construct(e,n,i){return new Gt(e,n,i)}static isValidIdentifier(e){return rV.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Gt.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===P0}static keyField(){return new Gt([P0])}static fromServerFormat(e){const n=[];let i="",o=0;const a=()=>{if(i.length===0)throw new fe(G.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(i),i=""};let u=!1;for(;o<e.length;){const f=e[o];if(f==="\\"){if(o+1===e.length)throw new fe(G.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const d=e[o+1];if(d!=="\\"&&d!=="."&&d!=="`")throw new fe(G.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);i+=d,o+=2}else f==="`"?(u=!u,o++):f!=="."||u?(i+=f,o++):(a(),o++)}if(a(),u)throw new fe(G.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Gt(n)}static emptyPath(){return new Gt([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Te{constructor(e){this.path=e}static fromPath(e){return new Te(Ze.fromString(e))}static fromName(e){return new Te(Ze.fromString(e).popFirst(5))}static empty(){return new Te(Ze.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Ze.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return Ze.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Te(new Ze(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zE(t,e,n){if(!n)throw new fe(G.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function iV(t,e,n,i){if(e===!0&&i===!0)throw new fe(G.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function R0(t){if(!Te.isDocumentKey(t))throw new fe(G.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function k0(t){if(Te.isDocumentKey(t))throw new fe(G.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function $E(t){return typeof t=="object"&&t!==null&&(Object.getPrototypeOf(t)===Object.prototype||Object.getPrototypeOf(t)===null)}function Yc(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=(function(i){return i.constructor?i.constructor.name:null})(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":Ce(12329,{type:typeof t})}function Ji(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new fe(G.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Yc(t);throw new fe(G.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Rt(t,e){const n={typeString:t};return e&&(n.value=e),n}function $l(t,e){if(!$E(t))throw new fe(G.INVALID_ARGUMENT,"JSON must be an object");let n;for(const i in e)if(e[i]){const o=e[i].typeString,a="value"in e[i]?{value:e[i].value}:void 0;if(!(i in t)){n=`JSON missing required field: '${i}'`;break}const u=t[i];if(o&&typeof u!==o){n=`JSON field '${i}' must be a ${o}.`;break}if(a!==void 0&&u!==a.value){n=`Expected '${i}' field to equal '${a.value}'`;break}}if(n)throw new fe(G.INVALID_ARGUMENT,n);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const V0=-62135596800,b0=1e6;class it{static now(){return it.fromMillis(Date.now())}static fromDate(e){return it.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),i=Math.floor((e-1e3*n)*b0);return new it(n,i)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new fe(G.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new fe(G.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<V0)throw new fe(G.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new fe(G.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/b0}_compareTo(e){return this.seconds===e.seconds?Le(this.nanoseconds,e.nanoseconds):Le(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:it._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if($l(e,it._jsonSchema))return new it(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-V0;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}it._jsonSchemaVersion="firestore/timestamp/1.0",it._jsonSchema={type:Rt("string",it._jsonSchemaVersion),seconds:Rt("number"),nanoseconds:Rt("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ke{static fromTimestamp(e){return new ke(e)}static min(){return new ke(new it(0,0))}static max(){return new ke(new it(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rl=-1;function sV(t,e){const n=t.toTimestamp().seconds,i=t.toTimestamp().nanoseconds+1,o=ke.fromTimestamp(i===1e9?new it(n+1,0):new it(n,i));return new ns(o,Te.empty(),e)}function oV(t){return new ns(t.readTime,t.key,Rl)}class ns{constructor(e,n,i){this.readTime=e,this.documentKey=n,this.largestBatchId=i}static min(){return new ns(ke.min(),Te.empty(),Rl)}static max(){return new ns(ke.max(),Te.empty(),Rl)}}function aV(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=Te.comparator(t.documentKey,e.documentKey),n!==0?n:Le(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lV="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class uV{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ca(t){if(t.code!==G.FAILED_PRECONDITION||t.message!==lV)throw t;de("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Q{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)}),(n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)}))}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&Ce(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new Q(((i,o)=>{this.nextCallback=a=>{this.wrapSuccess(e,a).next(i,o)},this.catchCallback=a=>{this.wrapFailure(n,a).next(i,o)}}))}toPromise(){return new Promise(((e,n)=>{this.next(e,n)}))}wrapUserFunction(e){try{const n=e();return n instanceof Q?n:Q.resolve(n)}catch(n){return Q.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction((()=>e(n))):Q.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction((()=>e(n))):Q.reject(n)}static resolve(e){return new Q(((n,i)=>{n(e)}))}static reject(e){return new Q(((n,i)=>{i(e)}))}static waitFor(e){return new Q(((n,i)=>{let o=0,a=0,u=!1;e.forEach((f=>{++o,f.next((()=>{++a,u&&a===o&&n()}),(d=>i(d)))})),u=!0,a===o&&n()}))}static or(e){let n=Q.resolve(!1);for(const i of e)n=n.next((o=>o?Q.resolve(o):i()));return n}static forEach(e,n){const i=[];return e.forEach(((o,a)=>{i.push(n.call(this,o,a))})),this.waitFor(i)}static mapArray(e,n){return new Q(((i,o)=>{const a=e.length,u=new Array(a);let f=0;for(let d=0;d<a;d++){const m=d;n(e[m]).next((g=>{u[m]=g,++f,f===a&&i(u)}),(g=>o(g)))}}))}static doWhile(e,n){return new Q(((i,o)=>{const a=()=>{e()===!0?n().next((()=>{a()}),o):i()};a()}))}}function cV(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function ha(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xc{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=i=>this.ae(i),this.ue=i=>n.writeSequenceNumber(i))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}Xc.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jp=-1;function Jc(t){return t==null}function Nc(t){return t===0&&1/t==-1/0}function hV(t){return typeof t=="number"&&Number.isInteger(t)&&!Nc(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HE="";function fV(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=D0(e)),e=dV(t.get(n),e);return D0(e)}function dV(t,e){let n=e;const i=t.length;for(let o=0;o<i;o++){const a=t.charAt(o);switch(a){case"\0":n+="";break;case HE:n+="";break;default:n+=a}}return n}function D0(t){return t+HE+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function N0(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function Qs(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function WE(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ft{constructor(e,n){this.comparator=e,this.root=n||Kt.EMPTY}insert(e,n){return new ft(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Kt.BLACK,null,null))}remove(e){return new ft(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Kt.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const i=this.comparator(e,n.key);if(i===0)return n.value;i<0?n=n.left:i>0&&(n=n.right)}return null}indexOf(e){let n=0,i=this.root;for(;!i.isEmpty();){const o=this.comparator(e,i.key);if(o===0)return n+i.left.size;o<0?i=i.left:(n+=i.left.size+1,i=i.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((n,i)=>(e(n,i),!1)))}toString(){const e=[];return this.inorderTraversal(((n,i)=>(e.push(`${n}:${i}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new lc(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new lc(this.root,e,this.comparator,!1)}getReverseIterator(){return new lc(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new lc(this.root,e,this.comparator,!0)}}class lc{constructor(e,n,i,o){this.isReverse=o,this.nodeStack=[];let a=1;for(;!e.isEmpty();)if(a=n?i(e.key,n):1,n&&o&&(a*=-1),a<0)e=this.isReverse?e.left:e.right;else{if(a===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Kt{constructor(e,n,i,o,a){this.key=e,this.value=n,this.color=i??Kt.RED,this.left=o??Kt.EMPTY,this.right=a??Kt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,i,o,a){return new Kt(e??this.key,n??this.value,i??this.color,o??this.left,a??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,i){let o=this;const a=i(e,o.key);return o=a<0?o.copy(null,null,null,o.left.insert(e,n,i),null):a===0?o.copy(null,n,null,null,null):o.copy(null,null,null,null,o.right.insert(e,n,i)),o.fixUp()}removeMin(){if(this.left.isEmpty())return Kt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let i,o=this;if(n(e,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(e,n),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),n(e,o.key)===0){if(o.right.isEmpty())return Kt.EMPTY;i=o.right.min(),o=o.copy(i.key,i.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(e,n))}return o.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Kt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Kt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Ce(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Ce(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw Ce(27949);return e+(this.isRed()?0:1)}}Kt.EMPTY=null,Kt.RED=!0,Kt.BLACK=!1;Kt.EMPTY=new class{constructor(){this.size=0}get key(){throw Ce(57766)}get value(){throw Ce(16141)}get color(){throw Ce(16727)}get left(){throw Ce(29726)}get right(){throw Ce(36894)}copy(e,n,i,o,a){return this}insert(e,n,i){return new Kt(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nt{constructor(e){this.comparator=e,this.data=new ft(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((n,i)=>(e(n),!1)))}forEachInRange(e,n){const i=this.data.getIteratorFrom(e[0]);for(;i.hasNext();){const o=i.getNext();if(this.comparator(o.key,e[1])>=0)return;n(o.key)}}forEachWhile(e,n){let i;for(i=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();i.hasNext();)if(!e(i.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new M0(this.data.getIterator())}getIteratorFrom(e){return new M0(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach((i=>{n=n.add(i)})),n}isEqual(e){if(!(e instanceof Nt)||this.size!==e.size)return!1;const n=this.data.getIterator(),i=e.data.getIterator();for(;n.hasNext();){const o=n.getNext().key,a=i.getNext().key;if(this.comparator(o,a)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((n=>{e.push(n)})),e}toString(){const e=[];return this.forEach((n=>e.push(n))),"SortedSet("+e.toString()+")"}copy(e){const n=new Nt(this.comparator);return n.data=e,n}}class M0{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pr{constructor(e){this.fields=e,e.sort(Gt.comparator)}static empty(){return new pr([])}unionWith(e){let n=new Nt(Gt.comparator);for(const i of this.fields)n=n.add(i);for(const i of e)n=n.add(i);return new pr(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return Xo(this.fields,e.fields,((n,i)=>n.isEqual(i)))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qE extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qt{constructor(e){this.binaryString=e}static fromBase64String(e){const n=(function(o){try{return atob(o)}catch(a){throw typeof DOMException<"u"&&a instanceof DOMException?new qE("Invalid base64 string: "+a):a}})(e);return new Qt(n)}static fromUint8Array(e){const n=(function(o){let a="";for(let u=0;u<o.length;++u)a+=String.fromCharCode(o[u]);return a})(e);return new Qt(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(n){return btoa(n)})(this.binaryString)}toUint8Array(){return(function(n){const i=new Uint8Array(n.length);for(let o=0;o<n.length;o++)i[o]=n.charCodeAt(o);return i})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Le(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Qt.EMPTY_BYTE_STRING=new Qt("");const pV=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function rs(t){if(Ke(!!t,39018),typeof t=="string"){let e=0;const n=pV.exec(t);if(Ke(!!n,46558,{timestamp:t}),n[1]){let o=n[1];o=(o+"000000000").substr(0,9),e=Number(o)}const i=new Date(t);return{seconds:Math.floor(i.getTime()/1e3),nanos:e}}return{seconds:wt(t.seconds),nanos:wt(t.nanos)}}function wt(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function is(t){return typeof t=="string"?Qt.fromBase64String(t):Qt.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KE="server_timestamp",GE="__type__",QE="__previous_value__",YE="__local_write_time__";function Zp(t){var n,i;return((i=(((n=t==null?void 0:t.mapValue)==null?void 0:n.fields)||{})[GE])==null?void 0:i.stringValue)===KE}function Zc(t){const e=t.mapValue.fields[QE];return Zp(e)?Zc(e):e}function kl(t){const e=rs(t.mapValue.fields[YE].timestampValue);return new it(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mV{constructor(e,n,i,o,a,u,f,d,m,g){this.databaseId=e,this.appId=n,this.persistenceKey=i,this.host=o,this.ssl=a,this.forceLongPolling=u,this.autoDetectLongPolling=f,this.longPollingOptions=d,this.useFetchStreams=m,this.isUsingEmulator=g}}const Mc="(default)";class Vl{constructor(e,n){this.projectId=e,this.database=n||Mc}static empty(){return new Vl("","")}get isDefaultDatabase(){return this.database===Mc}isEqual(e){return e instanceof Vl&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XE="__type__",gV="__max__",uc={mapValue:{}},JE="__vector__",Lc="value";function ss(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?Zp(t)?4:vV(t)?9007199254740991:yV(t)?10:11:Ce(28295,{value:t})}function Kr(t,e){if(t===e)return!0;const n=ss(t);if(n!==ss(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return kl(t).isEqual(kl(e));case 3:return(function(o,a){if(typeof o.timestampValue=="string"&&typeof a.timestampValue=="string"&&o.timestampValue.length===a.timestampValue.length)return o.timestampValue===a.timestampValue;const u=rs(o.timestampValue),f=rs(a.timestampValue);return u.seconds===f.seconds&&u.nanos===f.nanos})(t,e);case 5:return t.stringValue===e.stringValue;case 6:return(function(o,a){return is(o.bytesValue).isEqual(is(a.bytesValue))})(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return(function(o,a){return wt(o.geoPointValue.latitude)===wt(a.geoPointValue.latitude)&&wt(o.geoPointValue.longitude)===wt(a.geoPointValue.longitude)})(t,e);case 2:return(function(o,a){if("integerValue"in o&&"integerValue"in a)return wt(o.integerValue)===wt(a.integerValue);if("doubleValue"in o&&"doubleValue"in a){const u=wt(o.doubleValue),f=wt(a.doubleValue);return u===f?Nc(u)===Nc(f):isNaN(u)&&isNaN(f)}return!1})(t,e);case 9:return Xo(t.arrayValue.values||[],e.arrayValue.values||[],Kr);case 10:case 11:return(function(o,a){const u=o.mapValue.fields||{},f=a.mapValue.fields||{};if(N0(u)!==N0(f))return!1;for(const d in u)if(u.hasOwnProperty(d)&&(f[d]===void 0||!Kr(u[d],f[d])))return!1;return!0})(t,e);default:return Ce(52216,{left:t})}}function bl(t,e){return(t.values||[]).find((n=>Kr(n,e)))!==void 0}function Jo(t,e){if(t===e)return 0;const n=ss(t),i=ss(e);if(n!==i)return Le(n,i);switch(n){case 0:case 9007199254740991:return 0;case 1:return Le(t.booleanValue,e.booleanValue);case 2:return(function(a,u){const f=wt(a.integerValue||a.doubleValue),d=wt(u.integerValue||u.doubleValue);return f<d?-1:f>d?1:f===d?0:isNaN(f)?isNaN(d)?0:-1:1})(t,e);case 3:return L0(t.timestampValue,e.timestampValue);case 4:return L0(kl(t),kl(e));case 5:return $d(t.stringValue,e.stringValue);case 6:return(function(a,u){const f=is(a),d=is(u);return f.compareTo(d)})(t.bytesValue,e.bytesValue);case 7:return(function(a,u){const f=a.split("/"),d=u.split("/");for(let m=0;m<f.length&&m<d.length;m++){const g=Le(f[m],d[m]);if(g!==0)return g}return Le(f.length,d.length)})(t.referenceValue,e.referenceValue);case 8:return(function(a,u){const f=Le(wt(a.latitude),wt(u.latitude));return f!==0?f:Le(wt(a.longitude),wt(u.longitude))})(t.geoPointValue,e.geoPointValue);case 9:return O0(t.arrayValue,e.arrayValue);case 10:return(function(a,u){var E,A,M,b;const f=a.fields||{},d=u.fields||{},m=(E=f[Lc])==null?void 0:E.arrayValue,g=(A=d[Lc])==null?void 0:A.arrayValue,y=Le(((M=m==null?void 0:m.values)==null?void 0:M.length)||0,((b=g==null?void 0:g.values)==null?void 0:b.length)||0);return y!==0?y:O0(m,g)})(t.mapValue,e.mapValue);case 11:return(function(a,u){if(a===uc.mapValue&&u===uc.mapValue)return 0;if(a===uc.mapValue)return 1;if(u===uc.mapValue)return-1;const f=a.fields||{},d=Object.keys(f),m=u.fields||{},g=Object.keys(m);d.sort(),g.sort();for(let y=0;y<d.length&&y<g.length;++y){const E=$d(d[y],g[y]);if(E!==0)return E;const A=Jo(f[d[y]],m[g[y]]);if(A!==0)return A}return Le(d.length,g.length)})(t.mapValue,e.mapValue);default:throw Ce(23264,{he:n})}}function L0(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return Le(t,e);const n=rs(t),i=rs(e),o=Le(n.seconds,i.seconds);return o!==0?o:Le(n.nanos,i.nanos)}function O0(t,e){const n=t.values||[],i=e.values||[];for(let o=0;o<n.length&&o<i.length;++o){const a=Jo(n[o],i[o]);if(a)return a}return Le(n.length,i.length)}function Zo(t){return Hd(t)}function Hd(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?(function(n){const i=rs(n);return`time(${i.seconds},${i.nanos})`})(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?(function(n){return is(n).toBase64()})(t.bytesValue):"referenceValue"in t?(function(n){return Te.fromName(n).toString()})(t.referenceValue):"geoPointValue"in t?(function(n){return`geo(${n.latitude},${n.longitude})`})(t.geoPointValue):"arrayValue"in t?(function(n){let i="[",o=!0;for(const a of n.values||[])o?o=!1:i+=",",i+=Hd(a);return i+"]"})(t.arrayValue):"mapValue"in t?(function(n){const i=Object.keys(n.fields||{}).sort();let o="{",a=!0;for(const u of i)a?a=!1:o+=",",o+=`${u}:${Hd(n.fields[u])}`;return o+"}"})(t.mapValue):Ce(61005,{value:t})}function _c(t){switch(ss(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Zc(t);return e?16+_c(e):16;case 5:return 2*t.stringValue.length;case 6:return is(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return(function(i){return(i.values||[]).reduce(((o,a)=>o+_c(a)),0)})(t.arrayValue);case 10:case 11:return(function(i){let o=0;return Qs(i.fields,((a,u)=>{o+=a.length+_c(u)})),o})(t.mapValue);default:throw Ce(13486,{value:t})}}function F0(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function Wd(t){return!!t&&"integerValue"in t}function em(t){return!!t&&"arrayValue"in t}function j0(t){return!!t&&"nullValue"in t}function B0(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function wc(t){return!!t&&"mapValue"in t}function yV(t){var n,i;return((i=(((n=t==null?void 0:t.mapValue)==null?void 0:n.fields)||{})[XE])==null?void 0:i.stringValue)===JE}function gl(t){if(t.geoPointValue)return{geoPointValue:{...t.geoPointValue}};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:{...t.timestampValue}};if(t.mapValue){const e={mapValue:{fields:{}}};return Qs(t.mapValue.fields,((n,i)=>e.mapValue.fields[n]=gl(i))),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=gl(t.arrayValue.values[n]);return e}return{...t}}function vV(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue===gV}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qn{constructor(e){this.value=e}static empty(){return new Qn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let i=0;i<e.length-1;++i)if(n=(n.mapValue.fields||{})[e.get(i)],!wc(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=gl(n)}setAll(e){let n=Gt.emptyPath(),i={},o=[];e.forEach(((u,f)=>{if(!n.isImmediateParentOf(f)){const d=this.getFieldsMap(n);this.applyChanges(d,i,o),i={},o=[],n=f.popLast()}u?i[f.lastSegment()]=gl(u):o.push(f.lastSegment())}));const a=this.getFieldsMap(n);this.applyChanges(a,i,o)}delete(e){const n=this.field(e.popLast());wc(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Kr(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let i=0;i<e.length;++i){let o=n.mapValue.fields[e.get(i)];wc(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},n.mapValue.fields[e.get(i)]=o),n=o}return n.mapValue.fields}applyChanges(e,n,i){Qs(n,((o,a)=>e[o]=a));for(const o of i)delete e[o]}clone(){return new Qn(gl(this.value))}}function ZE(t){const e=[];return Qs(t.fields,((n,i)=>{const o=new Gt([n]);if(wc(i)){const a=ZE(i.mapValue).fields;if(a.length===0)e.push(o);else for(const u of a)e.push(o.child(u))}else e.push(o)})),new pr(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sn{constructor(e,n,i,o,a,u,f){this.key=e,this.documentType=n,this.version=i,this.readTime=o,this.createTime=a,this.data=u,this.documentState=f}static newInvalidDocument(e){return new sn(e,0,ke.min(),ke.min(),ke.min(),Qn.empty(),0)}static newFoundDocument(e,n,i,o){return new sn(e,1,n,ke.min(),i,o,0)}static newNoDocument(e,n){return new sn(e,2,n,ke.min(),ke.min(),Qn.empty(),0)}static newUnknownDocument(e,n){return new sn(e,3,n,ke.min(),ke.min(),Qn.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(ke.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Qn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Qn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=ke.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof sn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new sn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oc{constructor(e,n){this.position=e,this.inclusive=n}}function U0(t,e,n){let i=0;for(let o=0;o<t.position.length;o++){const a=e[o],u=t.position[o];if(a.field.isKeyField()?i=Te.comparator(Te.fromName(u.referenceValue),n.key):i=Jo(u,n.data.field(a.field)),a.dir==="desc"&&(i*=-1),i!==0)break}return i}function z0(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!Kr(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dl{constructor(e,n="asc"){this.field=e,this.dir=n}}function _V(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eT{}class Pt extends eT{constructor(e,n,i){super(),this.field=e,this.op=n,this.value=i}static create(e,n,i){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,i):new EV(e,n,i):n==="array-contains"?new xV(e,i):n==="in"?new AV(e,i):n==="not-in"?new IV(e,i):n==="array-contains-any"?new CV(e,i):new Pt(e,n,i)}static createKeyFieldInFilter(e,n,i){return n==="in"?new TV(e,i):new SV(e,i)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(Jo(n,this.value)):n!==null&&ss(this.value)===ss(n)&&this.matchesComparison(Jo(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Ce(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class mr extends eT{constructor(e,n){super(),this.filters=e,this.op=n,this.Pe=null}static create(e,n){return new mr(e,n)}matches(e){return tT(this)?this.filters.find((n=>!n.matches(e)))===void 0:this.filters.find((n=>n.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,n)=>e.concat(n.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function tT(t){return t.op==="and"}function nT(t){return wV(t)&&tT(t)}function wV(t){for(const e of t.filters)if(e instanceof mr)return!1;return!0}function qd(t){if(t instanceof Pt)return t.field.canonicalString()+t.op.toString()+Zo(t.value);if(nT(t))return t.filters.map((e=>qd(e))).join(",");{const e=t.filters.map((n=>qd(n))).join(",");return`${t.op}(${e})`}}function rT(t,e){return t instanceof Pt?(function(i,o){return o instanceof Pt&&i.op===o.op&&i.field.isEqual(o.field)&&Kr(i.value,o.value)})(t,e):t instanceof mr?(function(i,o){return o instanceof mr&&i.op===o.op&&i.filters.length===o.filters.length?i.filters.reduce(((a,u,f)=>a&&rT(u,o.filters[f])),!0):!1})(t,e):void Ce(19439)}function iT(t){return t instanceof Pt?(function(n){return`${n.field.canonicalString()} ${n.op} ${Zo(n.value)}`})(t):t instanceof mr?(function(n){return n.op.toString()+" {"+n.getFilters().map(iT).join(" ,")+"}"})(t):"Filter"}class EV extends Pt{constructor(e,n,i){super(e,n,i),this.key=Te.fromName(i.referenceValue)}matches(e){const n=Te.comparator(e.key,this.key);return this.matchesComparison(n)}}class TV extends Pt{constructor(e,n){super(e,"in",n),this.keys=sT("in",n)}matches(e){return this.keys.some((n=>n.isEqual(e.key)))}}class SV extends Pt{constructor(e,n){super(e,"not-in",n),this.keys=sT("not-in",n)}matches(e){return!this.keys.some((n=>n.isEqual(e.key)))}}function sT(t,e){var n;return(((n=e.arrayValue)==null?void 0:n.values)||[]).map((i=>Te.fromName(i.referenceValue)))}class xV extends Pt{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return em(n)&&bl(n.arrayValue,this.value)}}class AV extends Pt{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&bl(this.value.arrayValue,n)}}class IV extends Pt{constructor(e,n){super(e,"not-in",n)}matches(e){if(bl(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!bl(this.value.arrayValue,n)}}class CV extends Pt{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!em(n)||!n.arrayValue.values)&&n.arrayValue.values.some((i=>bl(this.value.arrayValue,i)))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PV{constructor(e,n=null,i=[],o=[],a=null,u=null,f=null){this.path=e,this.collectionGroup=n,this.orderBy=i,this.filters=o,this.limit=a,this.startAt=u,this.endAt=f,this.Te=null}}function $0(t,e=null,n=[],i=[],o=null,a=null,u=null){return new PV(t,e,n,i,o,a,u)}function tm(t){const e=De(t);if(e.Te===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map((i=>qd(i))).join(","),n+="|ob:",n+=e.orderBy.map((i=>(function(a){return a.field.canonicalString()+a.dir})(i))).join(","),Jc(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map((i=>Zo(i))).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map((i=>Zo(i))).join(",")),e.Te=n}return e.Te}function nm(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!_V(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!rT(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!z0(t.startAt,e.startAt)&&z0(t.endAt,e.endAt)}function Kd(t){return Te.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fa{constructor(e,n=null,i=[],o=[],a=null,u="F",f=null,d=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=i,this.filters=o,this.limit=a,this.limitType=u,this.startAt=f,this.endAt=d,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function RV(t,e,n,i,o,a,u,f){return new fa(t,e,n,i,o,a,u,f)}function rm(t){return new fa(t)}function H0(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function oT(t){return t.collectionGroup!==null}function yl(t){const e=De(t);if(e.Ie===null){e.Ie=[];const n=new Set;for(const a of e.explicitOrderBy)e.Ie.push(a),n.add(a.field.canonicalString());const i=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(u){let f=new Nt(Gt.comparator);return u.filters.forEach((d=>{d.getFlattenedFilters().forEach((m=>{m.isInequality()&&(f=f.add(m.field))}))})),f})(e).forEach((a=>{n.has(a.canonicalString())||a.isKeyField()||e.Ie.push(new Dl(a,i))})),n.has(Gt.keyField().canonicalString())||e.Ie.push(new Dl(Gt.keyField(),i))}return e.Ie}function Ur(t){const e=De(t);return e.Ee||(e.Ee=kV(e,yl(t))),e.Ee}function kV(t,e){if(t.limitType==="F")return $0(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map((o=>{const a=o.dir==="desc"?"asc":"desc";return new Dl(o.field,a)}));const n=t.endAt?new Oc(t.endAt.position,t.endAt.inclusive):null,i=t.startAt?new Oc(t.startAt.position,t.startAt.inclusive):null;return $0(t.path,t.collectionGroup,e,t.filters,t.limit,n,i)}}function Gd(t,e){const n=t.filters.concat([e]);return new fa(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function Qd(t,e,n){return new fa(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function eh(t,e){return nm(Ur(t),Ur(e))&&t.limitType===e.limitType}function aT(t){return`${tm(Ur(t))}|lt:${t.limitType}`}function Oo(t){return`Query(target=${(function(n){let i=n.path.canonicalString();return n.collectionGroup!==null&&(i+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(i+=`, filters: [${n.filters.map((o=>iT(o))).join(", ")}]`),Jc(n.limit)||(i+=", limit: "+n.limit),n.orderBy.length>0&&(i+=`, orderBy: [${n.orderBy.map((o=>(function(u){return`${u.field.canonicalString()} (${u.dir})`})(o))).join(", ")}]`),n.startAt&&(i+=", startAt: ",i+=n.startAt.inclusive?"b:":"a:",i+=n.startAt.position.map((o=>Zo(o))).join(",")),n.endAt&&(i+=", endAt: ",i+=n.endAt.inclusive?"a:":"b:",i+=n.endAt.position.map((o=>Zo(o))).join(",")),`Target(${i})`})(Ur(t))}; limitType=${t.limitType})`}function th(t,e){return e.isFoundDocument()&&(function(i,o){const a=o.key.path;return i.collectionGroup!==null?o.key.hasCollectionId(i.collectionGroup)&&i.path.isPrefixOf(a):Te.isDocumentKey(i.path)?i.path.isEqual(a):i.path.isImmediateParentOf(a)})(t,e)&&(function(i,o){for(const a of yl(i))if(!a.field.isKeyField()&&o.data.field(a.field)===null)return!1;return!0})(t,e)&&(function(i,o){for(const a of i.filters)if(!a.matches(o))return!1;return!0})(t,e)&&(function(i,o){return!(i.startAt&&!(function(u,f,d){const m=U0(u,f,d);return u.inclusive?m<=0:m<0})(i.startAt,yl(i),o)||i.endAt&&!(function(u,f,d){const m=U0(u,f,d);return u.inclusive?m>=0:m>0})(i.endAt,yl(i),o))})(t,e)}function VV(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function lT(t){return(e,n)=>{let i=!1;for(const o of yl(t)){const a=bV(o,e,n);if(a!==0)return a;i=i||o.field.isKeyField()}return 0}}function bV(t,e,n){const i=t.field.isKeyField()?Te.comparator(e.key,n.key):(function(a,u,f){const d=u.data.field(a),m=f.data.field(a);return d!==null&&m!==null?Jo(d,m):Ce(42886)})(t.field,e,n);switch(t.dir){case"asc":return i;case"desc":return-1*i;default:return Ce(19790,{direction:t.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ys{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),i=this.inner[n];if(i!==void 0){for(const[o,a]of i)if(this.equalsFn(o,e))return a}}has(e){return this.get(e)!==void 0}set(e,n){const i=this.mapKeyFn(e),o=this.inner[i];if(o===void 0)return this.inner[i]=[[e,n]],void this.innerSize++;for(let a=0;a<o.length;a++)if(this.equalsFn(o[a][0],e))return void(o[a]=[e,n]);o.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),i=this.inner[n];if(i===void 0)return!1;for(let o=0;o<i.length;o++)if(this.equalsFn(i[o][0],e))return i.length===1?delete this.inner[n]:i.splice(o,1),this.innerSize--,!0;return!1}forEach(e){Qs(this.inner,((n,i)=>{for(const[o,a]of i)e(o,a)}))}isEmpty(){return WE(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DV=new ft(Te.comparator);function yi(){return DV}const uT=new ft(Te.comparator);function ol(...t){let e=uT;for(const n of t)e=e.insert(n.key,n);return e}function cT(t){let e=uT;return t.forEach(((n,i)=>e=e.insert(n,i.overlayedDocument))),e}function Bs(){return vl()}function hT(){return vl()}function vl(){return new Ys((t=>t.toString()),((t,e)=>t.isEqual(e)))}const NV=new ft(Te.comparator),MV=new Nt(Te.comparator);function Oe(...t){let e=MV;for(const n of t)e=e.add(n);return e}const LV=new Nt(Le);function OV(){return LV}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function im(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Nc(e)?"-0":e}}function fT(t){return{integerValue:""+t}}function FV(t,e){return hV(e)?fT(e):im(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nh{constructor(){this._=void 0}}function jV(t,e,n){return t instanceof Fc?(function(o,a){const u={fields:{[GE]:{stringValue:KE},[YE]:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return a&&Zp(a)&&(a=Zc(a)),a&&(u.fields[QE]=a),{mapValue:u}})(n,e):t instanceof Nl?pT(t,e):t instanceof Ml?mT(t,e):(function(o,a){const u=dT(o,a),f=W0(u)+W0(o.Ae);return Wd(u)&&Wd(o.Ae)?fT(f):im(o.serializer,f)})(t,e)}function BV(t,e,n){return t instanceof Nl?pT(t,e):t instanceof Ml?mT(t,e):n}function dT(t,e){return t instanceof jc?(function(i){return Wd(i)||(function(a){return!!a&&"doubleValue"in a})(i)})(e)?e:{integerValue:0}:null}class Fc extends nh{}class Nl extends nh{constructor(e){super(),this.elements=e}}function pT(t,e){const n=gT(e);for(const i of t.elements)n.some((o=>Kr(o,i)))||n.push(i);return{arrayValue:{values:n}}}class Ml extends nh{constructor(e){super(),this.elements=e}}function mT(t,e){let n=gT(e);for(const i of t.elements)n=n.filter((o=>!Kr(o,i)));return{arrayValue:{values:n}}}class jc extends nh{constructor(e,n){super(),this.serializer=e,this.Ae=n}}function W0(t){return wt(t.integerValue||t.doubleValue)}function gT(t){return em(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}function UV(t,e){return t.field.isEqual(e.field)&&(function(i,o){return i instanceof Nl&&o instanceof Nl||i instanceof Ml&&o instanceof Ml?Xo(i.elements,o.elements,Kr):i instanceof jc&&o instanceof jc?Kr(i.Ae,o.Ae):i instanceof Fc&&o instanceof Fc})(t.transform,e.transform)}class zV{constructor(e,n){this.version=e,this.transformResults=n}}class zr{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new zr}static exists(e){return new zr(void 0,e)}static updateTime(e){return new zr(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Ec(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class rh{}function yT(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new sm(t.key,zr.none()):new Hl(t.key,t.data,zr.none());{const n=t.data,i=Qn.empty();let o=new Nt(Gt.comparator);for(let a of e.fields)if(!o.has(a)){let u=n.field(a);u===null&&a.length>1&&(a=a.popLast(),u=n.field(a)),u===null?i.delete(a):i.set(a,u),o=o.add(a)}return new Xs(t.key,i,new pr(o.toArray()),zr.none())}}function $V(t,e,n){t instanceof Hl?(function(o,a,u){const f=o.value.clone(),d=K0(o.fieldTransforms,a,u.transformResults);f.setAll(d),a.convertToFoundDocument(u.version,f).setHasCommittedMutations()})(t,e,n):t instanceof Xs?(function(o,a,u){if(!Ec(o.precondition,a))return void a.convertToUnknownDocument(u.version);const f=K0(o.fieldTransforms,a,u.transformResults),d=a.data;d.setAll(vT(o)),d.setAll(f),a.convertToFoundDocument(u.version,d).setHasCommittedMutations()})(t,e,n):(function(o,a,u){a.convertToNoDocument(u.version).setHasCommittedMutations()})(0,e,n)}function _l(t,e,n,i){return t instanceof Hl?(function(a,u,f,d){if(!Ec(a.precondition,u))return f;const m=a.value.clone(),g=G0(a.fieldTransforms,d,u);return m.setAll(g),u.convertToFoundDocument(u.version,m).setHasLocalMutations(),null})(t,e,n,i):t instanceof Xs?(function(a,u,f,d){if(!Ec(a.precondition,u))return f;const m=G0(a.fieldTransforms,d,u),g=u.data;return g.setAll(vT(a)),g.setAll(m),u.convertToFoundDocument(u.version,g).setHasLocalMutations(),f===null?null:f.unionWith(a.fieldMask.fields).unionWith(a.fieldTransforms.map((y=>y.field)))})(t,e,n,i):(function(a,u,f){return Ec(a.precondition,u)?(u.convertToNoDocument(u.version).setHasLocalMutations(),null):f})(t,e,n)}function HV(t,e){let n=null;for(const i of t.fieldTransforms){const o=e.data.field(i.field),a=dT(i.transform,o||null);a!=null&&(n===null&&(n=Qn.empty()),n.set(i.field,a))}return n||null}function q0(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!(function(i,o){return i===void 0&&o===void 0||!(!i||!o)&&Xo(i,o,((a,u)=>UV(a,u)))})(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class Hl extends rh{constructor(e,n,i,o=[]){super(),this.key=e,this.value=n,this.precondition=i,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class Xs extends rh{constructor(e,n,i,o,a=[]){super(),this.key=e,this.data=n,this.fieldMask=i,this.precondition=o,this.fieldTransforms=a,this.type=1}getFieldMask(){return this.fieldMask}}function vT(t){const e=new Map;return t.fieldMask.fields.forEach((n=>{if(!n.isEmpty()){const i=t.data.field(n);e.set(n,i)}})),e}function K0(t,e,n){const i=new Map;Ke(t.length===n.length,32656,{Re:n.length,Ve:t.length});for(let o=0;o<n.length;o++){const a=t[o],u=a.transform,f=e.data.field(a.field);i.set(a.field,BV(u,f,n[o]))}return i}function G0(t,e,n){const i=new Map;for(const o of t){const a=o.transform,u=n.data.field(o.field);i.set(o.field,jV(a,u,e))}return i}class sm extends rh{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class WV extends rh{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qV{constructor(e,n,i,o){this.batchId=e,this.localWriteTime=n,this.baseMutations=i,this.mutations=o}applyToRemoteDocument(e,n){const i=n.mutationResults;for(let o=0;o<this.mutations.length;o++){const a=this.mutations[o];a.key.isEqual(e.key)&&$V(a,e,i[o])}}applyToLocalView(e,n){for(const i of this.baseMutations)i.key.isEqual(e.key)&&(n=_l(i,e,n,this.localWriteTime));for(const i of this.mutations)i.key.isEqual(e.key)&&(n=_l(i,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const i=hT();return this.mutations.forEach((o=>{const a=e.get(o.key),u=a.overlayedDocument;let f=this.applyToLocalView(u,a.mutatedFields);f=n.has(o.key)?null:f;const d=yT(u,f);d!==null&&i.set(o.key,d),u.isValidDocument()||u.convertToNoDocument(ke.min())})),i}keys(){return this.mutations.reduce(((e,n)=>e.add(n.key)),Oe())}isEqual(e){return this.batchId===e.batchId&&Xo(this.mutations,e.mutations,((n,i)=>q0(n,i)))&&Xo(this.baseMutations,e.baseMutations,((n,i)=>q0(n,i)))}}class om{constructor(e,n,i,o){this.batch=e,this.commitVersion=n,this.mutationResults=i,this.docVersions=o}static from(e,n,i){Ke(e.mutations.length===i.length,58842,{me:e.mutations.length,fe:i.length});let o=(function(){return NV})();const a=e.mutations;for(let u=0;u<a.length;u++)o=o.insert(a[u].key,i[u].version);return new om(e,n,i,o)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KV{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GV{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var It,Ue;function QV(t){switch(t){case G.OK:return Ce(64938);case G.CANCELLED:case G.UNKNOWN:case G.DEADLINE_EXCEEDED:case G.RESOURCE_EXHAUSTED:case G.INTERNAL:case G.UNAVAILABLE:case G.UNAUTHENTICATED:return!1;case G.INVALID_ARGUMENT:case G.NOT_FOUND:case G.ALREADY_EXISTS:case G.PERMISSION_DENIED:case G.FAILED_PRECONDITION:case G.ABORTED:case G.OUT_OF_RANGE:case G.UNIMPLEMENTED:case G.DATA_LOSS:return!0;default:return Ce(15467,{code:t})}}function _T(t){if(t===void 0)return gi("GRPC error has no .code"),G.UNKNOWN;switch(t){case It.OK:return G.OK;case It.CANCELLED:return G.CANCELLED;case It.UNKNOWN:return G.UNKNOWN;case It.DEADLINE_EXCEEDED:return G.DEADLINE_EXCEEDED;case It.RESOURCE_EXHAUSTED:return G.RESOURCE_EXHAUSTED;case It.INTERNAL:return G.INTERNAL;case It.UNAVAILABLE:return G.UNAVAILABLE;case It.UNAUTHENTICATED:return G.UNAUTHENTICATED;case It.INVALID_ARGUMENT:return G.INVALID_ARGUMENT;case It.NOT_FOUND:return G.NOT_FOUND;case It.ALREADY_EXISTS:return G.ALREADY_EXISTS;case It.PERMISSION_DENIED:return G.PERMISSION_DENIED;case It.FAILED_PRECONDITION:return G.FAILED_PRECONDITION;case It.ABORTED:return G.ABORTED;case It.OUT_OF_RANGE:return G.OUT_OF_RANGE;case It.UNIMPLEMENTED:return G.UNIMPLEMENTED;case It.DATA_LOSS:return G.DATA_LOSS;default:return Ce(39323,{code:t})}}(Ue=It||(It={}))[Ue.OK=0]="OK",Ue[Ue.CANCELLED=1]="CANCELLED",Ue[Ue.UNKNOWN=2]="UNKNOWN",Ue[Ue.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Ue[Ue.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Ue[Ue.NOT_FOUND=5]="NOT_FOUND",Ue[Ue.ALREADY_EXISTS=6]="ALREADY_EXISTS",Ue[Ue.PERMISSION_DENIED=7]="PERMISSION_DENIED",Ue[Ue.UNAUTHENTICATED=16]="UNAUTHENTICATED",Ue[Ue.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Ue[Ue.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Ue[Ue.ABORTED=10]="ABORTED",Ue[Ue.OUT_OF_RANGE=11]="OUT_OF_RANGE",Ue[Ue.UNIMPLEMENTED=12]="UNIMPLEMENTED",Ue[Ue.INTERNAL=13]="INTERNAL",Ue[Ue.UNAVAILABLE=14]="UNAVAILABLE",Ue[Ue.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function YV(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XV=new Yi([4294967295,4294967295],0);function Q0(t){const e=YV().encode(t),n=new NE;return n.update(e),new Uint8Array(n.digest())}function Y0(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),i=e.getUint32(4,!0),o=e.getUint32(8,!0),a=e.getUint32(12,!0);return[new Yi([n,i],0),new Yi([o,a],0)]}class am{constructor(e,n,i){if(this.bitmap=e,this.padding=n,this.hashCount=i,n<0||n>=8)throw new al(`Invalid padding: ${n}`);if(i<0)throw new al(`Invalid hash count: ${i}`);if(e.length>0&&this.hashCount===0)throw new al(`Invalid hash count: ${i}`);if(e.length===0&&n!==0)throw new al(`Invalid padding when bitmap length is 0: ${n}`);this.ge=8*e.length-n,this.pe=Yi.fromNumber(this.ge)}ye(e,n,i){let o=e.add(n.multiply(Yi.fromNumber(i)));return o.compare(XV)===1&&(o=new Yi([o.getBits(0),o.getBits(1)],0)),o.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const n=Q0(e),[i,o]=Y0(n);for(let a=0;a<this.hashCount;a++){const u=this.ye(i,o,a);if(!this.we(u))return!1}return!0}static create(e,n,i){const o=e%8==0?0:8-e%8,a=new Uint8Array(Math.ceil(e/8)),u=new am(a,o,n);return i.forEach((f=>u.insert(f))),u}insert(e){if(this.ge===0)return;const n=Q0(e),[i,o]=Y0(n);for(let a=0;a<this.hashCount;a++){const u=this.ye(i,o,a);this.Se(u)}}Se(e){const n=Math.floor(e/8),i=e%8;this.bitmap[n]|=1<<i}}class al extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ih{constructor(e,n,i,o,a){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=i,this.documentUpdates=o,this.resolvedLimboDocuments=a}static createSynthesizedRemoteEventForCurrentChange(e,n,i){const o=new Map;return o.set(e,Wl.createSynthesizedTargetChangeForCurrentChange(e,n,i)),new ih(ke.min(),o,new ft(Le),yi(),Oe())}}class Wl{constructor(e,n,i,o,a){this.resumeToken=e,this.current=n,this.addedDocuments=i,this.modifiedDocuments=o,this.removedDocuments=a}static createSynthesizedTargetChangeForCurrentChange(e,n,i){return new Wl(i,n,Oe(),Oe(),Oe())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tc{constructor(e,n,i,o){this.be=e,this.removedTargetIds=n,this.key=i,this.De=o}}class wT{constructor(e,n){this.targetId=e,this.Ce=n}}class ET{constructor(e,n,i=Qt.EMPTY_BYTE_STRING,o=null){this.state=e,this.targetIds=n,this.resumeToken=i,this.cause=o}}class X0{constructor(){this.ve=0,this.Fe=J0(),this.Me=Qt.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=Oe(),n=Oe(),i=Oe();return this.Fe.forEach(((o,a)=>{switch(a){case 0:e=e.add(o);break;case 2:n=n.add(o);break;case 1:i=i.add(o);break;default:Ce(38017,{changeType:a})}})),new Wl(this.Me,this.xe,e,n,i)}qe(){this.Oe=!1,this.Fe=J0()}Qe(e,n){this.Oe=!0,this.Fe=this.Fe.insert(e,n)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,Ke(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class JV{constructor(e){this.Ge=e,this.ze=new Map,this.je=yi(),this.Je=cc(),this.He=cc(),this.Ye=new ft(Le)}Ze(e){for(const n of e.be)e.De&&e.De.isFoundDocument()?this.Xe(n,e.De):this.et(n,e.key,e.De);for(const n of e.removedTargetIds)this.et(n,e.key,e.De)}tt(e){this.forEachTarget(e,(n=>{const i=this.nt(n);switch(e.state){case 0:this.rt(n)&&i.Le(e.resumeToken);break;case 1:i.Ke(),i.Ne||i.qe(),i.Le(e.resumeToken);break;case 2:i.Ke(),i.Ne||this.removeTarget(n);break;case 3:this.rt(n)&&(i.We(),i.Le(e.resumeToken));break;case 4:this.rt(n)&&(this.it(n),i.Le(e.resumeToken));break;default:Ce(56790,{state:e.state})}}))}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ze.forEach(((i,o)=>{this.rt(o)&&n(o)}))}st(e){const n=e.targetId,i=e.Ce.count,o=this.ot(n);if(o){const a=o.target;if(Kd(a))if(i===0){const u=new Te(a.path);this.et(n,u,sn.newNoDocument(u,ke.min()))}else Ke(i===1,20013,{expectedCount:i});else{const u=this._t(n);if(u!==i){const f=this.ut(e),d=f?this.ct(f,e,u):1;if(d!==0){this.it(n);const m=d===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(n,m)}}}}}ut(e){const n=e.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:i="",padding:o=0},hashCount:a=0}=n;let u,f;try{u=is(i).toUint8Array()}catch(d){if(d instanceof qE)return Yo("Decoding the base64 bloom filter in existence filter failed ("+d.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw d}try{f=new am(u,o,a)}catch(d){return Yo(d instanceof al?"BloomFilter error: ":"Applying bloom filter failed: ",d),null}return f.ge===0?null:f}ct(e,n,i){return n.Ce.count===i-this.Pt(e,n.targetId)?0:2}Pt(e,n){const i=this.Ge.getRemoteKeysForTarget(n);let o=0;return i.forEach((a=>{const u=this.Ge.ht(),f=`projects/${u.projectId}/databases/${u.database}/documents/${a.path.canonicalString()}`;e.mightContain(f)||(this.et(n,a,null),o++)})),o}Tt(e){const n=new Map;this.ze.forEach(((a,u)=>{const f=this.ot(u);if(f){if(a.current&&Kd(f.target)){const d=new Te(f.target.path);this.It(d).has(u)||this.Et(u,d)||this.et(u,d,sn.newNoDocument(d,e))}a.Be&&(n.set(u,a.ke()),a.qe())}}));let i=Oe();this.He.forEach(((a,u)=>{let f=!0;u.forEachWhile((d=>{const m=this.ot(d);return!m||m.purpose==="TargetPurposeLimboResolution"||(f=!1,!1)})),f&&(i=i.add(a))})),this.je.forEach(((a,u)=>u.setReadTime(e)));const o=new ih(e,n,this.Ye,this.je,i);return this.je=yi(),this.Je=cc(),this.He=cc(),this.Ye=new ft(Le),o}Xe(e,n){if(!this.rt(e))return;const i=this.Et(e,n.key)?2:0;this.nt(e).Qe(n.key,i),this.je=this.je.insert(n.key,n),this.Je=this.Je.insert(n.key,this.It(n.key).add(e)),this.He=this.He.insert(n.key,this.dt(n.key).add(e))}et(e,n,i){if(!this.rt(e))return;const o=this.nt(e);this.Et(e,n)?o.Qe(n,1):o.$e(n),this.He=this.He.insert(n,this.dt(n).delete(e)),this.He=this.He.insert(n,this.dt(n).add(e)),i&&(this.je=this.je.insert(n,i))}removeTarget(e){this.ze.delete(e)}_t(e){const n=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let n=this.ze.get(e);return n||(n=new X0,this.ze.set(e,n)),n}dt(e){let n=this.He.get(e);return n||(n=new Nt(Le),this.He=this.He.insert(e,n)),n}It(e){let n=this.Je.get(e);return n||(n=new Nt(Le),this.Je=this.Je.insert(e,n)),n}rt(e){const n=this.ot(e)!==null;return n||de("WatchChangeAggregator","Detected inactive target",e),n}ot(e){const n=this.ze.get(e);return n&&n.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new X0),this.Ge.getRemoteKeysForTarget(e).forEach((n=>{this.et(e,n,null)}))}Et(e,n){return this.Ge.getRemoteKeysForTarget(e).has(n)}}function cc(){return new ft(Te.comparator)}function J0(){return new ft(Te.comparator)}const ZV={asc:"ASCENDING",desc:"DESCENDING"},eb={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},tb={and:"AND",or:"OR"};class nb{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function Yd(t,e){return t.useProto3Json||Jc(e)?e:{value:e}}function Bc(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function TT(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function rb(t,e){return Bc(t,e.toTimestamp())}function $r(t){return Ke(!!t,49232),ke.fromTimestamp((function(n){const i=rs(n);return new it(i.seconds,i.nanos)})(t))}function lm(t,e){return Xd(t,e).canonicalString()}function Xd(t,e){const n=(function(o){return new Ze(["projects",o.projectId,"databases",o.database])})(t).child("documents");return e===void 0?n:n.child(e)}function ST(t){const e=Ze.fromString(t);return Ke(PT(e),10190,{key:e.toString()}),e}function Jd(t,e){return lm(t.databaseId,e.path)}function od(t,e){const n=ST(e);if(n.get(1)!==t.databaseId.projectId)throw new fe(G.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new fe(G.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new Te(AT(n))}function xT(t,e){return lm(t.databaseId,e)}function ib(t){const e=ST(t);return e.length===4?Ze.emptyPath():AT(e)}function Zd(t){return new Ze(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function AT(t){return Ke(t.length>4&&t.get(4)==="documents",29091,{key:t.toString()}),t.popFirst(5)}function Z0(t,e,n){return{name:Jd(t,e),fields:n.value.mapValue.fields}}function sb(t,e){let n;if("targetChange"in e){e.targetChange;const i=(function(m){return m==="NO_CHANGE"?0:m==="ADD"?1:m==="REMOVE"?2:m==="CURRENT"?3:m==="RESET"?4:Ce(39313,{state:m})})(e.targetChange.targetChangeType||"NO_CHANGE"),o=e.targetChange.targetIds||[],a=(function(m,g){return m.useProto3Json?(Ke(g===void 0||typeof g=="string",58123),Qt.fromBase64String(g||"")):(Ke(g===void 0||g instanceof Buffer||g instanceof Uint8Array,16193),Qt.fromUint8Array(g||new Uint8Array))})(t,e.targetChange.resumeToken),u=e.targetChange.cause,f=u&&(function(m){const g=m.code===void 0?G.UNKNOWN:_T(m.code);return new fe(g,m.message||"")})(u);n=new ET(i,o,a,f||null)}else if("documentChange"in e){e.documentChange;const i=e.documentChange;i.document,i.document.name,i.document.updateTime;const o=od(t,i.document.name),a=$r(i.document.updateTime),u=i.document.createTime?$r(i.document.createTime):ke.min(),f=new Qn({mapValue:{fields:i.document.fields}}),d=sn.newFoundDocument(o,a,u,f),m=i.targetIds||[],g=i.removedTargetIds||[];n=new Tc(m,g,d.key,d)}else if("documentDelete"in e){e.documentDelete;const i=e.documentDelete;i.document;const o=od(t,i.document),a=i.readTime?$r(i.readTime):ke.min(),u=sn.newNoDocument(o,a),f=i.removedTargetIds||[];n=new Tc([],f,u.key,u)}else if("documentRemove"in e){e.documentRemove;const i=e.documentRemove;i.document;const o=od(t,i.document),a=i.removedTargetIds||[];n=new Tc([],a,o,null)}else{if(!("filter"in e))return Ce(11601,{Rt:e});{e.filter;const i=e.filter;i.targetId;const{count:o=0,unchangedNames:a}=i,u=new GV(o,a),f=i.targetId;n=new wT(f,u)}}return n}function ob(t,e){let n;if(e instanceof Hl)n={update:Z0(t,e.key,e.value)};else if(e instanceof sm)n={delete:Jd(t,e.key)};else if(e instanceof Xs)n={update:Z0(t,e.key,e.data),updateMask:mb(e.fieldMask)};else{if(!(e instanceof WV))return Ce(16599,{Vt:e.type});n={verify:Jd(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map((i=>(function(a,u){const f=u.transform;if(f instanceof Fc)return{fieldPath:u.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(f instanceof Nl)return{fieldPath:u.field.canonicalString(),appendMissingElements:{values:f.elements}};if(f instanceof Ml)return{fieldPath:u.field.canonicalString(),removeAllFromArray:{values:f.elements}};if(f instanceof jc)return{fieldPath:u.field.canonicalString(),increment:f.Ae};throw Ce(20930,{transform:u.transform})})(0,i)))),e.precondition.isNone||(n.currentDocument=(function(o,a){return a.updateTime!==void 0?{updateTime:rb(o,a.updateTime)}:a.exists!==void 0?{exists:a.exists}:Ce(27497)})(t,e.precondition)),n}function ab(t,e){return t&&t.length>0?(Ke(e!==void 0,14353),t.map((n=>(function(o,a){let u=o.updateTime?$r(o.updateTime):$r(a);return u.isEqual(ke.min())&&(u=$r(a)),new zV(u,o.transformResults||[])})(n,e)))):[]}function lb(t,e){return{documents:[xT(t,e.path)]}}function ub(t,e){const n={structuredQuery:{}},i=e.path;let o;e.collectionGroup!==null?(o=i,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(o=i.popLast(),n.structuredQuery.from=[{collectionId:i.lastSegment()}]),n.parent=xT(t,o);const a=(function(m){if(m.length!==0)return CT(mr.create(m,"and"))})(e.filters);a&&(n.structuredQuery.where=a);const u=(function(m){if(m.length!==0)return m.map((g=>(function(E){return{field:Fo(E.field),direction:fb(E.dir)}})(g)))})(e.orderBy);u&&(n.structuredQuery.orderBy=u);const f=Yd(t,e.limit);return f!==null&&(n.structuredQuery.limit=f),e.startAt&&(n.structuredQuery.startAt=(function(m){return{before:m.inclusive,values:m.position}})(e.startAt)),e.endAt&&(n.structuredQuery.endAt=(function(m){return{before:!m.inclusive,values:m.position}})(e.endAt)),{ft:n,parent:o}}function cb(t){let e=ib(t.parent);const n=t.structuredQuery,i=n.from?n.from.length:0;let o=null;if(i>0){Ke(i===1,65062);const g=n.from[0];g.allDescendants?o=g.collectionId:e=e.child(g.collectionId)}let a=[];n.where&&(a=(function(y){const E=IT(y);return E instanceof mr&&nT(E)?E.getFilters():[E]})(n.where));let u=[];n.orderBy&&(u=(function(y){return y.map((E=>(function(M){return new Dl(jo(M.field),(function(k){switch(k){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(M.direction))})(E)))})(n.orderBy));let f=null;n.limit&&(f=(function(y){let E;return E=typeof y=="object"?y.value:y,Jc(E)?null:E})(n.limit));let d=null;n.startAt&&(d=(function(y){const E=!!y.before,A=y.values||[];return new Oc(A,E)})(n.startAt));let m=null;return n.endAt&&(m=(function(y){const E=!y.before,A=y.values||[];return new Oc(A,E)})(n.endAt)),RV(e,o,u,a,f,"F",d,m)}function hb(t,e){const n=(function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Ce(28987,{purpose:o})}})(e.purpose);return n==null?null:{"goog-listen-tags":n}}function IT(t){return t.unaryFilter!==void 0?(function(n){switch(n.unaryFilter.op){case"IS_NAN":const i=jo(n.unaryFilter.field);return Pt.create(i,"==",{doubleValue:NaN});case"IS_NULL":const o=jo(n.unaryFilter.field);return Pt.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const a=jo(n.unaryFilter.field);return Pt.create(a,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const u=jo(n.unaryFilter.field);return Pt.create(u,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Ce(61313);default:return Ce(60726)}})(t):t.fieldFilter!==void 0?(function(n){return Pt.create(jo(n.fieldFilter.field),(function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Ce(58110);default:return Ce(50506)}})(n.fieldFilter.op),n.fieldFilter.value)})(t):t.compositeFilter!==void 0?(function(n){return mr.create(n.compositeFilter.filters.map((i=>IT(i))),(function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return Ce(1026)}})(n.compositeFilter.op))})(t):Ce(30097,{filter:t})}function fb(t){return ZV[t]}function db(t){return eb[t]}function pb(t){return tb[t]}function Fo(t){return{fieldPath:t.canonicalString()}}function jo(t){return Gt.fromServerFormat(t.fieldPath)}function CT(t){return t instanceof Pt?(function(n){if(n.op==="=="){if(B0(n.value))return{unaryFilter:{field:Fo(n.field),op:"IS_NAN"}};if(j0(n.value))return{unaryFilter:{field:Fo(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(B0(n.value))return{unaryFilter:{field:Fo(n.field),op:"IS_NOT_NAN"}};if(j0(n.value))return{unaryFilter:{field:Fo(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Fo(n.field),op:db(n.op),value:n.value}}})(t):t instanceof mr?(function(n){const i=n.getFilters().map((o=>CT(o)));return i.length===1?i[0]:{compositeFilter:{op:pb(n.op),filters:i}}})(t):Ce(54877,{filter:t})}function mb(t){const e=[];return t.fields.forEach((n=>e.push(n.canonicalString()))),{fieldPaths:e}}function PT(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ki{constructor(e,n,i,o,a=ke.min(),u=ke.min(),f=Qt.EMPTY_BYTE_STRING,d=null){this.target=e,this.targetId=n,this.purpose=i,this.sequenceNumber=o,this.snapshotVersion=a,this.lastLimboFreeSnapshotVersion=u,this.resumeToken=f,this.expectedCount=d}withSequenceNumber(e){return new Ki(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new Ki(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Ki(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Ki(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gb{constructor(e){this.yt=e}}function yb(t){const e=cb({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?Qd(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vb{constructor(){this.Cn=new _b}addToCollectionParentIndex(e,n){return this.Cn.add(n),Q.resolve()}getCollectionParents(e,n){return Q.resolve(this.Cn.getEntries(n))}addFieldIndex(e,n){return Q.resolve()}deleteFieldIndex(e,n){return Q.resolve()}deleteAllFieldIndexes(e){return Q.resolve()}createTargetIndexes(e,n){return Q.resolve()}getDocumentsMatchingTarget(e,n){return Q.resolve(null)}getIndexType(e,n){return Q.resolve(0)}getFieldIndexes(e,n){return Q.resolve([])}getNextCollectionGroupToUpdate(e){return Q.resolve(null)}getMinOffset(e,n){return Q.resolve(ns.min())}getMinOffsetFromCollectionGroup(e,n){return Q.resolve(ns.min())}updateCollectionGroup(e,n,i){return Q.resolve()}updateIndexEntries(e,n){return Q.resolve()}}class _b{constructor(){this.index={}}add(e){const n=e.lastSegment(),i=e.popLast(),o=this.index[n]||new Nt(Ze.comparator),a=!o.has(i);return this.index[n]=o.add(i),a}has(e){const n=e.lastSegment(),i=e.popLast(),o=this.index[n];return o&&o.has(i)}getEntries(e){return(this.index[e]||new Nt(Ze.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const e_={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},RT=41943040;class En{static withCacheSize(e){return new En(e,En.DEFAULT_COLLECTION_PERCENTILE,En.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,i){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */En.DEFAULT_COLLECTION_PERCENTILE=10,En.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,En.DEFAULT=new En(RT,En.DEFAULT_COLLECTION_PERCENTILE,En.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),En.DISABLED=new En(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ea{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new ea(0)}static cr(){return new ea(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const t_="LruGarbageCollector",wb=1048576;function n_([t,e],[n,i]){const o=Le(t,n);return o===0?Le(e,i):o}class Eb{constructor(e){this.Ir=e,this.buffer=new Nt(n_),this.Er=0}dr(){return++this.Er}Ar(e){const n=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(n);else{const i=this.buffer.last();n_(n,i)<0&&(this.buffer=this.buffer.delete(i).add(n))}}get maxValue(){return this.buffer.last()[0]}}class Tb{constructor(e,n,i){this.garbageCollector=e,this.asyncQueue=n,this.localStore=i,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){de(t_,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){ha(n)?de(t_,"Ignoring IndexedDB error during garbage collection: ",n):await ca(n)}await this.Vr(3e5)}))}}class Sb{constructor(e,n){this.mr=e,this.params=n}calculateTargetCount(e,n){return this.mr.gr(e).next((i=>Math.floor(n/100*i)))}nthSequenceNumber(e,n){if(n===0)return Q.resolve(Xc.ce);const i=new Eb(n);return this.mr.forEachTarget(e,(o=>i.Ar(o.sequenceNumber))).next((()=>this.mr.pr(e,(o=>i.Ar(o))))).next((()=>i.maxValue))}removeTargets(e,n,i){return this.mr.removeTargets(e,n,i)}removeOrphanedDocuments(e,n){return this.mr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(de("LruGarbageCollector","Garbage collection skipped; disabled"),Q.resolve(e_)):this.getCacheSize(e).next((i=>i<this.params.cacheSizeCollectionThreshold?(de("LruGarbageCollector",`Garbage collection skipped; Cache size ${i} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),e_):this.yr(e,n)))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,n){let i,o,a,u,f,d,m;const g=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((y=>(y>this.params.maximumSequenceNumbersToCollect?(de("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${y}`),o=this.params.maximumSequenceNumbersToCollect):o=y,u=Date.now(),this.nthSequenceNumber(e,o)))).next((y=>(i=y,f=Date.now(),this.removeTargets(e,i,n)))).next((y=>(a=y,d=Date.now(),this.removeOrphanedDocuments(e,i)))).next((y=>(m=Date.now(),Lo()<=ze.DEBUG&&de("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${u-g}ms
	Determined least recently used ${o} in `+(f-u)+`ms
	Removed ${a} targets in `+(d-f)+`ms
	Removed ${y} documents in `+(m-d)+`ms
Total Duration: ${m-g}ms`),Q.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:a,documentsRemoved:y}))))}}function xb(t,e){return new Sb(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ab{constructor(){this.changes=new Ys((e=>e.toString()),((e,n)=>e.isEqual(n))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,sn.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const i=this.changes.get(n);return i!==void 0?Q.resolve(i):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ib{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cb{constructor(e,n,i,o){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=i,this.indexManager=o}getDocument(e,n){let i=null;return this.documentOverlayCache.getOverlay(e,n).next((o=>(i=o,this.remoteDocumentCache.getEntry(e,n)))).next((o=>(i!==null&&_l(i.mutation,o,pr.empty(),it.now()),o)))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next((i=>this.getLocalViewOfDocuments(e,i,Oe()).next((()=>i))))}getLocalViewOfDocuments(e,n,i=Oe()){const o=Bs();return this.populateOverlays(e,o,n).next((()=>this.computeViews(e,n,o,i).next((a=>{let u=ol();return a.forEach(((f,d)=>{u=u.insert(f,d.overlayedDocument)})),u}))))}getOverlayedDocuments(e,n){const i=Bs();return this.populateOverlays(e,i,n).next((()=>this.computeViews(e,n,i,Oe())))}populateOverlays(e,n,i){const o=[];return i.forEach((a=>{n.has(a)||o.push(a)})),this.documentOverlayCache.getOverlays(e,o).next((a=>{a.forEach(((u,f)=>{n.set(u,f)}))}))}computeViews(e,n,i,o){let a=yi();const u=vl(),f=(function(){return vl()})();return n.forEach(((d,m)=>{const g=i.get(m.key);o.has(m.key)&&(g===void 0||g.mutation instanceof Xs)?a=a.insert(m.key,m):g!==void 0?(u.set(m.key,g.mutation.getFieldMask()),_l(g.mutation,m,g.mutation.getFieldMask(),it.now())):u.set(m.key,pr.empty())})),this.recalculateAndSaveOverlays(e,a).next((d=>(d.forEach(((m,g)=>u.set(m,g))),n.forEach(((m,g)=>f.set(m,new Ib(g,u.get(m)??null)))),f)))}recalculateAndSaveOverlays(e,n){const i=vl();let o=new ft(((u,f)=>u-f)),a=Oe();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next((u=>{for(const f of u)f.keys().forEach((d=>{const m=n.get(d);if(m===null)return;let g=i.get(d)||pr.empty();g=f.applyToLocalView(m,g),i.set(d,g);const y=(o.get(f.batchId)||Oe()).add(d);o=o.insert(f.batchId,y)}))})).next((()=>{const u=[],f=o.getReverseIterator();for(;f.hasNext();){const d=f.getNext(),m=d.key,g=d.value,y=hT();g.forEach((E=>{if(!a.has(E)){const A=yT(n.get(E),i.get(E));A!==null&&y.set(E,A),a=a.add(E)}})),u.push(this.documentOverlayCache.saveOverlays(e,m,y))}return Q.waitFor(u)})).next((()=>i))}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next((i=>this.recalculateAndSaveOverlays(e,i)))}getDocumentsMatchingQuery(e,n,i,o){return(function(u){return Te.isDocumentKey(u.path)&&u.collectionGroup===null&&u.filters.length===0})(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):oT(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,i,o):this.getDocumentsMatchingCollectionQuery(e,n,i,o)}getNextDocuments(e,n,i,o){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,i,o).next((a=>{const u=o-a.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,i.largestBatchId,o-a.size):Q.resolve(Bs());let f=Rl,d=a;return u.next((m=>Q.forEach(m,((g,y)=>(f<y.largestBatchId&&(f=y.largestBatchId),a.get(g)?Q.resolve():this.remoteDocumentCache.getEntry(e,g).next((E=>{d=d.insert(g,E)}))))).next((()=>this.populateOverlays(e,m,a))).next((()=>this.computeViews(e,d,m,Oe()))).next((g=>({batchId:f,changes:cT(g)})))))}))}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new Te(n)).next((i=>{let o=ol();return i.isFoundDocument()&&(o=o.insert(i.key,i)),o}))}getDocumentsMatchingCollectionGroupQuery(e,n,i,o){const a=n.collectionGroup;let u=ol();return this.indexManager.getCollectionParents(e,a).next((f=>Q.forEach(f,(d=>{const m=(function(y,E){return new fa(E,null,y.explicitOrderBy.slice(),y.filters.slice(),y.limit,y.limitType,y.startAt,y.endAt)})(n,d.child(a));return this.getDocumentsMatchingCollectionQuery(e,m,i,o).next((g=>{g.forEach(((y,E)=>{u=u.insert(y,E)}))}))})).next((()=>u))))}getDocumentsMatchingCollectionQuery(e,n,i,o){let a;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,i.largestBatchId).next((u=>(a=u,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,i,a,o)))).next((u=>{a.forEach(((d,m)=>{const g=m.getKey();u.get(g)===null&&(u=u.insert(g,sn.newInvalidDocument(g)))}));let f=ol();return u.forEach(((d,m)=>{const g=a.get(d);g!==void 0&&_l(g.mutation,m,pr.empty(),it.now()),th(n,m)&&(f=f.insert(d,m))})),f}))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pb{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,n){return Q.resolve(this.Lr.get(n))}saveBundleMetadata(e,n){return this.Lr.set(n.id,(function(o){return{id:o.id,version:o.version,createTime:$r(o.createTime)}})(n)),Q.resolve()}getNamedQuery(e,n){return Q.resolve(this.kr.get(n))}saveNamedQuery(e,n){return this.kr.set(n.name,(function(o){return{name:o.name,query:yb(o.bundledQuery),readTime:$r(o.readTime)}})(n)),Q.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rb{constructor(){this.overlays=new ft(Te.comparator),this.qr=new Map}getOverlay(e,n){return Q.resolve(this.overlays.get(n))}getOverlays(e,n){const i=Bs();return Q.forEach(n,(o=>this.getOverlay(e,o).next((a=>{a!==null&&i.set(o,a)})))).next((()=>i))}saveOverlays(e,n,i){return i.forEach(((o,a)=>{this.St(e,n,a)})),Q.resolve()}removeOverlaysForBatchId(e,n,i){const o=this.qr.get(i);return o!==void 0&&(o.forEach((a=>this.overlays=this.overlays.remove(a))),this.qr.delete(i)),Q.resolve()}getOverlaysForCollection(e,n,i){const o=Bs(),a=n.length+1,u=new Te(n.child("")),f=this.overlays.getIteratorFrom(u);for(;f.hasNext();){const d=f.getNext().value,m=d.getKey();if(!n.isPrefixOf(m.path))break;m.path.length===a&&d.largestBatchId>i&&o.set(d.getKey(),d)}return Q.resolve(o)}getOverlaysForCollectionGroup(e,n,i,o){let a=new ft(((m,g)=>m-g));const u=this.overlays.getIterator();for(;u.hasNext();){const m=u.getNext().value;if(m.getKey().getCollectionGroup()===n&&m.largestBatchId>i){let g=a.get(m.largestBatchId);g===null&&(g=Bs(),a=a.insert(m.largestBatchId,g)),g.set(m.getKey(),m)}}const f=Bs(),d=a.getIterator();for(;d.hasNext()&&(d.getNext().value.forEach(((m,g)=>f.set(m,g))),!(f.size()>=o)););return Q.resolve(f)}St(e,n,i){const o=this.overlays.get(i.key);if(o!==null){const u=this.qr.get(o.largestBatchId).delete(i.key);this.qr.set(o.largestBatchId,u)}this.overlays=this.overlays.insert(i.key,new KV(n,i));let a=this.qr.get(n);a===void 0&&(a=Oe(),this.qr.set(n,a)),this.qr.set(n,a.add(i.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kb{constructor(){this.sessionToken=Qt.EMPTY_BYTE_STRING}getSessionToken(e){return Q.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,Q.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class um{constructor(){this.Qr=new Nt(Bt.$r),this.Ur=new Nt(Bt.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,n){const i=new Bt(e,n);this.Qr=this.Qr.add(i),this.Ur=this.Ur.add(i)}Wr(e,n){e.forEach((i=>this.addReference(i,n)))}removeReference(e,n){this.Gr(new Bt(e,n))}zr(e,n){e.forEach((i=>this.removeReference(i,n)))}jr(e){const n=new Te(new Ze([])),i=new Bt(n,e),o=new Bt(n,e+1),a=[];return this.Ur.forEachInRange([i,o],(u=>{this.Gr(u),a.push(u.key)})),a}Jr(){this.Qr.forEach((e=>this.Gr(e)))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const n=new Te(new Ze([])),i=new Bt(n,e),o=new Bt(n,e+1);let a=Oe();return this.Ur.forEachInRange([i,o],(u=>{a=a.add(u.key)})),a}containsKey(e){const n=new Bt(e,0),i=this.Qr.firstAfterOrEqual(n);return i!==null&&e.isEqual(i.key)}}class Bt{constructor(e,n){this.key=e,this.Yr=n}static $r(e,n){return Te.comparator(e.key,n.key)||Le(e.Yr,n.Yr)}static Kr(e,n){return Le(e.Yr,n.Yr)||Te.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vb{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.tr=1,this.Zr=new Nt(Bt.$r)}checkEmpty(e){return Q.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,i,o){const a=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const u=new qV(a,n,i,o);this.mutationQueue.push(u);for(const f of o)this.Zr=this.Zr.add(new Bt(f.key,a)),this.indexManager.addToCollectionParentIndex(e,f.key.path.popLast());return Q.resolve(u)}lookupMutationBatch(e,n){return Q.resolve(this.Xr(n))}getNextMutationBatchAfterBatchId(e,n){const i=n+1,o=this.ei(i),a=o<0?0:o;return Q.resolve(this.mutationQueue.length>a?this.mutationQueue[a]:null)}getHighestUnacknowledgedBatchId(){return Q.resolve(this.mutationQueue.length===0?Jp:this.tr-1)}getAllMutationBatches(e){return Q.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const i=new Bt(n,0),o=new Bt(n,Number.POSITIVE_INFINITY),a=[];return this.Zr.forEachInRange([i,o],(u=>{const f=this.Xr(u.Yr);a.push(f)})),Q.resolve(a)}getAllMutationBatchesAffectingDocumentKeys(e,n){let i=new Nt(Le);return n.forEach((o=>{const a=new Bt(o,0),u=new Bt(o,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([a,u],(f=>{i=i.add(f.Yr)}))})),Q.resolve(this.ti(i))}getAllMutationBatchesAffectingQuery(e,n){const i=n.path,o=i.length+1;let a=i;Te.isDocumentKey(a)||(a=a.child(""));const u=new Bt(new Te(a),0);let f=new Nt(Le);return this.Zr.forEachWhile((d=>{const m=d.key.path;return!!i.isPrefixOf(m)&&(m.length===o&&(f=f.add(d.Yr)),!0)}),u),Q.resolve(this.ti(f))}ti(e){const n=[];return e.forEach((i=>{const o=this.Xr(i);o!==null&&n.push(o)})),n}removeMutationBatch(e,n){Ke(this.ni(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let i=this.Zr;return Q.forEach(n.mutations,(o=>{const a=new Bt(o.key,n.batchId);return i=i.delete(a),this.referenceDelegate.markPotentiallyOrphaned(e,o.key)})).next((()=>{this.Zr=i}))}ir(e){}containsKey(e,n){const i=new Bt(n,0),o=this.Zr.firstAfterOrEqual(i);return Q.resolve(n.isEqual(o&&o.key))}performConsistencyCheck(e){return this.mutationQueue.length,Q.resolve()}ni(e,n){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const n=this.ei(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bb{constructor(e){this.ri=e,this.docs=(function(){return new ft(Te.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const i=n.key,o=this.docs.get(i),a=o?o.size:0,u=this.ri(n);return this.docs=this.docs.insert(i,{document:n.mutableCopy(),size:u}),this.size+=u-a,this.indexManager.addToCollectionParentIndex(e,i.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const i=this.docs.get(n);return Q.resolve(i?i.document.mutableCopy():sn.newInvalidDocument(n))}getEntries(e,n){let i=yi();return n.forEach((o=>{const a=this.docs.get(o);i=i.insert(o,a?a.document.mutableCopy():sn.newInvalidDocument(o))})),Q.resolve(i)}getDocumentsMatchingQuery(e,n,i,o){let a=yi();const u=n.path,f=new Te(u.child("__id-9223372036854775808__")),d=this.docs.getIteratorFrom(f);for(;d.hasNext();){const{key:m,value:{document:g}}=d.getNext();if(!u.isPrefixOf(m.path))break;m.path.length>u.length+1||aV(oV(g),i)<=0||(o.has(g.key)||th(n,g))&&(a=a.insert(g.key,g.mutableCopy()))}return Q.resolve(a)}getAllFromCollectionGroup(e,n,i,o){Ce(9500)}ii(e,n){return Q.forEach(this.docs,(i=>n(i)))}newChangeBuffer(e){return new Db(this)}getSize(e){return Q.resolve(this.size)}}class Db extends Ab{constructor(e){super(),this.Nr=e}applyChanges(e){const n=[];return this.changes.forEach(((i,o)=>{o.isValidDocument()?n.push(this.Nr.addEntry(e,o)):this.Nr.removeEntry(i)})),Q.waitFor(n)}getFromCache(e,n){return this.Nr.getEntry(e,n)}getAllFromCache(e,n){return this.Nr.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nb{constructor(e){this.persistence=e,this.si=new Ys((n=>tm(n)),nm),this.lastRemoteSnapshotVersion=ke.min(),this.highestTargetId=0,this.oi=0,this._i=new um,this.targetCount=0,this.ai=ea.ur()}forEachTarget(e,n){return this.si.forEach(((i,o)=>n(o))),Q.resolve()}getLastRemoteSnapshotVersion(e){return Q.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return Q.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),Q.resolve(this.highestTargetId)}setTargetsMetadata(e,n,i){return i&&(this.lastRemoteSnapshotVersion=i),n>this.oi&&(this.oi=n),Q.resolve()}Pr(e){this.si.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.ai=new ea(n),this.highestTargetId=n),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,n){return this.Pr(n),this.targetCount+=1,Q.resolve()}updateTargetData(e,n){return this.Pr(n),Q.resolve()}removeTargetData(e,n){return this.si.delete(n.target),this._i.jr(n.targetId),this.targetCount-=1,Q.resolve()}removeTargets(e,n,i){let o=0;const a=[];return this.si.forEach(((u,f)=>{f.sequenceNumber<=n&&i.get(f.targetId)===null&&(this.si.delete(u),a.push(this.removeMatchingKeysForTargetId(e,f.targetId)),o++)})),Q.waitFor(a).next((()=>o))}getTargetCount(e){return Q.resolve(this.targetCount)}getTargetData(e,n){const i=this.si.get(n)||null;return Q.resolve(i)}addMatchingKeys(e,n,i){return this._i.Wr(n,i),Q.resolve()}removeMatchingKeys(e,n,i){this._i.zr(n,i);const o=this.persistence.referenceDelegate,a=[];return o&&n.forEach((u=>{a.push(o.markPotentiallyOrphaned(e,u))})),Q.waitFor(a)}removeMatchingKeysForTargetId(e,n){return this._i.jr(n),Q.resolve()}getMatchingKeysForTargetId(e,n){const i=this._i.Hr(n);return Q.resolve(i)}containsKey(e,n){return Q.resolve(this._i.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kT{constructor(e,n){this.ui={},this.overlays={},this.ci=new Xc(0),this.li=!1,this.li=!0,this.hi=new kb,this.referenceDelegate=e(this),this.Pi=new Nb(this),this.indexManager=new vb,this.remoteDocumentCache=(function(o){return new bb(o)})((i=>this.referenceDelegate.Ti(i))),this.serializer=new gb(n),this.Ii=new Pb(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new Rb,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let i=this.ui[e.toKey()];return i||(i=new Vb(n,this.referenceDelegate),this.ui[e.toKey()]=i),i}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,n,i){de("MemoryPersistence","Starting transaction:",e);const o=new Mb(this.ci.next());return this.referenceDelegate.Ei(),i(o).next((a=>this.referenceDelegate.di(o).next((()=>a)))).toPromise().then((a=>(o.raiseOnCommittedEvent(),a)))}Ai(e,n){return Q.or(Object.values(this.ui).map((i=>()=>i.containsKey(e,n))))}}class Mb extends uV{constructor(e){super(),this.currentSequenceNumber=e}}class cm{constructor(e){this.persistence=e,this.Ri=new um,this.Vi=null}static mi(e){return new cm(e)}get fi(){if(this.Vi)return this.Vi;throw Ce(60996)}addReference(e,n,i){return this.Ri.addReference(i,n),this.fi.delete(i.toString()),Q.resolve()}removeReference(e,n,i){return this.Ri.removeReference(i,n),this.fi.add(i.toString()),Q.resolve()}markPotentiallyOrphaned(e,n){return this.fi.add(n.toString()),Q.resolve()}removeTarget(e,n){this.Ri.jr(n.targetId).forEach((o=>this.fi.add(o.toString())));const i=this.persistence.getTargetCache();return i.getMatchingKeysForTargetId(e,n.targetId).next((o=>{o.forEach((a=>this.fi.add(a.toString())))})).next((()=>i.removeTargetData(e,n)))}Ei(){this.Vi=new Set}di(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Q.forEach(this.fi,(i=>{const o=Te.fromPath(i);return this.gi(e,o).next((a=>{a||n.removeEntry(o,ke.min())}))})).next((()=>(this.Vi=null,n.apply(e))))}updateLimboDocument(e,n){return this.gi(e,n).next((i=>{i?this.fi.delete(n.toString()):this.fi.add(n.toString())}))}Ti(e){return 0}gi(e,n){return Q.or([()=>Q.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ai(e,n)])}}class Uc{constructor(e,n){this.persistence=e,this.pi=new Ys((i=>fV(i.path)),((i,o)=>i.isEqual(o))),this.garbageCollector=xb(this,n)}static mi(e,n){return new Uc(e,n)}Ei(){}di(e){return Q.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}gr(e){const n=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next((i=>n.next((o=>i+o))))}wr(e){let n=0;return this.pr(e,(i=>{n++})).next((()=>n))}pr(e,n){return Q.forEach(this.pi,((i,o)=>this.br(e,i,o).next((a=>a?Q.resolve():n(o)))))}removeTargets(e,n,i){return this.persistence.getTargetCache().removeTargets(e,n,i)}removeOrphanedDocuments(e,n){let i=0;const o=this.persistence.getRemoteDocumentCache(),a=o.newChangeBuffer();return o.ii(e,(u=>this.br(e,u,n).next((f=>{f||(i++,a.removeEntry(u,ke.min()))})))).next((()=>a.apply(e))).next((()=>i))}markPotentiallyOrphaned(e,n){return this.pi.set(n,e.currentSequenceNumber),Q.resolve()}removeTarget(e,n){const i=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,i)}addReference(e,n,i){return this.pi.set(i,e.currentSequenceNumber),Q.resolve()}removeReference(e,n,i){return this.pi.set(i,e.currentSequenceNumber),Q.resolve()}updateLimboDocument(e,n){return this.pi.set(n,e.currentSequenceNumber),Q.resolve()}Ti(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=_c(e.data.value)),n}br(e,n,i){return Q.or([()=>this.persistence.Ai(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const o=this.pi.get(n);return Q.resolve(o!==void 0&&o>i)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hm{constructor(e,n,i,o){this.targetId=e,this.fromCache=n,this.Es=i,this.ds=o}static As(e,n){let i=Oe(),o=Oe();for(const a of n.docChanges)switch(a.type){case 0:i=i.add(a.doc.key);break;case 1:o=o.add(a.doc.key)}return new hm(e,n.fromCache,i,o)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lb{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ob{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return P2()?8:cV(I2())>0?6:4})()}initialize(e,n){this.ps=e,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(e,n,i,o){const a={result:null};return this.ys(e,n).next((u=>{a.result=u})).next((()=>{if(!a.result)return this.ws(e,n,o,i).next((u=>{a.result=u}))})).next((()=>{if(a.result)return;const u=new Lb;return this.Ss(e,n,u).next((f=>{if(a.result=f,this.Vs)return this.bs(e,n,u,f.size)}))})).next((()=>a.result))}bs(e,n,i,o){return i.documentReadCount<this.fs?(Lo()<=ze.DEBUG&&de("QueryEngine","SDK will not create cache indexes for query:",Oo(n),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),Q.resolve()):(Lo()<=ze.DEBUG&&de("QueryEngine","Query:",Oo(n),"scans",i.documentReadCount,"local documents and returns",o,"documents as results."),i.documentReadCount>this.gs*o?(Lo()<=ze.DEBUG&&de("QueryEngine","The SDK decides to create cache indexes for query:",Oo(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Ur(n))):Q.resolve())}ys(e,n){if(H0(n))return Q.resolve(null);let i=Ur(n);return this.indexManager.getIndexType(e,i).next((o=>o===0?null:(n.limit!==null&&o===1&&(n=Qd(n,null,"F"),i=Ur(n)),this.indexManager.getDocumentsMatchingTarget(e,i).next((a=>{const u=Oe(...a);return this.ps.getDocuments(e,u).next((f=>this.indexManager.getMinOffset(e,i).next((d=>{const m=this.Ds(n,f);return this.Cs(n,m,u,d.readTime)?this.ys(e,Qd(n,null,"F")):this.vs(e,m,n,d)}))))})))))}ws(e,n,i,o){return H0(n)||o.isEqual(ke.min())?Q.resolve(null):this.ps.getDocuments(e,i).next((a=>{const u=this.Ds(n,a);return this.Cs(n,u,i,o)?Q.resolve(null):(Lo()<=ze.DEBUG&&de("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),Oo(n)),this.vs(e,u,n,sV(o,Rl)).next((f=>f)))}))}Ds(e,n){let i=new Nt(lT(e));return n.forEach(((o,a)=>{th(e,a)&&(i=i.add(a))})),i}Cs(e,n,i,o){if(e.limit===null)return!1;if(i.size!==n.size)return!0;const a=e.limitType==="F"?n.last():n.first();return!!a&&(a.hasPendingWrites||a.version.compareTo(o)>0)}Ss(e,n,i){return Lo()<=ze.DEBUG&&de("QueryEngine","Using full collection scan to execute query:",Oo(n)),this.ps.getDocumentsMatchingQuery(e,n,ns.min(),i)}vs(e,n,i,o){return this.ps.getDocumentsMatchingQuery(e,i,o).next((a=>(n.forEach((u=>{a=a.insert(u.key,u)})),a)))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fm="LocalStore",Fb=3e8;class jb{constructor(e,n,i,o){this.persistence=e,this.Fs=n,this.serializer=o,this.Ms=new ft(Le),this.xs=new Ys((a=>tm(a)),nm),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(i)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new Cb(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(n=>e.collect(n,this.Ms)))}}function Bb(t,e,n,i){return new jb(t,e,n,i)}async function VT(t,e){const n=De(t);return await n.persistence.runTransaction("Handle user change","readonly",(i=>{let o;return n.mutationQueue.getAllMutationBatches(i).next((a=>(o=a,n.Bs(e),n.mutationQueue.getAllMutationBatches(i)))).next((a=>{const u=[],f=[];let d=Oe();for(const m of o){u.push(m.batchId);for(const g of m.mutations)d=d.add(g.key)}for(const m of a){f.push(m.batchId);for(const g of m.mutations)d=d.add(g.key)}return n.localDocuments.getDocuments(i,d).next((m=>({Ls:m,removedBatchIds:u,addedBatchIds:f})))}))}))}function Ub(t,e){const n=De(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(i=>{const o=e.batch.keys(),a=n.Ns.newChangeBuffer({trackRemovals:!0});return(function(f,d,m,g){const y=m.batch,E=y.keys();let A=Q.resolve();return E.forEach((M=>{A=A.next((()=>g.getEntry(d,M))).next((b=>{const k=m.docVersions.get(M);Ke(k!==null,48541),b.version.compareTo(k)<0&&(y.applyToRemoteDocument(b,m),b.isValidDocument()&&(b.setReadTime(m.commitVersion),g.addEntry(b)))}))})),A.next((()=>f.mutationQueue.removeMutationBatch(d,y)))})(n,i,e,a).next((()=>a.apply(i))).next((()=>n.mutationQueue.performConsistencyCheck(i))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(i,o,e.batch.batchId))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(i,(function(f){let d=Oe();for(let m=0;m<f.mutationResults.length;++m)f.mutationResults[m].transformResults.length>0&&(d=d.add(f.batch.mutations[m].key));return d})(e)))).next((()=>n.localDocuments.getDocuments(i,o)))}))}function bT(t){const e=De(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(n=>e.Pi.getLastRemoteSnapshotVersion(n)))}function zb(t,e){const n=De(t),i=e.snapshotVersion;let o=n.Ms;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(a=>{const u=n.Ns.newChangeBuffer({trackRemovals:!0});o=n.Ms;const f=[];e.targetChanges.forEach(((g,y)=>{const E=o.get(y);if(!E)return;f.push(n.Pi.removeMatchingKeys(a,g.removedDocuments,y).next((()=>n.Pi.addMatchingKeys(a,g.addedDocuments,y))));let A=E.withSequenceNumber(a.currentSequenceNumber);e.targetMismatches.get(y)!==null?A=A.withResumeToken(Qt.EMPTY_BYTE_STRING,ke.min()).withLastLimboFreeSnapshotVersion(ke.min()):g.resumeToken.approximateByteSize()>0&&(A=A.withResumeToken(g.resumeToken,i)),o=o.insert(y,A),(function(b,k,O){return b.resumeToken.approximateByteSize()===0||k.snapshotVersion.toMicroseconds()-b.snapshotVersion.toMicroseconds()>=Fb?!0:O.addedDocuments.size+O.modifiedDocuments.size+O.removedDocuments.size>0})(E,A,g)&&f.push(n.Pi.updateTargetData(a,A))}));let d=yi(),m=Oe();if(e.documentUpdates.forEach((g=>{e.resolvedLimboDocuments.has(g)&&f.push(n.persistence.referenceDelegate.updateLimboDocument(a,g))})),f.push($b(a,u,e.documentUpdates).next((g=>{d=g.ks,m=g.qs}))),!i.isEqual(ke.min())){const g=n.Pi.getLastRemoteSnapshotVersion(a).next((y=>n.Pi.setTargetsMetadata(a,a.currentSequenceNumber,i)));f.push(g)}return Q.waitFor(f).next((()=>u.apply(a))).next((()=>n.localDocuments.getLocalViewOfDocuments(a,d,m))).next((()=>d))})).then((a=>(n.Ms=o,a)))}function $b(t,e,n){let i=Oe(),o=Oe();return n.forEach((a=>i=i.add(a))),e.getEntries(t,i).next((a=>{let u=yi();return n.forEach(((f,d)=>{const m=a.get(f);d.isFoundDocument()!==m.isFoundDocument()&&(o=o.add(f)),d.isNoDocument()&&d.version.isEqual(ke.min())?(e.removeEntry(f,d.readTime),u=u.insert(f,d)):!m.isValidDocument()||d.version.compareTo(m.version)>0||d.version.compareTo(m.version)===0&&m.hasPendingWrites?(e.addEntry(d),u=u.insert(f,d)):de(fm,"Ignoring outdated watch update for ",f,". Current version:",m.version," Watch version:",d.version)})),{ks:u,qs:o}}))}function Hb(t,e){const n=De(t);return n.persistence.runTransaction("Get next mutation batch","readonly",(i=>(e===void 0&&(e=Jp),n.mutationQueue.getNextMutationBatchAfterBatchId(i,e))))}function Wb(t,e){const n=De(t);return n.persistence.runTransaction("Allocate target","readwrite",(i=>{let o;return n.Pi.getTargetData(i,e).next((a=>a?(o=a,Q.resolve(o)):n.Pi.allocateTargetId(i).next((u=>(o=new Ki(e,u,"TargetPurposeListen",i.currentSequenceNumber),n.Pi.addTargetData(i,o).next((()=>o)))))))})).then((i=>{const o=n.Ms.get(i.targetId);return(o===null||i.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(n.Ms=n.Ms.insert(i.targetId,i),n.xs.set(e,i.targetId)),i}))}async function ep(t,e,n){const i=De(t),o=i.Ms.get(e),a=n?"readwrite":"readwrite-primary";try{n||await i.persistence.runTransaction("Release target",a,(u=>i.persistence.referenceDelegate.removeTarget(u,o)))}catch(u){if(!ha(u))throw u;de(fm,`Failed to update sequence numbers for target ${e}: ${u}`)}i.Ms=i.Ms.remove(e),i.xs.delete(o.target)}function r_(t,e,n){const i=De(t);let o=ke.min(),a=Oe();return i.persistence.runTransaction("Execute query","readwrite",(u=>(function(d,m,g){const y=De(d),E=y.xs.get(g);return E!==void 0?Q.resolve(y.Ms.get(E)):y.Pi.getTargetData(m,g)})(i,u,Ur(e)).next((f=>{if(f)return o=f.lastLimboFreeSnapshotVersion,i.Pi.getMatchingKeysForTargetId(u,f.targetId).next((d=>{a=d}))})).next((()=>i.Fs.getDocumentsMatchingQuery(u,e,n?o:ke.min(),n?a:Oe()))).next((f=>(qb(i,VV(e),f),{documents:f,Qs:a})))))}function qb(t,e,n){let i=t.Os.get(e)||ke.min();n.forEach(((o,a)=>{a.readTime.compareTo(i)>0&&(i=a.readTime)})),t.Os.set(e,i)}class i_{constructor(){this.activeTargetIds=OV()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class Kb{constructor(){this.Mo=new i_,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,i){}addLocalQueryTarget(e,n=!0){return n&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,n,i){this.xo[e]=n}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new i_,Promise.resolve()}handleUserChange(e,n,i){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gb{Oo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const s_="ConnectivityMonitor";class o_{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){de(s_,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){de(s_,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let hc=null;function tp(){return hc===null?hc=(function(){return 268435456+Math.round(2147483648*Math.random())})():hc++,"0x"+hc.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ad="RestConnection",Qb={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class Yb{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.Uo=n+"://"+e.host,this.Ko=`projects/${i}/databases/${o}`,this.Wo=this.databaseId.database===Mc?`project_id=${i}`:`project_id=${i}&database_id=${o}`}Go(e,n,i,o,a){const u=tp(),f=this.zo(e,n.toUriEncodedString());de(ad,`Sending RPC '${e}' ${u}:`,f,i);const d={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(d,o,a);const{host:m}=new URL(f),g=Gp(m);return this.Jo(e,f,d,i,g).then((y=>(de(ad,`Received RPC '${e}' ${u}: `,y),y)),(y=>{throw Yo(ad,`RPC '${e}' ${u} failed with error: `,y,"url: ",f,"request:",i),y}))}Ho(e,n,i,o,a,u){return this.Go(e,n,i,o,a)}jo(e,n,i){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+ua})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach(((o,a)=>e[a]=o)),i&&i.headers.forEach(((o,a)=>e[a]=o))}zo(e,n){const i=Qb[e];return`${this.Uo}/v1/${n}:${i}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xb{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nn="WebChannelConnection";class Jb extends Yb{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,n,i,o,a){const u=tp();return new Promise(((f,d)=>{const m=new ME;m.setWithCredentials(!0),m.listenOnce(LE.COMPLETE,(()=>{try{switch(m.getLastErrorCode()){case vc.NO_ERROR:const y=m.getResponseJson();de(nn,`XHR for RPC '${e}' ${u} received:`,JSON.stringify(y)),f(y);break;case vc.TIMEOUT:de(nn,`RPC '${e}' ${u} timed out`),d(new fe(G.DEADLINE_EXCEEDED,"Request time out"));break;case vc.HTTP_ERROR:const E=m.getStatus();if(de(nn,`RPC '${e}' ${u} failed with status:`,E,"response text:",m.getResponseText()),E>0){let A=m.getResponseJson();Array.isArray(A)&&(A=A[0]);const M=A==null?void 0:A.error;if(M&&M.status&&M.message){const b=(function(O){const K=O.toLowerCase().replace(/_/g,"-");return Object.values(G).indexOf(K)>=0?K:G.UNKNOWN})(M.status);d(new fe(b,M.message))}else d(new fe(G.UNKNOWN,"Server responded with status "+m.getStatus()))}else d(new fe(G.UNAVAILABLE,"Connection failed."));break;default:Ce(9055,{l_:e,streamId:u,h_:m.getLastErrorCode(),P_:m.getLastError()})}}finally{de(nn,`RPC '${e}' ${u} completed.`)}}));const g=JSON.stringify(o);de(nn,`RPC '${e}' ${u} sending request:`,o),m.send(n,"POST",g,i,15)}))}T_(e,n,i){const o=tp(),a=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],u=jE(),f=FE(),d={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},m=this.longPollingOptions.timeoutSeconds;m!==void 0&&(d.longPollingTimeout=Math.round(1e3*m)),this.useFetchStreams&&(d.useFetchStreams=!0),this.jo(d.initMessageHeaders,n,i),d.encodeInitMessageHeaders=!0;const g=a.join("");de(nn,`Creating RPC '${e}' stream ${o}: ${g}`,d);const y=u.createWebChannel(g,d);this.I_(y);let E=!1,A=!1;const M=new Xb({Yo:k=>{A?de(nn,`Not sending because RPC '${e}' stream ${o} is closed:`,k):(E||(de(nn,`Opening RPC '${e}' stream ${o} transport.`),y.open(),E=!0),de(nn,`RPC '${e}' stream ${o} sending:`,k),y.send(k))},Zo:()=>y.close()}),b=(k,O,K)=>{k.listen(O,(B=>{try{K(B)}catch(Z){setTimeout((()=>{throw Z}),0)}}))};return b(y,sl.EventType.OPEN,(()=>{A||(de(nn,`RPC '${e}' stream ${o} transport opened.`),M.o_())})),b(y,sl.EventType.CLOSE,(()=>{A||(A=!0,de(nn,`RPC '${e}' stream ${o} transport closed`),M.a_(),this.E_(y))})),b(y,sl.EventType.ERROR,(k=>{A||(A=!0,Yo(nn,`RPC '${e}' stream ${o} transport errored. Name:`,k.name,"Message:",k.message),M.a_(new fe(G.UNAVAILABLE,"The operation could not be completed")))})),b(y,sl.EventType.MESSAGE,(k=>{var O;if(!A){const K=k.data[0];Ke(!!K,16349);const B=K,Z=(B==null?void 0:B.error)||((O=B[0])==null?void 0:O.error);if(Z){de(nn,`RPC '${e}' stream ${o} received error:`,Z);const ne=Z.status;let le=(function(I){const V=It[I];if(V!==void 0)return _T(V)})(ne),R=Z.message;le===void 0&&(le=G.INTERNAL,R="Unknown error status: "+ne+" with message "+Z.message),A=!0,M.a_(new fe(le,R)),y.close()}else de(nn,`RPC '${e}' stream ${o} received:`,K),M.u_(K)}})),b(f,OE.STAT_EVENT,(k=>{k.stat===zd.PROXY?de(nn,`RPC '${e}' stream ${o} detected buffering proxy`):k.stat===zd.NOPROXY&&de(nn,`RPC '${e}' stream ${o} detected no buffering proxy`)})),setTimeout((()=>{M.__()}),0),M}terminate(){this.c_.forEach((e=>e.close())),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter((n=>n===e))}}function ld(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sh(t){return new nb(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DT{constructor(e,n,i=1e3,o=1.5,a=6e4){this.Mi=e,this.timerId=n,this.d_=i,this.A_=o,this.R_=a,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const n=Math.floor(this.V_+this.y_()),i=Math.max(0,Date.now()-this.f_),o=Math.max(0,n-i);o>0&&de("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.V_} ms, delay with jitter: ${n} ms, last attempt: ${i} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,o,(()=>(this.f_=Date.now(),e()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const a_="PersistentStream";class NT{constructor(e,n,i,o,a,u,f,d){this.Mi=e,this.S_=i,this.b_=o,this.connection=a,this.authCredentialsProvider=u,this.appCheckCredentialsProvider=f,this.listener=d,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new DT(e,n)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,n){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():n&&n.code===G.RESOURCE_EXHAUSTED?(gi(n.toString()),gi("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):n&&n.code===G.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(n)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),n=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([i,o])=>{this.D_===n&&this.G_(i,o)}),(i=>{e((()=>{const o=new fe(G.UNKNOWN,"Fetching auth token failed: "+i.message);return this.z_(o)}))}))}G_(e,n){const i=this.W_(this.D_);this.stream=this.j_(e,n),this.stream.Xo((()=>{i((()=>this.listener.Xo()))})),this.stream.t_((()=>{i((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((o=>{i((()=>this.z_(o)))})),this.stream.onMessage((o=>{i((()=>++this.F_==1?this.J_(o):this.onNext(o)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return de(a_,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return n=>{this.Mi.enqueueAndForget((()=>this.D_===e?n():(de(a_,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class Zb extends NT{constructor(e,n,i,o,a,u){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,i,o,u),this.serializer=a}j_(e,n){return this.connection.T_("Listen",e,n)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const n=sb(this.serializer,e),i=(function(a){if(!("targetChange"in a))return ke.min();const u=a.targetChange;return u.targetIds&&u.targetIds.length?ke.min():u.readTime?$r(u.readTime):ke.min()})(e);return this.listener.H_(n,i)}Y_(e){const n={};n.database=Zd(this.serializer),n.addTarget=(function(a,u){let f;const d=u.target;if(f=Kd(d)?{documents:lb(a,d)}:{query:ub(a,d).ft},f.targetId=u.targetId,u.resumeToken.approximateByteSize()>0){f.resumeToken=TT(a,u.resumeToken);const m=Yd(a,u.expectedCount);m!==null&&(f.expectedCount=m)}else if(u.snapshotVersion.compareTo(ke.min())>0){f.readTime=Bc(a,u.snapshotVersion.toTimestamp());const m=Yd(a,u.expectedCount);m!==null&&(f.expectedCount=m)}return f})(this.serializer,e);const i=hb(this.serializer,e);i&&(n.labels=i),this.q_(n)}Z_(e){const n={};n.database=Zd(this.serializer),n.removeTarget=e,this.q_(n)}}class eD extends NT{constructor(e,n,i,o,a,u){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,i,o,u),this.serializer=a}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,n){return this.connection.T_("Write",e,n)}J_(e){return Ke(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,Ke(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){Ke(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const n=ab(e.writeResults,e.commitTime),i=$r(e.commitTime);return this.listener.na(i,n)}ra(){const e={};e.database=Zd(this.serializer),this.q_(e)}ea(e){const n={streamToken:this.lastStreamToken,writes:e.map((i=>ob(this.serializer,i)))};this.q_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tD{}class nD extends tD{constructor(e,n,i,o){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=i,this.serializer=o,this.ia=!1}sa(){if(this.ia)throw new fe(G.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,n,i,o){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([a,u])=>this.connection.Go(e,Xd(n,i),o,a,u))).catch((a=>{throw a.name==="FirebaseError"?(a.code===G.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),a):new fe(G.UNKNOWN,a.toString())}))}Ho(e,n,i,o,a){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([u,f])=>this.connection.Ho(e,Xd(n,i),o,u,f,a))).catch((u=>{throw u.name==="FirebaseError"?(u.code===G.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new fe(G.UNKNOWN,u.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class rD{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(gi(n),this.aa=!1):de("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ks="RemoteStore";class iD{constructor(e,n,i,o,a){this.localStore=e,this.datastore=n,this.asyncQueue=i,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=a,this.Aa.Oo((u=>{i.enqueueAndForget((async()=>{Js(this)&&(de(Ks,"Restarting streams for network reachability change."),await(async function(d){const m=De(d);m.Ea.add(4),await ql(m),m.Ra.set("Unknown"),m.Ea.delete(4),await oh(m)})(this))}))})),this.Ra=new rD(i,o)}}async function oh(t){if(Js(t))for(const e of t.da)await e(!0)}async function ql(t){for(const e of t.da)await e(!1)}function MT(t,e){const n=De(t);n.Ia.has(e.targetId)||(n.Ia.set(e.targetId,e),gm(n)?mm(n):da(n).O_()&&pm(n,e))}function dm(t,e){const n=De(t),i=da(n);n.Ia.delete(e),i.O_()&&LT(n,e),n.Ia.size===0&&(i.O_()?i.L_():Js(n)&&n.Ra.set("Unknown"))}function pm(t,e){if(t.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(ke.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}da(t).Y_(e)}function LT(t,e){t.Va.Ue(e),da(t).Z_(e)}function mm(t){t.Va=new JV({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),At:e=>t.Ia.get(e)||null,ht:()=>t.datastore.serializer.databaseId}),da(t).start(),t.Ra.ua()}function gm(t){return Js(t)&&!da(t).x_()&&t.Ia.size>0}function Js(t){return De(t).Ea.size===0}function OT(t){t.Va=void 0}async function sD(t){t.Ra.set("Online")}async function oD(t){t.Ia.forEach(((e,n)=>{pm(t,e)}))}async function aD(t,e){OT(t),gm(t)?(t.Ra.ha(e),mm(t)):t.Ra.set("Unknown")}async function lD(t,e,n){if(t.Ra.set("Online"),e instanceof ET&&e.state===2&&e.cause)try{await(async function(o,a){const u=a.cause;for(const f of a.targetIds)o.Ia.has(f)&&(await o.remoteSyncer.rejectListen(f,u),o.Ia.delete(f),o.Va.removeTarget(f))})(t,e)}catch(i){de(Ks,"Failed to remove targets %s: %s ",e.targetIds.join(","),i),await zc(t,i)}else if(e instanceof Tc?t.Va.Ze(e):e instanceof wT?t.Va.st(e):t.Va.tt(e),!n.isEqual(ke.min()))try{const i=await bT(t.localStore);n.compareTo(i)>=0&&await(function(a,u){const f=a.Va.Tt(u);return f.targetChanges.forEach(((d,m)=>{if(d.resumeToken.approximateByteSize()>0){const g=a.Ia.get(m);g&&a.Ia.set(m,g.withResumeToken(d.resumeToken,u))}})),f.targetMismatches.forEach(((d,m)=>{const g=a.Ia.get(d);if(!g)return;a.Ia.set(d,g.withResumeToken(Qt.EMPTY_BYTE_STRING,g.snapshotVersion)),LT(a,d);const y=new Ki(g.target,d,m,g.sequenceNumber);pm(a,y)})),a.remoteSyncer.applyRemoteEvent(f)})(t,n)}catch(i){de(Ks,"Failed to raise snapshot:",i),await zc(t,i)}}async function zc(t,e,n){if(!ha(e))throw e;t.Ea.add(1),await ql(t),t.Ra.set("Offline"),n||(n=()=>bT(t.localStore)),t.asyncQueue.enqueueRetryable((async()=>{de(Ks,"Retrying IndexedDB access"),await n(),t.Ea.delete(1),await oh(t)}))}function FT(t,e){return e().catch((n=>zc(t,n,e)))}async function ah(t){const e=De(t),n=os(e);let i=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:Jp;for(;uD(e);)try{const o=await Hb(e.localStore,i);if(o===null){e.Ta.length===0&&n.L_();break}i=o.batchId,cD(e,o)}catch(o){await zc(e,o)}jT(e)&&BT(e)}function uD(t){return Js(t)&&t.Ta.length<10}function cD(t,e){t.Ta.push(e);const n=os(t);n.O_()&&n.X_&&n.ea(e.mutations)}function jT(t){return Js(t)&&!os(t).x_()&&t.Ta.length>0}function BT(t){os(t).start()}async function hD(t){os(t).ra()}async function fD(t){const e=os(t);for(const n of t.Ta)e.ea(n.mutations)}async function dD(t,e,n){const i=t.Ta.shift(),o=om.from(i,e,n);await FT(t,(()=>t.remoteSyncer.applySuccessfulWrite(o))),await ah(t)}async function pD(t,e){e&&os(t).X_&&await(async function(i,o){if((function(u){return QV(u)&&u!==G.ABORTED})(o.code)){const a=i.Ta.shift();os(i).B_(),await FT(i,(()=>i.remoteSyncer.rejectFailedWrite(a.batchId,o))),await ah(i)}})(t,e),jT(t)&&BT(t)}async function l_(t,e){const n=De(t);n.asyncQueue.verifyOperationInProgress(),de(Ks,"RemoteStore received new credentials");const i=Js(n);n.Ea.add(3),await ql(n),i&&n.Ra.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.Ea.delete(3),await oh(n)}async function mD(t,e){const n=De(t);e?(n.Ea.delete(2),await oh(n)):e||(n.Ea.add(2),await ql(n),n.Ra.set("Unknown"))}function da(t){return t.ma||(t.ma=(function(n,i,o){const a=De(n);return a.sa(),new Zb(i,a.connection,a.authCredentials,a.appCheckCredentials,a.serializer,o)})(t.datastore,t.asyncQueue,{Xo:sD.bind(null,t),t_:oD.bind(null,t),r_:aD.bind(null,t),H_:lD.bind(null,t)}),t.da.push((async e=>{e?(t.ma.B_(),gm(t)?mm(t):t.Ra.set("Unknown")):(await t.ma.stop(),OT(t))}))),t.ma}function os(t){return t.fa||(t.fa=(function(n,i,o){const a=De(n);return a.sa(),new eD(i,a.connection,a.authCredentials,a.appCheckCredentials,a.serializer,o)})(t.datastore,t.asyncQueue,{Xo:()=>Promise.resolve(),t_:hD.bind(null,t),r_:pD.bind(null,t),ta:fD.bind(null,t),na:dD.bind(null,t)}),t.da.push((async e=>{e?(t.fa.B_(),await ah(t)):(await t.fa.stop(),t.Ta.length>0&&(de(Ks,`Stopping write stream with ${t.Ta.length} pending writes`),t.Ta=[]))}))),t.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ym{constructor(e,n,i,o,a){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=i,this.op=o,this.removalCallback=a,this.deferred=new Xi,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((u=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,n,i,o,a){const u=Date.now()+i,f=new ym(e,n,u,o,a);return f.start(i),f}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new fe(G.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function vm(t,e){if(gi("AsyncQueue",`${e}: ${t}`),ha(t))return new fe(G.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ko{static emptySet(e){return new Ko(e.comparator)}constructor(e){this.comparator=e?(n,i)=>e(n,i)||Te.comparator(n.key,i.key):(n,i)=>Te.comparator(n.key,i.key),this.keyedMap=ol(),this.sortedSet=new ft(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((n,i)=>(e(n),!1)))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof Ko)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),i=e.sortedSet.getIterator();for(;n.hasNext();){const o=n.getNext().key,a=i.getNext().key;if(!o.isEqual(a))return!1}return!0}toString(){const e=[];return this.forEach((n=>{e.push(n.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const i=new Ko;return i.comparator=this.comparator,i.keyedMap=e,i.sortedSet=n,i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class u_{constructor(){this.ga=new ft(Te.comparator)}track(e){const n=e.doc.key,i=this.ga.get(n);i?e.type!==0&&i.type===3?this.ga=this.ga.insert(n,e):e.type===3&&i.type!==1?this.ga=this.ga.insert(n,{type:i.type,doc:e.doc}):e.type===2&&i.type===2?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):e.type===2&&i.type===0?this.ga=this.ga.insert(n,{type:0,doc:e.doc}):e.type===1&&i.type===0?this.ga=this.ga.remove(n):e.type===1&&i.type===2?this.ga=this.ga.insert(n,{type:1,doc:i.doc}):e.type===0&&i.type===1?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):Ce(63341,{Rt:e,pa:i}):this.ga=this.ga.insert(n,e)}ya(){const e=[];return this.ga.inorderTraversal(((n,i)=>{e.push(i)})),e}}class ta{constructor(e,n,i,o,a,u,f,d,m){this.query=e,this.docs=n,this.oldDocs=i,this.docChanges=o,this.mutatedKeys=a,this.fromCache=u,this.syncStateChanged=f,this.excludesMetadataChanges=d,this.hasCachedResults=m}static fromInitialDocuments(e,n,i,o,a){const u=[];return n.forEach((f=>{u.push({type:0,doc:f})})),new ta(e,n,Ko.emptySet(n),u,i,o,!0,!1,a)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&eh(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,i=e.docChanges;if(n.length!==i.length)return!1;for(let o=0;o<n.length;o++)if(n[o].type!==i[o].type||!n[o].doc.isEqual(i[o].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gD{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((e=>e.Da()))}}class yD{constructor(){this.queries=c_(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,i){const o=De(n),a=o.queries;o.queries=c_(),a.forEach(((u,f)=>{for(const d of f.Sa)d.onError(i)}))})(this,new fe(G.ABORTED,"Firestore shutting down"))}}function c_(){return new Ys((t=>aT(t)),eh)}async function UT(t,e){const n=De(t);let i=3;const o=e.query;let a=n.queries.get(o);a?!a.ba()&&e.Da()&&(i=2):(a=new gD,i=e.Da()?0:1);try{switch(i){case 0:a.wa=await n.onListen(o,!0);break;case 1:a.wa=await n.onListen(o,!1);break;case 2:await n.onFirstRemoteStoreListen(o)}}catch(u){const f=vm(u,`Initialization of query '${Oo(e.query)}' failed`);return void e.onError(f)}n.queries.set(o,a),a.Sa.push(e),e.va(n.onlineState),a.wa&&e.Fa(a.wa)&&_m(n)}async function zT(t,e){const n=De(t),i=e.query;let o=3;const a=n.queries.get(i);if(a){const u=a.Sa.indexOf(e);u>=0&&(a.Sa.splice(u,1),a.Sa.length===0?o=e.Da()?0:1:!a.ba()&&e.Da()&&(o=2))}switch(o){case 0:return n.queries.delete(i),n.onUnlisten(i,!0);case 1:return n.queries.delete(i),n.onUnlisten(i,!1);case 2:return n.onLastRemoteStoreUnlisten(i);default:return}}function vD(t,e){const n=De(t);let i=!1;for(const o of e){const a=o.query,u=n.queries.get(a);if(u){for(const f of u.Sa)f.Fa(o)&&(i=!0);u.wa=o}}i&&_m(n)}function _D(t,e,n){const i=De(t),o=i.queries.get(e);if(o)for(const a of o.Sa)a.onError(n);i.queries.delete(e)}function _m(t){t.Ca.forEach((e=>{e.next()}))}var np,h_;(h_=np||(np={})).Ma="default",h_.Cache="cache";class $T{constructor(e,n,i){this.query=e,this.xa=n,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=i||{}}Fa(e){if(!this.options.includeMetadataChanges){const i=[];for(const o of e.docChanges)o.type!==3&&i.push(o);e=new ta(e.query,e.docs,e.oldDocs,i,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),n=!0):this.La(e,this.onlineState)&&(this.ka(e),n=!0),this.Na=e,n}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let n=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),n=!0),n}La(e,n){if(!e.fromCache||!this.Da())return!0;const i=n!=="Offline";return(!this.options.qa||!i)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const n=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ka(e){e=ta.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==np.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HT{constructor(e){this.key=e}}class WT{constructor(e){this.key=e}}class wD{constructor(e,n){this.query=e,this.Ya=n,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=Oe(),this.mutatedKeys=Oe(),this.eu=lT(e),this.tu=new Ko(this.eu)}get nu(){return this.Ya}ru(e,n){const i=n?n.iu:new u_,o=n?n.tu:this.tu;let a=n?n.mutatedKeys:this.mutatedKeys,u=o,f=!1;const d=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,m=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(e.inorderTraversal(((g,y)=>{const E=o.get(g),A=th(this.query,y)?y:null,M=!!E&&this.mutatedKeys.has(E.key),b=!!A&&(A.hasLocalMutations||this.mutatedKeys.has(A.key)&&A.hasCommittedMutations);let k=!1;E&&A?E.data.isEqual(A.data)?M!==b&&(i.track({type:3,doc:A}),k=!0):this.su(E,A)||(i.track({type:2,doc:A}),k=!0,(d&&this.eu(A,d)>0||m&&this.eu(A,m)<0)&&(f=!0)):!E&&A?(i.track({type:0,doc:A}),k=!0):E&&!A&&(i.track({type:1,doc:E}),k=!0,(d||m)&&(f=!0)),k&&(A?(u=u.add(A),a=b?a.add(g):a.delete(g)):(u=u.delete(g),a=a.delete(g)))})),this.query.limit!==null)for(;u.size>this.query.limit;){const g=this.query.limitType==="F"?u.last():u.first();u=u.delete(g.key),a=a.delete(g.key),i.track({type:1,doc:g})}return{tu:u,iu:i,Cs:f,mutatedKeys:a}}su(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,i,o){const a=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const u=e.iu.ya();u.sort(((g,y)=>(function(A,M){const b=k=>{switch(k){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Ce(20277,{Rt:k})}};return b(A)-b(M)})(g.type,y.type)||this.eu(g.doc,y.doc))),this.ou(i),o=o??!1;const f=n&&!o?this._u():[],d=this.Xa.size===0&&this.current&&!o?1:0,m=d!==this.Za;return this.Za=d,u.length!==0||m?{snapshot:new ta(this.query,e.tu,a,u,e.mutatedKeys,d===0,m,!1,!!i&&i.resumeToken.approximateByteSize()>0),au:f}:{au:f}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new u_,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((n=>this.Ya=this.Ya.add(n))),e.modifiedDocuments.forEach((n=>{})),e.removedDocuments.forEach((n=>this.Ya=this.Ya.delete(n))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=Oe(),this.tu.forEach((i=>{this.uu(i.key)&&(this.Xa=this.Xa.add(i.key))}));const n=[];return e.forEach((i=>{this.Xa.has(i)||n.push(new WT(i))})),this.Xa.forEach((i=>{e.has(i)||n.push(new HT(i))})),n}cu(e){this.Ya=e.Qs,this.Xa=Oe();const n=this.ru(e.documents);return this.applyChanges(n,!0)}lu(){return ta.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const wm="SyncEngine";class ED{constructor(e,n,i){this.query=e,this.targetId=n,this.view=i}}class TD{constructor(e){this.key=e,this.hu=!1}}class SD{constructor(e,n,i,o,a,u){this.localStore=e,this.remoteStore=n,this.eventManager=i,this.sharedClientState=o,this.currentUser=a,this.maxConcurrentLimboResolutions=u,this.Pu={},this.Tu=new Ys((f=>aT(f)),eh),this.Iu=new Map,this.Eu=new Set,this.du=new ft(Te.comparator),this.Au=new Map,this.Ru=new um,this.Vu={},this.mu=new Map,this.fu=ea.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function xD(t,e,n=!0){const i=XT(t);let o;const a=i.Tu.get(e);return a?(i.sharedClientState.addLocalQueryTarget(a.targetId),o=a.view.lu()):o=await qT(i,e,n,!0),o}async function AD(t,e){const n=XT(t);await qT(n,e,!0,!1)}async function qT(t,e,n,i){const o=await Wb(t.localStore,Ur(e)),a=o.targetId,u=t.sharedClientState.addLocalQueryTarget(a,n);let f;return i&&(f=await ID(t,e,a,u==="current",o.resumeToken)),t.isPrimaryClient&&n&&MT(t.remoteStore,o),f}async function ID(t,e,n,i,o){t.pu=(y,E,A)=>(async function(b,k,O,K){let B=k.view.ru(O);B.Cs&&(B=await r_(b.localStore,k.query,!1).then((({documents:R})=>k.view.ru(R,B))));const Z=K&&K.targetChanges.get(k.targetId),ne=K&&K.targetMismatches.get(k.targetId)!=null,le=k.view.applyChanges(B,b.isPrimaryClient,Z,ne);return d_(b,k.targetId,le.au),le.snapshot})(t,y,E,A);const a=await r_(t.localStore,e,!0),u=new wD(e,a.Qs),f=u.ru(a.documents),d=Wl.createSynthesizedTargetChangeForCurrentChange(n,i&&t.onlineState!=="Offline",o),m=u.applyChanges(f,t.isPrimaryClient,d);d_(t,n,m.au);const g=new ED(e,n,u);return t.Tu.set(e,g),t.Iu.has(n)?t.Iu.get(n).push(e):t.Iu.set(n,[e]),m.snapshot}async function CD(t,e,n){const i=De(t),o=i.Tu.get(e),a=i.Iu.get(o.targetId);if(a.length>1)return i.Iu.set(o.targetId,a.filter((u=>!eh(u,e)))),void i.Tu.delete(e);i.isPrimaryClient?(i.sharedClientState.removeLocalQueryTarget(o.targetId),i.sharedClientState.isActiveQueryTarget(o.targetId)||await ep(i.localStore,o.targetId,!1).then((()=>{i.sharedClientState.clearQueryState(o.targetId),n&&dm(i.remoteStore,o.targetId),rp(i,o.targetId)})).catch(ca)):(rp(i,o.targetId),await ep(i.localStore,o.targetId,!0))}async function PD(t,e){const n=De(t),i=n.Tu.get(e),o=n.Iu.get(i.targetId);n.isPrimaryClient&&o.length===1&&(n.sharedClientState.removeLocalQueryTarget(i.targetId),dm(n.remoteStore,i.targetId))}async function RD(t,e,n){const i=LD(t);try{const o=await(function(u,f){const d=De(u),m=it.now(),g=f.reduce(((A,M)=>A.add(M.key)),Oe());let y,E;return d.persistence.runTransaction("Locally write mutations","readwrite",(A=>{let M=yi(),b=Oe();return d.Ns.getEntries(A,g).next((k=>{M=k,M.forEach(((O,K)=>{K.isValidDocument()||(b=b.add(O))}))})).next((()=>d.localDocuments.getOverlayedDocuments(A,M))).next((k=>{y=k;const O=[];for(const K of f){const B=HV(K,y.get(K.key).overlayedDocument);B!=null&&O.push(new Xs(K.key,B,ZE(B.value.mapValue),zr.exists(!0)))}return d.mutationQueue.addMutationBatch(A,m,O,f)})).next((k=>{E=k;const O=k.applyToLocalDocumentSet(y,b);return d.documentOverlayCache.saveOverlays(A,k.batchId,O)}))})).then((()=>({batchId:E.batchId,changes:cT(y)})))})(i.localStore,e);i.sharedClientState.addPendingMutation(o.batchId),(function(u,f,d){let m=u.Vu[u.currentUser.toKey()];m||(m=new ft(Le)),m=m.insert(f,d),u.Vu[u.currentUser.toKey()]=m})(i,o.batchId,n),await Kl(i,o.changes),await ah(i.remoteStore)}catch(o){const a=vm(o,"Failed to persist write");n.reject(a)}}async function KT(t,e){const n=De(t);try{const i=await zb(n.localStore,e);e.targetChanges.forEach(((o,a)=>{const u=n.Au.get(a);u&&(Ke(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1,22616),o.addedDocuments.size>0?u.hu=!0:o.modifiedDocuments.size>0?Ke(u.hu,14607):o.removedDocuments.size>0&&(Ke(u.hu,42227),u.hu=!1))})),await Kl(n,i,e)}catch(i){await ca(i)}}function f_(t,e,n){const i=De(t);if(i.isPrimaryClient&&n===0||!i.isPrimaryClient&&n===1){const o=[];i.Tu.forEach(((a,u)=>{const f=u.view.va(e);f.snapshot&&o.push(f.snapshot)})),(function(u,f){const d=De(u);d.onlineState=f;let m=!1;d.queries.forEach(((g,y)=>{for(const E of y.Sa)E.va(f)&&(m=!0)})),m&&_m(d)})(i.eventManager,e),o.length&&i.Pu.H_(o),i.onlineState=e,i.isPrimaryClient&&i.sharedClientState.setOnlineState(e)}}async function kD(t,e,n){const i=De(t);i.sharedClientState.updateQueryState(e,"rejected",n);const o=i.Au.get(e),a=o&&o.key;if(a){let u=new ft(Te.comparator);u=u.insert(a,sn.newNoDocument(a,ke.min()));const f=Oe().add(a),d=new ih(ke.min(),new Map,new ft(Le),u,f);await KT(i,d),i.du=i.du.remove(a),i.Au.delete(e),Em(i)}else await ep(i.localStore,e,!1).then((()=>rp(i,e,n))).catch(ca)}async function VD(t,e){const n=De(t),i=e.batch.batchId;try{const o=await Ub(n.localStore,e);QT(n,i,null),GT(n,i),n.sharedClientState.updateMutationState(i,"acknowledged"),await Kl(n,o)}catch(o){await ca(o)}}async function bD(t,e,n){const i=De(t);try{const o=await(function(u,f){const d=De(u);return d.persistence.runTransaction("Reject batch","readwrite-primary",(m=>{let g;return d.mutationQueue.lookupMutationBatch(m,f).next((y=>(Ke(y!==null,37113),g=y.keys(),d.mutationQueue.removeMutationBatch(m,y)))).next((()=>d.mutationQueue.performConsistencyCheck(m))).next((()=>d.documentOverlayCache.removeOverlaysForBatchId(m,g,f))).next((()=>d.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(m,g))).next((()=>d.localDocuments.getDocuments(m,g)))}))})(i.localStore,e);QT(i,e,n),GT(i,e),i.sharedClientState.updateMutationState(e,"rejected",n),await Kl(i,o)}catch(o){await ca(o)}}function GT(t,e){(t.mu.get(e)||[]).forEach((n=>{n.resolve()})),t.mu.delete(e)}function QT(t,e,n){const i=De(t);let o=i.Vu[i.currentUser.toKey()];if(o){const a=o.get(e);a&&(n?a.reject(n):a.resolve(),o=o.remove(e)),i.Vu[i.currentUser.toKey()]=o}}function rp(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const i of t.Iu.get(e))t.Tu.delete(i),n&&t.Pu.yu(i,n);t.Iu.delete(e),t.isPrimaryClient&&t.Ru.jr(e).forEach((i=>{t.Ru.containsKey(i)||YT(t,i)}))}function YT(t,e){t.Eu.delete(e.path.canonicalString());const n=t.du.get(e);n!==null&&(dm(t.remoteStore,n),t.du=t.du.remove(e),t.Au.delete(n),Em(t))}function d_(t,e,n){for(const i of n)i instanceof HT?(t.Ru.addReference(i.key,e),DD(t,i)):i instanceof WT?(de(wm,"Document no longer in limbo: "+i.key),t.Ru.removeReference(i.key,e),t.Ru.containsKey(i.key)||YT(t,i.key)):Ce(19791,{wu:i})}function DD(t,e){const n=e.key,i=n.path.canonicalString();t.du.get(n)||t.Eu.has(i)||(de(wm,"New document in limbo: "+n),t.Eu.add(i),Em(t))}function Em(t){for(;t.Eu.size>0&&t.du.size<t.maxConcurrentLimboResolutions;){const e=t.Eu.values().next().value;t.Eu.delete(e);const n=new Te(Ze.fromString(e)),i=t.fu.next();t.Au.set(i,new TD(n)),t.du=t.du.insert(n,i),MT(t.remoteStore,new Ki(Ur(rm(n.path)),i,"TargetPurposeLimboResolution",Xc.ce))}}async function Kl(t,e,n){const i=De(t),o=[],a=[],u=[];i.Tu.isEmpty()||(i.Tu.forEach(((f,d)=>{u.push(i.pu(d,e,n).then((m=>{var g;if((m||n)&&i.isPrimaryClient){const y=m?!m.fromCache:(g=n==null?void 0:n.targetChanges.get(d.targetId))==null?void 0:g.current;i.sharedClientState.updateQueryState(d.targetId,y?"current":"not-current")}if(m){o.push(m);const y=hm.As(d.targetId,m);a.push(y)}})))})),await Promise.all(u),i.Pu.H_(o),await(async function(d,m){const g=De(d);try{await g.persistence.runTransaction("notifyLocalViewChanges","readwrite",(y=>Q.forEach(m,(E=>Q.forEach(E.Es,(A=>g.persistence.referenceDelegate.addReference(y,E.targetId,A))).next((()=>Q.forEach(E.ds,(A=>g.persistence.referenceDelegate.removeReference(y,E.targetId,A)))))))))}catch(y){if(!ha(y))throw y;de(fm,"Failed to update sequence numbers: "+y)}for(const y of m){const E=y.targetId;if(!y.fromCache){const A=g.Ms.get(E),M=A.snapshotVersion,b=A.withLastLimboFreeSnapshotVersion(M);g.Ms=g.Ms.insert(E,b)}}})(i.localStore,a))}async function ND(t,e){const n=De(t);if(!n.currentUser.isEqual(e)){de(wm,"User change. New user:",e.toKey());const i=await VT(n.localStore,e);n.currentUser=e,(function(a,u){a.mu.forEach((f=>{f.forEach((d=>{d.reject(new fe(G.CANCELLED,u))}))})),a.mu.clear()})(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,i.removedBatchIds,i.addedBatchIds),await Kl(n,i.Ls)}}function MD(t,e){const n=De(t),i=n.Au.get(e);if(i&&i.hu)return Oe().add(i.key);{let o=Oe();const a=n.Iu.get(e);if(!a)return o;for(const u of a){const f=n.Tu.get(u);o=o.unionWith(f.view.nu)}return o}}function XT(t){const e=De(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=KT.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=MD.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=kD.bind(null,e),e.Pu.H_=vD.bind(null,e.eventManager),e.Pu.yu=_D.bind(null,e.eventManager),e}function LD(t){const e=De(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=VD.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=bD.bind(null,e),e}class $c{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=sh(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,n){return null}Mu(e,n){return null}vu(e){return Bb(this.persistence,new Ob,e.initialUser,this.serializer)}Cu(e){return new kT(cm.mi,this.serializer)}Du(e){return new Kb}async terminate(){var e,n;(e=this.gcScheduler)==null||e.stop(),(n=this.indexBackfillerScheduler)==null||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}$c.provider={build:()=>new $c};class OD extends $c{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,n){Ke(this.persistence.referenceDelegate instanceof Uc,46915);const i=this.persistence.referenceDelegate.garbageCollector;return new Tb(i,e.asyncQueue,n)}Cu(e){const n=this.cacheSizeBytes!==void 0?En.withCacheSize(this.cacheSizeBytes):En.DEFAULT;return new kT((i=>Uc.mi(i,n)),this.serializer)}}class ip{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=i=>f_(this.syncEngine,i,1),this.remoteStore.remoteSyncer.handleCredentialChange=ND.bind(null,this.syncEngine),await mD(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new yD})()}createDatastore(e){const n=sh(e.databaseInfo.databaseId),i=(function(a){return new Jb(a)})(e.databaseInfo);return(function(a,u,f,d){return new nD(a,u,f,d)})(e.authCredentials,e.appCheckCredentials,i,n)}createRemoteStore(e){return(function(i,o,a,u,f){return new iD(i,o,a,u,f)})(this.localStore,this.datastore,e.asyncQueue,(n=>f_(this.syncEngine,n,0)),(function(){return o_.v()?new o_:new Gb})())}createSyncEngine(e,n){return(function(o,a,u,f,d,m,g){const y=new SD(o,a,u,f,d,m);return g&&(y.gu=!0),y})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await(async function(o){const a=De(o);de(Ks,"RemoteStore shutting down."),a.Ea.add(5),await ql(a),a.Aa.shutdown(),a.Ra.set("Unknown")})(this.remoteStore),(e=this.datastore)==null||e.terminate(),(n=this.eventManager)==null||n.terminate()}}ip.provider={build:()=>new ip};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JT{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):gi("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,n){setTimeout((()=>{this.muted||e(n)}),0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const as="FirestoreClient";class FD{constructor(e,n,i,o,a){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=i,this.databaseInfo=o,this.user=rn.UNAUTHENTICATED,this.clientId=Xp.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=a,this.authCredentials.start(i,(async u=>{de(as,"Received user=",u.uid),await this.authCredentialListener(u),this.user=u})),this.appCheckCredentials.start(i,(u=>(de(as,"Received new app check token=",u),this.appCheckCredentialListener(u,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Xi;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const i=vm(n,"Failed to shutdown persistence");e.reject(i)}})),e.promise}}async function ud(t,e){t.asyncQueue.verifyOperationInProgress(),de(as,"Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let i=n.initialUser;t.setCredentialChangeListener((async o=>{i.isEqual(o)||(await VT(e.localStore,o),i=o)})),e.persistence.setDatabaseDeletedListener((()=>t.terminate())),t._offlineComponents=e}async function p_(t,e){t.asyncQueue.verifyOperationInProgress();const n=await jD(t);de(as,"Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener((i=>l_(e.remoteStore,i))),t.setAppCheckTokenChangeListener(((i,o)=>l_(e.remoteStore,o))),t._onlineComponents=e}async function jD(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){de(as,"Using user provided OfflineComponentProvider");try{await ud(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!(function(o){return o.name==="FirebaseError"?o.code===G.FAILED_PRECONDITION||o.code===G.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11})(n))throw n;Yo("Error using user provided cache. Falling back to memory cache: "+n),await ud(t,new $c)}}else de(as,"Using default OfflineComponentProvider"),await ud(t,new OD(void 0));return t._offlineComponents}async function ZT(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(de(as,"Using user provided OnlineComponentProvider"),await p_(t,t._uninitializedComponentsProvider._online)):(de(as,"Using default OnlineComponentProvider"),await p_(t,new ip))),t._onlineComponents}function BD(t){return ZT(t).then((e=>e.syncEngine))}async function sp(t){const e=await ZT(t),n=e.eventManager;return n.onListen=xD.bind(null,e.syncEngine),n.onUnlisten=CD.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=AD.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=PD.bind(null,e.syncEngine),n}function UD(t,e,n={}){const i=new Xi;return t.asyncQueue.enqueueAndForget((async()=>(function(a,u,f,d,m){const g=new JT({next:E=>{g.Nu(),u.enqueueAndForget((()=>zT(a,y))),E.fromCache&&d.source==="server"?m.reject(new fe(G.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):m.resolve(E)},error:E=>m.reject(E)}),y=new $T(f,g,{includeMetadataChanges:!0,qa:!0});return UT(a,y)})(await sp(t),t.asyncQueue,e,n,i))),i.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function e1(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const m_=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const t1="firestore.googleapis.com",g_=!0;class y_{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new fe(G.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=t1,this.ssl=g_}else this.host=e.host,this.ssl=e.ssl??g_;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=RT;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<wb)throw new fe(G.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}iV("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=e1(e.experimentalLongPollingOptions??{}),(function(i){if(i.timeoutSeconds!==void 0){if(isNaN(i.timeoutSeconds))throw new fe(G.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (must not be NaN)`);if(i.timeoutSeconds<5)throw new fe(G.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (minimum allowed value is 5)`);if(i.timeoutSeconds>30)throw new fe(G.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(i,o){return i.timeoutSeconds===o.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class lh{constructor(e,n,i,o){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=i,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new y_({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new fe(G.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new fe(G.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new y_(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(i){if(!i)return new Gk;switch(i.type){case"firstParty":return new Jk(i.sessionIndex||"0",i.iamToken||null,i.authTokenFactory||null);case"provider":return i.client;default:throw new fe(G.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(n){const i=m_.get(n);i&&(de("ComponentProvider","Removing Datastore"),m_.delete(n),i.terminate())})(this),Promise.resolve()}}function zD(t,e,n,i={}){var m;t=Ji(t,lh);const o=Gp(e),a=t._getSettings(),u={...a,emulatorOptions:t._getEmulatorOptions()},f=`${e}:${n}`;o&&(E2(`https://${f}`),A2("Firestore",!0)),a.host!==t1&&a.host!==f&&Yo("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const d={...a,host:f,ssl:o,emulatorOptions:i};if(!Vc(d,u)&&(t._setSettings(d),i.mockUserToken)){let g,y;if(typeof i.mockUserToken=="string")g=i.mockUserToken,y=rn.MOCK_USER;else{g=T2(i.mockUserToken,(m=t._app)==null?void 0:m.options.projectId);const E=i.mockUserToken.sub||i.mockUserToken.user_id;if(!E)throw new fe(G.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");y=new rn(E)}t._authCredentials=new Qk(new UE(g,y))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class us{constructor(e,n,i){this.converter=n,this._query=i,this.type="query",this.firestore=e}withConverter(e){return new us(this.firestore,e,this._query)}}class Dt{constructor(e,n,i){this.converter=n,this._key=i,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Zi(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Dt(this.firestore,e,this._key)}toJSON(){return{type:Dt._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,n,i){if($l(n,Dt._jsonSchema))return new Dt(e,i||null,new Te(Ze.fromString(n.referencePath)))}}Dt._jsonSchemaVersion="firestore/documentReference/1.0",Dt._jsonSchema={type:Rt("string",Dt._jsonSchemaVersion),referencePath:Rt("string")};class Zi extends us{constructor(e,n,i){super(e,n,rm(i)),this._path=i,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Dt(this.firestore,null,new Te(e))}withConverter(e){return new Zi(this.firestore,e,this._path)}}function $D(t,e,...n){if(t=Ws(t),zE("collection","path",e),t instanceof lh){const i=Ze.fromString(e,...n);return k0(i),new Zi(t,null,i)}{if(!(t instanceof Dt||t instanceof Zi))throw new fe(G.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=t._path.child(Ze.fromString(e,...n));return k0(i),new Zi(t.firestore,null,i)}}function op(t,e,...n){if(t=Ws(t),arguments.length===1&&(e=Xp.newId()),zE("doc","path",e),t instanceof lh){const i=Ze.fromString(e,...n);return R0(i),new Dt(t,null,new Te(i))}{if(!(t instanceof Dt||t instanceof Zi))throw new fe(G.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=t._path.child(Ze.fromString(e,...n));return R0(i),new Dt(t.firestore,t instanceof Zi?t.converter:null,new Te(i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const v_="AsyncQueue";class __{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new DT(this,"async_queue_retry"),this._c=()=>{const i=ld();i&&de(v_,"Visibility state changed to "+i.visibilityState),this.M_.w_()},this.ac=e;const n=ld();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const n=ld();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const n=new Xi;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise))).then((()=>n.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Xu.push(e),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!ha(e))throw e;de(v_,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const n=this.ac.then((()=>(this.rc=!0,e().catch((i=>{throw this.nc=i,this.rc=!1,gi("INTERNAL UNHANDLED ERROR: ",w_(i)),i})).then((i=>(this.rc=!1,i))))));return this.ac=n,n}enqueueAfterDelay(e,n,i){this.uc(),this.oc.indexOf(e)>-1&&(n=0);const o=ym.createAndSchedule(this,e,n,i,(a=>this.hc(a)));return this.tc.push(o),o}uc(){this.nc&&Ce(47125,{Pc:w_(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const n of this.tc)if(n.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((n,i)=>n.targetTimeMs-i.targetTimeMs));for(const n of this.tc)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Tc()}))}dc(e){this.oc.push(e)}hc(e){const n=this.tc.indexOf(e);this.tc.splice(n,1)}}function w_(t){let e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+`
`+t.stack),e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function E_(t){return(function(n,i){if(typeof n!="object"||n===null)return!1;const o=n;for(const a of i)if(a in o&&typeof o[a]=="function")return!0;return!1})(t,["next","error","complete"])}class na extends lh{constructor(e,n,i,o){super(e,n,i,o),this.type="firestore",this._queue=new __,this._persistenceKey=(o==null?void 0:o.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new __(e),this._firestoreClient=void 0,await e}}}function HD(t,e){const n=typeof t=="object"?t:Mk(),i=typeof t=="string"?t:Mc,o=kk(n,"firestore").getImmediate({identifier:i});if(!o._initialized){const a=_2("firestore");a&&zD(o,...a)}return o}function Tm(t){if(t._terminated)throw new fe(G.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||WD(t),t._firestoreClient}function WD(t){var i,o,a;const e=t._freezeSettings(),n=(function(f,d,m,g){return new mV(f,d,m,g.host,g.ssl,g.experimentalForceLongPolling,g.experimentalAutoDetectLongPolling,e1(g.experimentalLongPollingOptions),g.useFetchStreams,g.isUsingEmulator)})(t._databaseId,((i=t._app)==null?void 0:i.options.appId)||"",t._persistenceKey,e);t._componentsProvider||(o=e.localCache)!=null&&o._offlineComponentProvider&&((a=e.localCache)!=null&&a._onlineComponentProvider)&&(t._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),t._firestoreClient=new FD(t._authCredentials,t._appCheckCredentials,t._queue,n,t._componentsProvider&&(function(f){const d=f==null?void 0:f._online.build();return{_offline:f==null?void 0:f._offline.build(d),_online:d}})(t._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yn{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Yn(Qt.fromBase64String(e))}catch(n){throw new fe(G.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new Yn(Qt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:Yn._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if($l(e,Yn._jsonSchema))return Yn.fromBase64String(e.bytes)}}Yn._jsonSchemaVersion="firestore/bytes/1.0",Yn._jsonSchema={type:Rt("string",Yn._jsonSchemaVersion),bytes:Rt("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sm{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new fe(G.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Gt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class n1{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hr{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new fe(G.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new fe(G.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return Le(this._lat,e._lat)||Le(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Hr._jsonSchemaVersion}}static fromJSON(e){if($l(e,Hr._jsonSchema))return new Hr(e.latitude,e.longitude)}}Hr._jsonSchemaVersion="firestore/geoPoint/1.0",Hr._jsonSchema={type:Rt("string",Hr._jsonSchemaVersion),latitude:Rt("number"),longitude:Rt("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wr{constructor(e){this._values=(e||[]).map((n=>n))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(i,o){if(i.length!==o.length)return!1;for(let a=0;a<i.length;++a)if(i[a]!==o[a])return!1;return!0})(this._values,e._values)}toJSON(){return{type:Wr._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if($l(e,Wr._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((n=>typeof n=="number")))return new Wr(e.vectorValues);throw new fe(G.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Wr._jsonSchemaVersion="firestore/vectorValue/1.0",Wr._jsonSchema={type:Rt("string",Wr._jsonSchemaVersion),vectorValues:Rt("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qD=/^__.*__$/;class KD{constructor(e,n,i){this.data=e,this.fieldMask=n,this.fieldTransforms=i}toMutation(e,n){return this.fieldMask!==null?new Xs(e,this.data,this.fieldMask,n,this.fieldTransforms):new Hl(e,this.data,n,this.fieldTransforms)}}function r1(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Ce(40011,{Ac:t})}}class xm{constructor(e,n,i,o,a,u){this.settings=e,this.databaseId=n,this.serializer=i,this.ignoreUndefinedProperties=o,a===void 0&&this.Rc(),this.fieldTransforms=a||[],this.fieldMask=u||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new xm({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){var o;const n=(o=this.path)==null?void 0:o.child(e),i=this.Vc({path:n,fc:!1});return i.gc(e),i}yc(e){var o;const n=(o=this.path)==null?void 0:o.child(e),i=this.Vc({path:n,fc:!1});return i.Rc(),i}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return Hc(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find((n=>e.isPrefixOf(n)))!==void 0||this.fieldTransforms.find((n=>e.isPrefixOf(n.field)))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(r1(this.Ac)&&qD.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class GD{constructor(e,n,i){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=i||sh(e)}Cc(e,n,i,o=!1){return new xm({Ac:e,methodName:n,Dc:i,path:Gt.emptyPath(),fc:!1,bc:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function i1(t){const e=t._freezeSettings(),n=sh(t._databaseId);return new GD(t._databaseId,!!e.ignoreUndefinedProperties,n)}function QD(t,e,n,i,o,a={}){const u=t.Cc(a.merge||a.mergeFields?2:0,e,n,o);a1("Data must be an object, but it was:",u,i);const f=s1(i,u);let d,m;if(a.merge)d=new pr(u.fieldMask),m=u.fieldTransforms;else if(a.mergeFields){const g=[];for(const y of a.mergeFields){const E=XD(e,y,n);if(!u.contains(E))throw new fe(G.INVALID_ARGUMENT,`Field '${E}' is specified in your field mask but missing from your input data.`);ZD(g,E)||g.push(E)}d=new pr(g),m=u.fieldTransforms.filter((y=>d.covers(y.field)))}else d=null,m=u.fieldTransforms;return new KD(new Qn(f),d,m)}function YD(t,e,n,i=!1){return Am(n,t.Cc(i?4:3,e))}function Am(t,e){if(o1(t=Ws(t)))return a1("Unsupported field value:",e,t),s1(t,e);if(t instanceof n1)return(function(i,o){if(!r1(o.Ac))throw o.Sc(`${i._methodName}() can only be used with update() and set()`);if(!o.path)throw o.Sc(`${i._methodName}() is not currently supported inside arrays`);const a=i._toFieldTransform(o);a&&o.fieldTransforms.push(a)})(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return(function(i,o){const a=[];let u=0;for(const f of i){let d=Am(f,o.wc(u));d==null&&(d={nullValue:"NULL_VALUE"}),a.push(d),u++}return{arrayValue:{values:a}}})(t,e)}return(function(i,o){if((i=Ws(i))===null)return{nullValue:"NULL_VALUE"};if(typeof i=="number")return FV(o.serializer,i);if(typeof i=="boolean")return{booleanValue:i};if(typeof i=="string")return{stringValue:i};if(i instanceof Date){const a=it.fromDate(i);return{timestampValue:Bc(o.serializer,a)}}if(i instanceof it){const a=new it(i.seconds,1e3*Math.floor(i.nanoseconds/1e3));return{timestampValue:Bc(o.serializer,a)}}if(i instanceof Hr)return{geoPointValue:{latitude:i.latitude,longitude:i.longitude}};if(i instanceof Yn)return{bytesValue:TT(o.serializer,i._byteString)};if(i instanceof Dt){const a=o.databaseId,u=i.firestore._databaseId;if(!u.isEqual(a))throw o.Sc(`Document reference is for database ${u.projectId}/${u.database} but should be for database ${a.projectId}/${a.database}`);return{referenceValue:lm(i.firestore._databaseId||o.databaseId,i._key.path)}}if(i instanceof Wr)return(function(u,f){return{mapValue:{fields:{[XE]:{stringValue:JE},[Lc]:{arrayValue:{values:u.toArray().map((m=>{if(typeof m!="number")throw f.Sc("VectorValues must only contain numeric values.");return im(f.serializer,m)}))}}}}}})(i,o);throw o.Sc(`Unsupported field value: ${Yc(i)}`)})(t,e)}function s1(t,e){const n={};return WE(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Qs(t,((i,o)=>{const a=Am(o,e.mc(i));a!=null&&(n[i]=a)})),{mapValue:{fields:n}}}function o1(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof it||t instanceof Hr||t instanceof Yn||t instanceof Dt||t instanceof n1||t instanceof Wr)}function a1(t,e,n){if(!o1(n)||!$E(n)){const i=Yc(n);throw i==="an object"?e.Sc(t+" a custom object"):e.Sc(t+" "+i)}}function XD(t,e,n){if((e=Ws(e))instanceof Sm)return e._internalPath;if(typeof e=="string")return l1(t,e);throw Hc("Field path arguments must be of type string or ",t,!1,void 0,n)}const JD=new RegExp("[~\\*/\\[\\]]");function l1(t,e,n){if(e.search(JD)>=0)throw Hc(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new Sm(...e.split("."))._internalPath}catch{throw Hc(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function Hc(t,e,n,i,o){const a=i&&!i.isEmpty(),u=o!==void 0;let f=`Function ${e}() called with invalid data`;n&&(f+=" (via `toFirestore()`)"),f+=". ";let d="";return(a||u)&&(d+=" (found",a&&(d+=` in field ${i}`),u&&(d+=` in document ${o}`),d+=")"),new fe(G.INVALID_ARGUMENT,f+t+d)}function ZD(t,e){return t.some((n=>n.isEqual(e)))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class u1{constructor(e,n,i,o,a){this._firestore=e,this._userDataWriter=n,this._key=i,this._document=o,this._converter=a}get id(){return this._key.path.lastSegment()}get ref(){return new Dt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new eN(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(Im("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class eN extends u1{data(){return super.data()}}function Im(t,e){return typeof e=="string"?l1(t,e):e instanceof Sm?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function c1(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new fe(G.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Cm{}class h1 extends Cm{}function tN(t,e,...n){let i=[];e instanceof Cm&&i.push(e),i=i.concat(n),(function(a){const u=a.filter((d=>d instanceof Rm)).length,f=a.filter((d=>d instanceof Pm)).length;if(u>1||u>0&&f>0)throw new fe(G.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(i);for(const o of i)t=o._apply(t);return t}class Pm extends h1{constructor(e,n,i){super(),this._field=e,this._op=n,this._value=i,this.type="where"}static _create(e,n,i){return new Pm(e,n,i)}_apply(e){const n=this._parse(e);return f1(e._query,n),new us(e.firestore,e.converter,Gd(e._query,n))}_parse(e){const n=i1(e.firestore);return(function(a,u,f,d,m,g,y){let E;if(m.isKeyField()){if(g==="array-contains"||g==="array-contains-any")throw new fe(G.INVALID_ARGUMENT,`Invalid Query. You can't perform '${g}' queries on documentId().`);if(g==="in"||g==="not-in"){S_(y,g);const M=[];for(const b of y)M.push(T_(d,a,b));E={arrayValue:{values:M}}}else E=T_(d,a,y)}else g!=="in"&&g!=="not-in"&&g!=="array-contains-any"||S_(y,g),E=YD(f,u,y,g==="in"||g==="not-in");return Pt.create(m,g,E)})(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}class Rm extends Cm{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new Rm(e,n)}_parse(e){const n=this._queryConstraints.map((i=>i._parse(e))).filter((i=>i.getFilters().length>0));return n.length===1?n[0]:mr.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:((function(o,a){let u=o;const f=a.getFlattenedFilters();for(const d of f)f1(u,d),u=Gd(u,d)})(e._query,n),new us(e.firestore,e.converter,Gd(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class km extends h1{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new km(e,n)}_apply(e){const n=(function(o,a,u){if(o.startAt!==null)throw new fe(G.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(o.endAt!==null)throw new fe(G.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new Dl(a,u)})(e._query,this._field,this._direction);return new us(e.firestore,e.converter,(function(o,a){const u=o.explicitOrderBy.concat([a]);return new fa(o.path,o.collectionGroup,u,o.filters.slice(),o.limit,o.limitType,o.startAt,o.endAt)})(e._query,n))}}function nN(t,e="asc"){const n=e,i=Im("orderBy",t);return km._create(i,n)}function T_(t,e,n){if(typeof(n=Ws(n))=="string"){if(n==="")throw new fe(G.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!oT(e)&&n.indexOf("/")!==-1)throw new fe(G.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const i=e.path.child(Ze.fromString(n));if(!Te.isDocumentKey(i))throw new fe(G.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${i}' is not because it has an odd number of segments (${i.length}).`);return F0(t,new Te(i))}if(n instanceof Dt)return F0(t,n._key);throw new fe(G.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Yc(n)}.`)}function S_(t,e){if(!Array.isArray(t)||t.length===0)throw new fe(G.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function f1(t,e){const n=(function(o,a){for(const u of o)for(const f of u.getFlattenedFilters())if(a.indexOf(f.op)>=0)return f.op;return null})(t.filters,(function(o){switch(o){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(e.op));if(n!==null)throw n===e.op?new fe(G.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new fe(G.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class rN{convertValue(e,n="none"){switch(ss(e)){case 0:return null;case 1:return e.booleanValue;case 2:return wt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(is(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw Ce(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const i={};return Qs(e,((o,a)=>{i[o]=this.convertValue(a,n)})),i}convertVectorValue(e){var i,o,a;const n=(a=(o=(i=e.fields)==null?void 0:i[Lc].arrayValue)==null?void 0:o.values)==null?void 0:a.map((u=>wt(u.doubleValue)));return new Wr(n)}convertGeoPoint(e){return new Hr(wt(e.latitude),wt(e.longitude))}convertArray(e,n){return(e.values||[]).map((i=>this.convertValue(i,n)))}convertServerTimestamp(e,n){switch(n){case"previous":const i=Zc(e);return i==null?null:this.convertValue(i,n);case"estimate":return this.convertTimestamp(kl(e));default:return null}}convertTimestamp(e){const n=rs(e);return new it(n.seconds,n.nanos)}convertDocumentKey(e,n){const i=Ze.fromString(e);Ke(PT(i),9688,{name:e});const o=new Vl(i.get(1),i.get(3)),a=new Te(i.popFirst(5));return o.isEqual(n)||gi(`Document ${a} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),a}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iN(t,e,n){let i;return i=t?t.toFirestore(e):e,i}class ll{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class $s extends u1{constructor(e,n,i,o,a,u){super(e,n,i,o,u),this._firestore=e,this._firestoreImpl=e,this.metadata=a}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new Sc(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const i=this._document.data.field(Im("DocumentSnapshot.get",e));if(i!==null)return this._userDataWriter.convertValue(i,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new fe(G.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,n={};return n.type=$s._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}$s._jsonSchemaVersion="firestore/documentSnapshot/1.0",$s._jsonSchema={type:Rt("string",$s._jsonSchemaVersion),bundleSource:Rt("string","DocumentSnapshot"),bundleName:Rt("string"),bundle:Rt("string")};class Sc extends $s{data(e={}){return super.data(e)}}class Hs{constructor(e,n,i,o){this._firestore=e,this._userDataWriter=n,this._snapshot=o,this.metadata=new ll(o.hasPendingWrites,o.fromCache),this.query=i}get docs(){const e=[];return this.forEach((n=>e.push(n))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach((i=>{e.call(n,new Sc(this._firestore,this._userDataWriter,i.key,i,new ll(this._snapshot.mutatedKeys.has(i.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new fe(G.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=(function(o,a){if(o._snapshot.oldDocs.isEmpty()){let u=0;return o._snapshot.docChanges.map((f=>{const d=new Sc(o._firestore,o._userDataWriter,f.doc.key,f.doc,new ll(o._snapshot.mutatedKeys.has(f.doc.key),o._snapshot.fromCache),o.query.converter);return f.doc,{type:"added",doc:d,oldIndex:-1,newIndex:u++}}))}{let u=o._snapshot.oldDocs;return o._snapshot.docChanges.filter((f=>a||f.type!==3)).map((f=>{const d=new Sc(o._firestore,o._userDataWriter,f.doc.key,f.doc,new ll(o._snapshot.mutatedKeys.has(f.doc.key),o._snapshot.fromCache),o.query.converter);let m=-1,g=-1;return f.type!==0&&(m=u.indexOf(f.doc.key),u=u.delete(f.doc.key)),f.type!==1&&(u=u.add(f.doc),g=u.indexOf(f.doc.key)),{type:sN(f.type),doc:d,oldIndex:m,newIndex:g}}))}})(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new fe(G.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=Hs._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=Xp.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],i=[],o=[];return this.docs.forEach((a=>{a._document!==null&&(n.push(a._document),i.push(this._userDataWriter.convertObjectMap(a._document.data.value.mapValue.fields,"previous")),o.push(a.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function sN(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Ce(61501,{type:t})}}Hs._jsonSchemaVersion="firestore/querySnapshot/1.0",Hs._jsonSchema={type:Rt("string",Hs._jsonSchemaVersion),bundleSource:Rt("string","QuerySnapshot"),bundleName:Rt("string"),bundle:Rt("string")};class Vm extends rN{constructor(e){super(),this.firestore=e}convertBytes(e){return new Yn(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new Dt(this.firestore,null,n)}}function oN(t){t=Ji(t,us);const e=Ji(t.firestore,na),n=Tm(e),i=new Vm(e);return c1(t._query),UD(n,t._query).then((o=>new Hs(e,i,t,o)))}function x_(t){return d1(Ji(t.firestore,na),[new sm(t._key,zr.none())])}function aN(t,e){const n=Ji(t.firestore,na),i=op(t),o=iN(t.converter,e);return d1(n,[QD(i1(t.firestore),"addDoc",i._key,o,t.converter!==null,{}).toMutation(i._key,zr.exists(!1))]).then((()=>i))}function lN(t,...e){var d,m,g;t=Ws(t);let n={includeMetadataChanges:!1,source:"default"},i=0;typeof e[i]!="object"||E_(e[i])||(n=e[i++]);const o={includeMetadataChanges:n.includeMetadataChanges,source:n.source};if(E_(e[i])){const y=e[i];e[i]=(d=y.next)==null?void 0:d.bind(y),e[i+1]=(m=y.error)==null?void 0:m.bind(y),e[i+2]=(g=y.complete)==null?void 0:g.bind(y)}let a,u,f;if(t instanceof Dt)u=Ji(t.firestore,na),f=rm(t._key.path),a={next:y=>{e[i]&&e[i](uN(u,t,y))},error:e[i+1],complete:e[i+2]};else{const y=Ji(t,us);u=Ji(y.firestore,na),f=y._query;const E=new Vm(u);a={next:A=>{e[i]&&e[i](new Hs(u,E,y,A))},error:e[i+1],complete:e[i+2]},c1(t._query)}return(function(E,A,M,b){const k=new JT(b),O=new $T(A,k,M);return E.asyncQueue.enqueueAndForget((async()=>UT(await sp(E),O))),()=>{k.Nu(),E.asyncQueue.enqueueAndForget((async()=>zT(await sp(E),O)))}})(Tm(u),f,o,a)}function d1(t,e){return(function(i,o){const a=new Xi;return i.asyncQueue.enqueueAndForget((async()=>RD(await BD(i),o,a))),a.promise})(Tm(t),e)}function uN(t,e,n){const i=n.docs.get(e._key),o=new Vm(t);return new $s(t,o,e._key,i,new ll(n.hasPendingWrites,n.fromCache),e.converter)}(function(e,n=!0){(function(o){ua=o})(Nk),Dc(new Cl("firestore",((i,{instanceIdentifier:o,options:a})=>{const u=i.getProvider("app").getImmediate(),f=new na(new Yk(i.getProvider("auth-internal")),new Zk(u,i.getProvider("app-check-internal")),(function(m,g){if(!Object.prototype.hasOwnProperty.apply(m.options,["projectId"]))throw new fe(G.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Vl(m.options.projectId,g)})(u,o),u);return a={useFetchStreams:n,...a},f._setSettings(a),f}),"PUBLIC").setMultipleInstances(!0)),qo(A0,I0,e),qo(A0,I0,"esm2020")})();const cN={apiKey:"AIzaSyADf1UgbPuaZ_s1vCCu5rib4goFHBfiVUs",authDomain:"jieyou-e61d3.firebaseapp.com",projectId:"jieyou-e61d3",storageBucket:"jieyou-e61d3.firebasestorage.app",messagingSenderId:"877227555323",appId:"1:877227555323:web:4b12608bc6036ea8c2335e",measurementId:"G-KRZLV8FNT1"},hN=VE(cN),ap=HD(hN),cd=$D(ap,"stars");function fN(){const[t,e]=U.useState([]);return U.useEffect(()=>{const f=tN(cd,nN("timestamp","asc")),d=lN(f,m=>{const g=m.docs.map(y=>{var A;const E=y.data();return{...E,id:y.id,timestamp:((A=E.timestamp)==null?void 0:A.toDate().toISOString())||new Date().toISOString()}});e(g)});return()=>d()},[]),{stars:t,addStar:async f=>{const d={...f,timestamp:new Date,position:{x:Math.random()*100,y:Math.random()*100},size:Math.random()*10+10,twinkleRate:Math.random()*2+1},m=await aN(cd,d);return{...d,id:m.id,timestamp:d.timestamp.toISOString()}},deleteStar:async f=>{const d=op(ap,"stars",f);await x_(d)},getAllStars:()=>t,clearStars:async()=>{(await oN(cd)).forEach(async d=>{await x_(op(ap,"stars",d.id))})},filterStarsByNickname:f=>{if(!f.trim())return t;const d=f.toLowerCase();return t.filter(m=>m.nickname.toLowerCase().includes(d))}}}function dN(){const{stars:t,addStar:e,deleteStar:n,filterStarsByNickname:i}=fN(),[o,a]=U.useState(!1),[u,f]=U.useState([]),[d,m]=U.useState(""),[g,y]=U.useState(null),[E,A]=U.useState(t),M=B=>{const Z=e(B);a(!1),setTimeout(()=>{f(ne=>[...ne,Z.id])},100)},b=B=>{n(B),f(Z=>Z.filter(ne=>ne!==B)),g===B&&y(null)},k=B=>{const Z=B.target.value;if(m(Z),Z.trim()){const ne=i(Z);if(A(ne),ne.length>0){y(ne[0].id);const le=document.querySelector(`[data-star-id="${ne[0].id}"]`);le&&le.scrollIntoView({behavior:"smooth",block:"center"})}else y(null),ul.info("")}else A(t),y(null)},O=()=>{m(""),A(t),y(null)};U.useEffect(()=>{if(t.length>0){const B=setTimeout(()=>{f(t.map(Z=>Z.id))},500);return()=>clearTimeout(B)}},[t]),U.useEffect(()=>{d.trim()?A(i(d)):A(t)},[t,d,i]);const K=()=>new Intl.DateTimeFormat("zh-CN",{year:"numeric",month:"long",day:"numeric",hour:"2-digit",minute:"2-digit"}).format(new Date);return X.jsxs("div",{className:"min-h-screen w-full bg-gradient-to-b from-gray-900 to-black text-white overflow-hidden relative",children:[X.jsx(o2,{className:"fixed inset-0 z-0"}),X.jsxs("div",{className:"relative z-10 container mx-auto px-4 py-10 flex flex-col min-h-screen",children:[X.jsxs(Ut.div,{className:"text-center mb-6 pt-8",initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.8},children:[X.jsx("h1",{className:"text-4xl md:text-5xl font-bold mb-4 text-transparent bg-clip-text bg-gradient-to-r from-purple-400 to-blue-400",children:"JIEYOU"}),X.jsx("p",{className:"text-lg text-gray-300 max-w-2xl mx-auto",children:""}),X.jsxs("p",{className:"text-sm text-gray-400 mt-2",children:[K(),"   ",t.length," "]})]}),X.jsxs(Ut.div,{className:"max-w-md mx-auto mb-8",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.3},children:[X.jsxs("div",{className:"relative",children:[X.jsx("input",{type:"text",placeholder:"...",value:d,onChange:k,className:"w-full px-4 py-2 pl-10 bg-white/10 border border-white/20 rounded-lg text-white placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-white/30"}),X.jsx("i",{className:"fa-solid fa-search absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400"}),d&&X.jsx("button",{onClick:O,className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-400 hover:text-white",children:X.jsx("i",{className:"fa-solid fa-times-circle"})})]}),d&&X.jsxs("p",{className:"text-xs text-gray-400 mt-1 text-right",children:[" ",E.length," "]})]}),X.jsxs("div",{className:"relative flex-grow min-h-[400px] w-full my-8",children:[(d?E:t).map(B=>u.includes(B.id)&&X.jsx("div",{"data-star-id":B.id,children:X.jsx(l2,{star:B,onDelete:b,onFocus:()=>y(B.id),isHighlighted:g===B.id})},B.id)),t.length===0&&X.jsxs(Ut.div,{className:"absolute inset-0 flex flex-col items-center justify-center text-center p-4",initial:{opacity:0},animate:{opacity:1},transition:{delay:1,duration:.8},children:[X.jsx("div",{className:"text-6xl mb-4 text-gray-600",children:X.jsx("i",{className:"fa-solid fa-star"})}),X.jsx("h3",{className:"text-xl font-medium text-gray-300 mb-2",children:""}),X.jsx("p",{className:"text-gray-400 max-w-md mb-6",children:""})]}),d&&E.length===0&&t.length>0&&X.jsxs(Ut.div,{className:"absolute inset-0 flex flex-col items-center justify-center text-center p-4",initial:{opacity:0},animate:{opacity:1},transition:{duration:.3},children:[X.jsx("div",{className:"text-6xl mb-4 text-gray-600",children:X.jsx("i",{className:"fa-solid fa-search"})}),X.jsx("h3",{className:"text-xl font-medium text-gray-300 mb-2",children:""}),X.jsx("p",{className:"text-gray-400 max-w-md mb-6",children:""}),X.jsxs("button",{onClick:O,className:"px-4 py-2 bg-white/10 hover:bg-white/20 rounded-lg text-sm",children:[X.jsx("i",{className:"fa-solid fa-times mr-1"}),""]})]})]}),X.jsx("div",{className:"mb-12 max-w-md mx-auto",children:o?X.jsxs(Ut.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.9},className:"mb-6",children:[X.jsx(a2,{onSubmit:M}),X.jsxs("button",{className:"w-full mt-4 py-2 text-gray-300 hover:text-white transition-colors",onClick:()=>a(!1),children:[X.jsx("i",{className:"fa-solid fa-times mr-1"}),""]})]}):X.jsxs(Ut.button,{className:"w-full py-4 bg-gradient-to-r from-purple-600 to-blue-500 rounded-xl text-white font-bold text-lg hover:opacity-90 focus:outline-none focus:ring-2 focus:ring-white/30",onClick:()=>a(!0),whileHover:{scale:1.03},whileTap:{scale:.97},initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.5},children:[X.jsx("i",{className:"fa-solid fa-plus-circle mr-2"}),""]})}),X.jsxs("footer",{className:"text-center text-gray-500 text-sm py-6",children:[X.jsx("p",{children:"  "}),X.jsxs("div",{className:"mt-2 flex justify-center space-x-4",children:[X.jsx("a",{href:"#",className:"hover:text-gray-300 transition-colors",children:X.jsx("i",{className:"fa-brands fa-instagram"})}),X.jsx("a",{href:"#",className:"hover:text-gray-300 transition-colors",children:X.jsx("i",{className:"fa-brands fa-weixin"})}),X.jsx("a",{href:"#",className:"hover:text-gray-300 transition-colors",children:X.jsx("i",{className:"fa-brands fa-weibo"})})]})]})]})]})}const pN=U.createContext({isAuthenticated:!1,setIsAuthenticated:t=>{},logout:()=>{}});function mN(){const[t,e]=U.useState(!1),n=()=>{e(!1)};return X.jsx(pN.Provider,{value:{isAuthenticated:t,setIsAuthenticated:e,logout:n},children:X.jsxs(vx,{children:[X.jsx(fd,{path:"/",element:X.jsx(dN,{})}),X.jsx(fd,{path:"/other",element:X.jsx("div",{className:"text-center text-xl",children:"Other Page - Coming Soon"})})]})})}CS.createRoot(document.getElementById("root")).render(X.jsx(U.StrictMode,{children:X.jsxs(Ux,{children:[X.jsx(mN,{}),X.jsx(AA,{})]})}));
